var dC=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var K=(t,e,n)=>(dC(t,e,"read from private field"),n?n.call(t):e.get(t)),tt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ze=(t,e,n,r)=>(dC(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Ty=(t,e,n,r)=>({set _(i){ze(t,e,i,n)},get _(){return K(t,e,r)}}),Kn=(t,e,n)=>(dC(t,e,"access private method"),n);function kte(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s5={exports:{}},Fw={},a5={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=Symbol.for("react.element"),Ete=Symbol.for("react.portal"),Ate=Symbol.for("react.fragment"),Ote=Symbol.for("react.strict_mode"),Tte=Symbol.for("react.profiler"),Nte=Symbol.for("react.provider"),Pte=Symbol.for("react.context"),Mte=Symbol.for("react.forward_ref"),_te=Symbol.for("react.suspense"),jte=Symbol.for("react.memo"),$te=Symbol.for("react.lazy"),j$=Symbol.iterator;function Ite(t){return t===null||typeof t!="object"?null:(t=j$&&t[j$]||t["@@iterator"],typeof t=="function"?t:null)}var l5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c5=Object.assign,u5={};function Xf(t,e,n){this.props=t,this.context=e,this.refs=u5,this.updater=n||l5}Xf.prototype.isReactComponent={};Xf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d5(){}d5.prototype=Xf.prototype;function nP(t,e,n){this.props=t,this.context=e,this.refs=u5,this.updater=n||l5}var rP=nP.prototype=new d5;rP.constructor=nP;c5(rP,Xf.prototype);rP.isPureReactComponent=!0;var $$=Array.isArray,f5=Object.prototype.hasOwnProperty,iP={current:null},h5={key:!0,ref:!0,__self:!0,__source:!0};function p5(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)f5.call(e,r)&&!h5.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Wg,type:t,key:o,ref:s,props:i,_owner:iP.current}}function Rte(t,e){return{$$typeof:Wg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wg}function Dte(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I$=/\/+/g;function fC(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dte(""+t.key):e.toString(36)}function Hv(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Wg:case Ete:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+fC(s,0):r,$$(i)?(n="",t!=null&&(n=t.replace(I$,"$&/")+"/"),Hv(i,e,n,"",function(c){return c})):i!=null&&(oP(i)&&(i=Rte(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(I$,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",$$(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+fC(o,a);s+=Hv(o,e,n,l,i)}else if(l=Ite(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+fC(o,a++),s+=Hv(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Py(t,e,n){if(t==null)return t;var r=[],i=0;return Hv(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Lte(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Er={current:null},Uv={transition:null},Fte={ReactCurrentDispatcher:Er,ReactCurrentBatchConfig:Uv,ReactCurrentOwner:iP};function m5(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Py,forEach:function(t,e,n){Py(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Py(t,function(){e++}),e},toArray:function(t){return Py(t,function(e){return e})||[]},only:function(t){if(!oP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xe.Component=Xf;Xe.Fragment=Ate;Xe.Profiler=Tte;Xe.PureComponent=nP;Xe.StrictMode=Ote;Xe.Suspense=_te;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fte;Xe.act=m5;Xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=c5({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=iP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)f5.call(e,l)&&!h5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Wg,type:t.type,key:i,ref:o,props:r,_owner:s}};Xe.createContext=function(t){return t={$$typeof:Pte,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nte,_context:t},t.Consumer=t};Xe.createElement=p5;Xe.createFactory=function(t){var e=p5.bind(null,t);return e.type=t,e};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(t){return{$$typeof:Mte,render:t}};Xe.isValidElement=oP;Xe.lazy=function(t){return{$$typeof:$te,_payload:{_status:-1,_result:t},_init:Lte}};Xe.memo=function(t,e){return{$$typeof:jte,type:t,compare:e===void 0?null:e}};Xe.startTransition=function(t){var e=Uv.transition;Uv.transition={};try{t()}finally{Uv.transition=e}};Xe.unstable_act=m5;Xe.useCallback=function(t,e){return Er.current.useCallback(t,e)};Xe.useContext=function(t){return Er.current.useContext(t)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(t){return Er.current.useDeferredValue(t)};Xe.useEffect=function(t,e){return Er.current.useEffect(t,e)};Xe.useId=function(){return Er.current.useId()};Xe.useImperativeHandle=function(t,e,n){return Er.current.useImperativeHandle(t,e,n)};Xe.useInsertionEffect=function(t,e){return Er.current.useInsertionEffect(t,e)};Xe.useLayoutEffect=function(t,e){return Er.current.useLayoutEffect(t,e)};Xe.useMemo=function(t,e){return Er.current.useMemo(t,e)};Xe.useReducer=function(t,e,n){return Er.current.useReducer(t,e,n)};Xe.useRef=function(t){return Er.current.useRef(t)};Xe.useState=function(t){return Er.current.useState(t)};Xe.useSyncExternalStore=function(t,e,n){return Er.current.useSyncExternalStore(t,e,n)};Xe.useTransition=function(){return Er.current.useTransition()};Xe.version="18.3.1";a5.exports=Xe;var w=a5.exports;const M=lt(w),sP=kte({__proto__:null,default:M},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bte=w,zte=Symbol.for("react.element"),Vte=Symbol.for("react.fragment"),Wte=Object.prototype.hasOwnProperty,Hte=Bte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ute={key:!0,ref:!0,__self:!0,__source:!0};function g5(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Wte.call(e,r)&&!Ute.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zte,type:t,key:o,ref:s,props:i,_owner:Hte.current}}Fw.Fragment=Vte;Fw.jsx=g5;Fw.jsxs=g5;s5.exports=Fw;var m=s5.exports,y5={exports:{}},ci={},v5={exports:{}},b5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,L){var V=j.length;j.push(L);e:for(;0<V;){var U=V-1>>>1,G=j[U];if(0<i(G,L))j[U]=L,j[V]=G,V=U;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var L=j[0],V=j.pop();if(V!==L){j[0]=V;e:for(var U=0,G=j.length,ie=G>>>1;U<ie;){var Ce=2*(U+1)-1,Fe=j[Ce],Be=Ce+1,ae=j[Be];if(0>i(Fe,V))Be<G&&0>i(ae,Fe)?(j[U]=ae,j[Be]=V,U=Be):(j[U]=Fe,j[Ce]=V,U=Ce);else if(Be<G&&0>i(ae,V))j[U]=ae,j[Be]=V,U=Be;else break e}}return L}function i(j,L){var V=j.sortIndex-L.sortIndex;return V!==0?V:j.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=j)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function C(j){if(g=!1,x(j),!p)if(n(l)!==null)p=!0,R(S);else{var L=n(c);L!==null&&F(C,L.startTime-j)}}function S(j,L){p=!1,g&&(g=!1,v(A),A=-1),h=!0;var V=f;try{for(x(L),d=n(l);d!==null&&(!(d.expirationTime>L)||j&&!T());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var G=U(d.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),x(L)}else r(l);d=n(l)}if(d!==null)var ie=!0;else{var Ce=n(c);Ce!==null&&F(C,Ce.startTime-L),ie=!1}return ie}finally{d=null,f=V,h=!1}}var k=!1,E=null,A=-1,O=5,P=-1;function T(){return!(t.unstable_now()-P<O)}function N(){if(E!==null){var j=t.unstable_now();P=j;var L=!0;try{L=E(!0,j)}finally{L?$():(k=!1,E=null)}}else k=!1}var $;if(typeof b=="function")$=function(){b(N)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,I=_.port2;_.port1.onmessage=N,$=function(){I.postMessage(null)}}else $=function(){y(N,0)};function R(j){E=j,k||(k=!0,$())}function F(j,L){A=y(function(){j(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,R(S))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var V=f;f=L;try{return j()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=f;f=j;try{return L()}finally{f=V}},t.unstable_scheduleCallback=function(j,L,V){var U=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?U+V:U):V=U,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=V+G,j={id:u++,callback:L,priorityLevel:j,startTime:V,expirationTime:G,sortIndex:-1},V>U?(j.sortIndex=V,e(c,j),n(l)===null&&j===n(c)&&(g?(v(A),A=-1):g=!0,F(C,V-U))):(j.sortIndex=G,e(l,j),p||h||(p=!0,R(S))),j},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(j){var L=f;return function(){var V=f;f=L;try{return j.apply(this,arguments)}finally{f=V}}}})(b5);v5.exports=b5;var Kte=v5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gte=w,si=Kte;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x5=new Set,cm={};function Su(t,e){Jd(t,e),Jd(t+"Capture",e)}function Jd(t,e){for(cm[t]=e,t=0;t<e.length;t++)x5.add(e[t])}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),IE=Object.prototype.hasOwnProperty,qte=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R$={},D$={};function Yte(t){return IE.call(D$,t)?!0:IE.call(R$,t)?!1:qte.test(t)?D$[t]=!0:(R$[t]=!0,!1)}function Xte(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jte(t,e,n,r){if(e===null||typeof e>"u"||Xte(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ar(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Un[t]=new Ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Un[e]=new Ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Un[t]=new Ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Un[t]=new Ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Un[t]=new Ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Un[t]=new Ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Un[t]=new Ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Un[t]=new Ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Un[t]=new Ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var aP=/[\-:]([a-z])/g;function lP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aP,lP);Un[e]=new Ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aP,lP);Un[e]=new Ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aP,lP);Un[e]=new Ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Un[t]=new Ar(t,1,!1,t.toLowerCase(),null,!1,!1)});Un.xlinkHref=new Ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Un[t]=new Ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function cP(t,e,n,r){var i=Un.hasOwnProperty(e)?Un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jte(e,n,i,r)&&(n=null),r||i===null?Yte(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Js=Gte.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,My=Symbol.for("react.element"),sd=Symbol.for("react.portal"),ad=Symbol.for("react.fragment"),uP=Symbol.for("react.strict_mode"),RE=Symbol.for("react.profiler"),w5=Symbol.for("react.provider"),S5=Symbol.for("react.context"),dP=Symbol.for("react.forward_ref"),DE=Symbol.for("react.suspense"),LE=Symbol.for("react.suspense_list"),fP=Symbol.for("react.memo"),xa=Symbol.for("react.lazy"),C5=Symbol.for("react.offscreen"),L$=Symbol.iterator;function Ph(t){return t===null||typeof t!="object"?null:(t=L$&&t[L$]||t["@@iterator"],typeof t=="function"?t:null)}var Vt=Object.assign,hC;function rp(t){if(hC===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hC=e&&e[1]||""}return`
`+hC+t}var pC=!1;function mC(t,e){if(!t||pC)return"";pC=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{pC=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rp(t):""}function Zte(t){switch(t.tag){case 5:return rp(t.type);case 16:return rp("Lazy");case 13:return rp("Suspense");case 19:return rp("SuspenseList");case 0:case 2:case 15:return t=mC(t.type,!1),t;case 11:return t=mC(t.type.render,!1),t;case 1:return t=mC(t.type,!0),t;default:return""}}function FE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ad:return"Fragment";case sd:return"Portal";case RE:return"Profiler";case uP:return"StrictMode";case DE:return"Suspense";case LE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S5:return(t.displayName||"Context")+".Consumer";case w5:return(t._context.displayName||"Context")+".Provider";case dP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fP:return e=t.displayName||null,e!==null?e:FE(t.type)||"Memo";case xa:e=t._payload,t=t._init;try{return FE(t(e))}catch{}}return null}function Qte(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FE(e);case 8:return e===uP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function k5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ene(t){var e=k5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _y(t){t._valueTracker||(t._valueTracker=ene(t))}function E5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=k5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ob(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function BE(t,e){var n=e.checked;return Vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function F$(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function A5(t,e){e=e.checked,e!=null&&cP(t,"checked",e,!1)}function zE(t,e){A5(t,e);var n=gl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?VE(t,e.type,n):e.hasOwnProperty("defaultValue")&&VE(t,e.type,gl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function B$(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function VE(t,e,n){(e!=="number"||Ob(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ip=Array.isArray;function kd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function WE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function z$(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(ip(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gl(n)}}function O5(t,e){var n=gl(e.value),r=gl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function V$(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function T5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?T5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jy,N5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jy=jy||document.createElement("div"),jy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function um(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Op={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tne=["Webkit","ms","Moz","O"];Object.keys(Op).forEach(function(t){tne.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Op[e]=Op[t]})});function P5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Op.hasOwnProperty(t)&&Op[t]?(""+e).trim():e+"px"}function M5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=P5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nne=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UE(t,e){if(e){if(nne[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function KE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GE=null;function hP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qE=null,Ed=null,Ad=null;function W$(t){if(t=Kg(t)){if(typeof qE!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Hw(e),qE(t.stateNode,t.type,e))}}function _5(t){Ed?Ad?Ad.push(t):Ad=[t]:Ed=t}function j5(){if(Ed){var t=Ed,e=Ad;if(Ad=Ed=null,W$(t),e)for(t=0;t<e.length;t++)W$(e[t])}}function $5(t,e){return t(e)}function I5(){}var gC=!1;function R5(t,e,n){if(gC)return t(e,n);gC=!0;try{return $5(t,e,n)}finally{gC=!1,(Ed!==null||Ad!==null)&&(I5(),j5())}}function dm(t,e){var n=t.stateNode;if(n===null)return null;var r=Hw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var YE=!1;if(Fs)try{var Mh={};Object.defineProperty(Mh,"passive",{get:function(){YE=!0}}),window.addEventListener("test",Mh,Mh),window.removeEventListener("test",Mh,Mh)}catch{YE=!1}function rne(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Tp=!1,Tb=null,Nb=!1,XE=null,ine={onError:function(t){Tp=!0,Tb=t}};function one(t,e,n,r,i,o,s,a,l){Tp=!1,Tb=null,rne.apply(ine,arguments)}function sne(t,e,n,r,i,o,s,a,l){if(one.apply(this,arguments),Tp){if(Tp){var c=Tb;Tp=!1,Tb=null}else throw Error(Z(198));Nb||(Nb=!0,XE=c)}}function Cu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function D5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function H$(t){if(Cu(t)!==t)throw Error(Z(188))}function ane(t){var e=t.alternate;if(!e){if(e=Cu(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return H$(i),t;if(o===r)return H$(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function L5(t){return t=ane(t),t!==null?F5(t):null}function F5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F5(t);if(e!==null)return e;t=t.sibling}return null}var B5=si.unstable_scheduleCallback,U$=si.unstable_cancelCallback,lne=si.unstable_shouldYield,cne=si.unstable_requestPaint,Qt=si.unstable_now,une=si.unstable_getCurrentPriorityLevel,pP=si.unstable_ImmediatePriority,z5=si.unstable_UserBlockingPriority,Pb=si.unstable_NormalPriority,dne=si.unstable_LowPriority,V5=si.unstable_IdlePriority,Bw=null,zo=null;function fne(t){if(zo&&typeof zo.onCommitFiberRoot=="function")try{zo.onCommitFiberRoot(Bw,t,void 0,(t.current.flags&128)===128)}catch{}}var oo=Math.clz32?Math.clz32:mne,hne=Math.log,pne=Math.LN2;function mne(t){return t>>>=0,t===0?32:31-(hne(t)/pne|0)|0}var $y=64,Iy=4194304;function op(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mb(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=op(a):(o&=s,o!==0&&(r=op(o)))}else s=n&~i,s!==0?r=op(s):o!==0&&(r=op(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oo(e),i=1<<n,r|=t[n],e&=~i;return r}function gne(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yne(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-oo(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=gne(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function JE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W5(){var t=$y;return $y<<=1,!($y&4194240)&&($y=64),t}function yC(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oo(e),t[e]=n}function vne(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function mP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pt=0;function H5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var U5,gP,K5,G5,q5,ZE=!1,Ry=[],Ja=null,Za=null,Qa=null,fm=new Map,hm=new Map,Ta=[],bne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K$(t,e){switch(t){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":fm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hm.delete(e.pointerId)}}function _h(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Kg(e),e!==null&&gP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xne(t,e,n,r,i){switch(e){case"focusin":return Ja=_h(Ja,t,e,n,r,i),!0;case"dragenter":return Za=_h(Za,t,e,n,r,i),!0;case"mouseover":return Qa=_h(Qa,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return fm.set(o,_h(fm.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hm.set(o,_h(hm.get(o)||null,t,e,n,r,i)),!0}return!1}function Y5(t){var e=uc(t.target);if(e!==null){var n=Cu(e);if(n!==null){if(e=n.tag,e===13){if(e=D5(n),e!==null){t.blockedOn=e,q5(t.priority,function(){K5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=QE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);GE=r,n.target.dispatchEvent(r),GE=null}else return e=Kg(n),e!==null&&gP(e),t.blockedOn=n,!1;e.shift()}return!0}function G$(t,e,n){Kv(t)&&n.delete(e)}function wne(){ZE=!1,Ja!==null&&Kv(Ja)&&(Ja=null),Za!==null&&Kv(Za)&&(Za=null),Qa!==null&&Kv(Qa)&&(Qa=null),fm.forEach(G$),hm.forEach(G$)}function jh(t,e){t.blockedOn===e&&(t.blockedOn=null,ZE||(ZE=!0,si.unstable_scheduleCallback(si.unstable_NormalPriority,wne)))}function pm(t){function e(i){return jh(i,t)}if(0<Ry.length){jh(Ry[0],t);for(var n=1;n<Ry.length;n++){var r=Ry[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ja!==null&&jh(Ja,t),Za!==null&&jh(Za,t),Qa!==null&&jh(Qa,t),fm.forEach(e),hm.forEach(e),n=0;n<Ta.length;n++)r=Ta[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ta.length&&(n=Ta[0],n.blockedOn===null);)Y5(n),n.blockedOn===null&&Ta.shift()}var Od=Js.ReactCurrentBatchConfig,_b=!0;function Sne(t,e,n,r){var i=pt,o=Od.transition;Od.transition=null;try{pt=1,yP(t,e,n,r)}finally{pt=i,Od.transition=o}}function Cne(t,e,n,r){var i=pt,o=Od.transition;Od.transition=null;try{pt=4,yP(t,e,n,r)}finally{pt=i,Od.transition=o}}function yP(t,e,n,r){if(_b){var i=QE(t,e,n,r);if(i===null)OC(t,e,r,jb,n),K$(t,r);else if(xne(i,t,e,n,r))r.stopPropagation();else if(K$(t,r),e&4&&-1<bne.indexOf(t)){for(;i!==null;){var o=Kg(i);if(o!==null&&U5(o),o=QE(t,e,n,r),o===null&&OC(t,e,r,jb,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else OC(t,e,r,null,n)}}var jb=null;function QE(t,e,n,r){if(jb=null,t=hP(r),t=uc(t),t!==null)if(e=Cu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=D5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jb=t,null}function X5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(une()){case pP:return 1;case z5:return 4;case Pb:case dne:return 16;case V5:return 536870912;default:return 16}default:return 16}}var Ba=null,vP=null,Gv=null;function J5(){if(Gv)return Gv;var t,e=vP,n=e.length,r,i="value"in Ba?Ba.value:Ba.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Gv=i.slice(t,1<r?1-r:void 0)}function qv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dy(){return!0}function q$(){return!1}function ui(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Dy:q$,this.isPropagationStopped=q$,this}return Vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dy)},persist:function(){},isPersistent:Dy}),e}var Jf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bP=ui(Jf),Ug=Vt({},Jf,{view:0,detail:0}),kne=ui(Ug),vC,bC,$h,zw=Vt({},Ug,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$h&&($h&&t.type==="mousemove"?(vC=t.screenX-$h.screenX,bC=t.screenY-$h.screenY):bC=vC=0,$h=t),vC)},movementY:function(t){return"movementY"in t?t.movementY:bC}}),Y$=ui(zw),Ene=Vt({},zw,{dataTransfer:0}),Ane=ui(Ene),One=Vt({},Ug,{relatedTarget:0}),xC=ui(One),Tne=Vt({},Jf,{animationName:0,elapsedTime:0,pseudoElement:0}),Nne=ui(Tne),Pne=Vt({},Jf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mne=ui(Pne),_ne=Vt({},Jf,{data:0}),X$=ui(_ne),jne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$ne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ine={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rne(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ine[t])?!!e[t]:!1}function xP(){return Rne}var Dne=Vt({},Ug,{key:function(t){if(t.key){var e=jne[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$ne[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xP,charCode:function(t){return t.type==="keypress"?qv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lne=ui(Dne),Fne=Vt({},zw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J$=ui(Fne),Bne=Vt({},Ug,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xP}),zne=ui(Bne),Vne=Vt({},Jf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wne=ui(Vne),Hne=Vt({},zw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Une=ui(Hne),Kne=[9,13,27,32],wP=Fs&&"CompositionEvent"in window,Np=null;Fs&&"documentMode"in document&&(Np=document.documentMode);var Gne=Fs&&"TextEvent"in window&&!Np,Z5=Fs&&(!wP||Np&&8<Np&&11>=Np),Z$=String.fromCharCode(32),Q$=!1;function Q5(t,e){switch(t){case"keyup":return Kne.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ld=!1;function qne(t,e){switch(t){case"compositionend":return eV(e);case"keypress":return e.which!==32?null:(Q$=!0,Z$);case"textInput":return t=e.data,t===Z$&&Q$?null:t;default:return null}}function Yne(t,e){if(ld)return t==="compositionend"||!wP&&Q5(t,e)?(t=J5(),Gv=vP=Ba=null,ld=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z5&&e.locale!=="ko"?null:e.data;default:return null}}var Xne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xne[t.type]:e==="textarea"}function tV(t,e,n,r){_5(r),e=$b(e,"onChange"),0<e.length&&(n=new bP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pp=null,mm=null;function Jne(t){fV(t,0)}function Vw(t){var e=dd(t);if(E5(e))return t}function Zne(t,e){if(t==="change")return e}var nV=!1;if(Fs){var wC;if(Fs){var SC="oninput"in document;if(!SC){var tI=document.createElement("div");tI.setAttribute("oninput","return;"),SC=typeof tI.oninput=="function"}wC=SC}else wC=!1;nV=wC&&(!document.documentMode||9<document.documentMode)}function nI(){Pp&&(Pp.detachEvent("onpropertychange",rV),mm=Pp=null)}function rV(t){if(t.propertyName==="value"&&Vw(mm)){var e=[];tV(e,mm,t,hP(t)),R5(Jne,e)}}function Qne(t,e,n){t==="focusin"?(nI(),Pp=e,mm=n,Pp.attachEvent("onpropertychange",rV)):t==="focusout"&&nI()}function ere(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vw(mm)}function tre(t,e){if(t==="click")return Vw(e)}function nre(t,e){if(t==="input"||t==="change")return Vw(e)}function rre(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uo=typeof Object.is=="function"?Object.is:rre;function gm(t,e){if(uo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!IE.call(e,i)||!uo(t[i],e[i]))return!1}return!0}function rI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iI(t,e){var n=rI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rI(n)}}function iV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oV(){for(var t=window,e=Ob();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ob(t.document)}return e}function SP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ire(t){var e=oV(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iV(n.ownerDocument.documentElement,n)){if(r!==null&&SP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=iI(n,o);var s=iI(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ore=Fs&&"documentMode"in document&&11>=document.documentMode,cd=null,eA=null,Mp=null,tA=!1;function oI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tA||cd==null||cd!==Ob(r)||(r=cd,"selectionStart"in r&&SP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mp&&gm(Mp,r)||(Mp=r,r=$b(eA,"onSelect"),0<r.length&&(e=new bP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cd)))}function Ly(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ud={animationend:Ly("Animation","AnimationEnd"),animationiteration:Ly("Animation","AnimationIteration"),animationstart:Ly("Animation","AnimationStart"),transitionend:Ly("Transition","TransitionEnd")},CC={},sV={};Fs&&(sV=document.createElement("div").style,"AnimationEvent"in window||(delete ud.animationend.animation,delete ud.animationiteration.animation,delete ud.animationstart.animation),"TransitionEvent"in window||delete ud.transitionend.transition);function Ww(t){if(CC[t])return CC[t];if(!ud[t])return t;var e=ud[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sV)return CC[t]=e[n];return t}var aV=Ww("animationend"),lV=Ww("animationiteration"),cV=Ww("animationstart"),uV=Ww("transitionend"),dV=new Map,sI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pl(t,e){dV.set(t,e),Su(e,[t])}for(var kC=0;kC<sI.length;kC++){var EC=sI[kC],sre=EC.toLowerCase(),are=EC[0].toUpperCase()+EC.slice(1);Pl(sre,"on"+are)}Pl(aV,"onAnimationEnd");Pl(lV,"onAnimationIteration");Pl(cV,"onAnimationStart");Pl("dblclick","onDoubleClick");Pl("focusin","onFocus");Pl("focusout","onBlur");Pl(uV,"onTransitionEnd");Jd("onMouseEnter",["mouseout","mouseover"]);Jd("onMouseLeave",["mouseout","mouseover"]);Jd("onPointerEnter",["pointerout","pointerover"]);Jd("onPointerLeave",["pointerout","pointerover"]);Su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Su("onBeforeInput",["compositionend","keypress","textInput","paste"]);Su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lre=new Set("cancel close invalid load scroll toggle".split(" ").concat(sp));function aI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sne(r,e,void 0,t),t.currentTarget=null}function fV(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;aI(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;aI(i,a,c),o=l}}}if(Nb)throw t=XE,Nb=!1,XE=null,t}function Tt(t,e){var n=e[sA];n===void 0&&(n=e[sA]=new Set);var r=t+"__bubble";n.has(r)||(hV(e,t,2,!1),n.add(r))}function AC(t,e,n){var r=0;e&&(r|=4),hV(n,t,r,e)}var Fy="_reactListening"+Math.random().toString(36).slice(2);function ym(t){if(!t[Fy]){t[Fy]=!0,x5.forEach(function(n){n!=="selectionchange"&&(lre.has(n)||AC(n,!1,t),AC(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fy]||(e[Fy]=!0,AC("selectionchange",!1,e))}}function hV(t,e,n,r){switch(X5(e)){case 1:var i=Sne;break;case 4:i=Cne;break;default:i=yP}n=i.bind(null,e,n,t),i=void 0,!YE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function OC(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=uc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}R5(function(){var c=o,u=hP(n),d=[];e:{var f=dV.get(t);if(f!==void 0){var h=bP,p=t;switch(t){case"keypress":if(qv(n)===0)break e;case"keydown":case"keyup":h=Lne;break;case"focusin":p="focus",h=xC;break;case"focusout":p="blur",h=xC;break;case"beforeblur":case"afterblur":h=xC;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Y$;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ane;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=zne;break;case aV:case lV:case cV:h=Nne;break;case uV:h=Wne;break;case"scroll":h=kne;break;case"wheel":h=Une;break;case"copy":case"cut":case"paste":h=Mne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=J$}var g=(e&4)!==0,y=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var b=c,x;b!==null;){x=b;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,v!==null&&(C=dm(b,v),C!=null&&g.push(vm(b,C,x)))),y)break;b=b.return}0<g.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==GE&&(p=n.relatedTarget||n.fromElement)&&(uc(p)||p[Bs]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?uc(p):null,p!==null&&(y=Cu(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(g=Y$,C="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=J$,C="onPointerLeave",v="onPointerEnter",b="pointer"),y=h==null?f:dd(h),x=p==null?f:dd(p),f=new g(C,b+"leave",h,n,u),f.target=y,f.relatedTarget=x,C=null,uc(u)===c&&(g=new g(v,b+"enter",p,n,u),g.target=x,g.relatedTarget=y,C=g),y=C,h&&p)t:{for(g=h,v=p,b=0,x=g;x;x=Du(x))b++;for(x=0,C=v;C;C=Du(C))x++;for(;0<b-x;)g=Du(g),b--;for(;0<x-b;)v=Du(v),x--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=Du(g),v=Du(v)}g=null}else g=null;h!==null&&lI(d,f,h,g,!1),p!==null&&y!==null&&lI(d,y,p,g,!0)}}e:{if(f=c?dd(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=Zne;else if(eI(f))if(nV)S=nre;else{S=ere;var k=Qne}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=tre);if(S&&(S=S(t,c))){tV(d,S,n,u);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&VE(f,"number",f.value)}switch(k=c?dd(c):window,t){case"focusin":(eI(k)||k.contentEditable==="true")&&(cd=k,eA=c,Mp=null);break;case"focusout":Mp=eA=cd=null;break;case"mousedown":tA=!0;break;case"contextmenu":case"mouseup":case"dragend":tA=!1,oI(d,n,u);break;case"selectionchange":if(ore)break;case"keydown":case"keyup":oI(d,n,u)}var E;if(wP)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ld?Q5(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Z5&&n.locale!=="ko"&&(ld||A!=="onCompositionStart"?A==="onCompositionEnd"&&ld&&(E=J5()):(Ba=u,vP="value"in Ba?Ba.value:Ba.textContent,ld=!0)),k=$b(c,A),0<k.length&&(A=new X$(A,t,null,n,u),d.push({event:A,listeners:k}),E?A.data=E:(E=eV(n),E!==null&&(A.data=E)))),(E=Gne?qne(t,n):Yne(t,n))&&(c=$b(c,"onBeforeInput"),0<c.length&&(u=new X$("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}fV(d,e)})}function vm(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $b(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=dm(t,n),o!=null&&r.unshift(vm(t,o,i)),o=dm(t,e),o!=null&&r.push(vm(t,o,i))),t=t.return}return r}function Du(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lI(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=dm(n,o),l!=null&&s.unshift(vm(n,l,a))):i||(l=dm(n,o),l!=null&&s.push(vm(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var cre=/\r\n?/g,ure=/\u0000|\uFFFD/g;function cI(t){return(typeof t=="string"?t:""+t).replace(cre,`
`).replace(ure,"")}function By(t,e,n){if(e=cI(e),cI(t)!==e&&n)throw Error(Z(425))}function Ib(){}var nA=null,rA=null;function iA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oA=typeof setTimeout=="function"?setTimeout:void 0,dre=typeof clearTimeout=="function"?clearTimeout:void 0,uI=typeof Promise=="function"?Promise:void 0,fre=typeof queueMicrotask=="function"?queueMicrotask:typeof uI<"u"?function(t){return uI.resolve(null).then(t).catch(hre)}:oA;function hre(t){setTimeout(function(){throw t})}function TC(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pm(e)}function el(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zf=Math.random().toString(36).slice(2),No="__reactFiber$"+Zf,bm="__reactProps$"+Zf,Bs="__reactContainer$"+Zf,sA="__reactEvents$"+Zf,pre="__reactListeners$"+Zf,mre="__reactHandles$"+Zf;function uc(t){var e=t[No];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bs]||n[No]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dI(t);t!==null;){if(n=t[No])return n;t=dI(t)}return e}t=n,n=t.parentNode}return null}function Kg(t){return t=t[No]||t[Bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Hw(t){return t[bm]||null}var aA=[],fd=-1;function Ml(t){return{current:t}}function _t(t){0>fd||(t.current=aA[fd],aA[fd]=null,fd--)}function kt(t,e){fd++,aA[fd]=t.current,t.current=e}var yl={},nr=Ml(yl),Ir=Ml(!1),Gc=yl;function Zd(t,e){var n=t.type.contextTypes;if(!n)return yl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(t){return t=t.childContextTypes,t!=null}function Rb(){_t(Ir),_t(nr)}function fI(t,e,n){if(nr.current!==yl)throw Error(Z(168));kt(nr,e),kt(Ir,n)}function pV(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,Qte(t)||"Unknown",i));return Vt({},n,r)}function Db(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yl,Gc=nr.current,kt(nr,t),kt(Ir,Ir.current),!0}function hI(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=pV(t,e,Gc),r.__reactInternalMemoizedMergedChildContext=t,_t(Ir),_t(nr),kt(nr,t)):_t(Ir),kt(Ir,n)}var ws=null,Uw=!1,NC=!1;function mV(t){ws===null?ws=[t]:ws.push(t)}function gre(t){Uw=!0,mV(t)}function _l(){if(!NC&&ws!==null){NC=!0;var t=0,e=pt;try{var n=ws;for(pt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ws=null,Uw=!1}catch(i){throw ws!==null&&(ws=ws.slice(t+1)),B5(pP,_l),i}finally{pt=e,NC=!1}}return null}var hd=[],pd=0,Lb=null,Fb=0,Si=[],Ci=0,qc=null,Es=1,As="";function Zl(t,e){hd[pd++]=Fb,hd[pd++]=Lb,Lb=t,Fb=e}function gV(t,e,n){Si[Ci++]=Es,Si[Ci++]=As,Si[Ci++]=qc,qc=t;var r=Es;t=As;var i=32-oo(r)-1;r&=~(1<<i),n+=1;var o=32-oo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Es=1<<32-oo(e)+i|n<<i|r,As=o+t}else Es=1<<o|n<<i|r,As=t}function CP(t){t.return!==null&&(Zl(t,1),gV(t,1,0))}function kP(t){for(;t===Lb;)Lb=hd[--pd],hd[pd]=null,Fb=hd[--pd],hd[pd]=null;for(;t===qc;)qc=Si[--Ci],Si[Ci]=null,As=Si[--Ci],Si[Ci]=null,Es=Si[--Ci],Si[Ci]=null}var ei=null,Zr=null,It=!1,Qi=null;function yV(t,e){var n=Ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ei=t,Zr=el(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ei=t,Zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qc!==null?{id:Es,overflow:As}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ei=t,Zr=null,!0):!1;default:return!1}}function lA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cA(t){if(It){var e=Zr;if(e){var n=e;if(!pI(t,e)){if(lA(t))throw Error(Z(418));e=el(n.nextSibling);var r=ei;e&&pI(t,e)?yV(r,n):(t.flags=t.flags&-4097|2,It=!1,ei=t)}}else{if(lA(t))throw Error(Z(418));t.flags=t.flags&-4097|2,It=!1,ei=t}}}function mI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ei=t}function zy(t){if(t!==ei)return!1;if(!It)return mI(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iA(t.type,t.memoizedProps)),e&&(e=Zr)){if(lA(t))throw vV(),Error(Z(418));for(;e;)yV(t,e),e=el(e.nextSibling)}if(mI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zr=el(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zr=null}}else Zr=ei?el(t.stateNode.nextSibling):null;return!0}function vV(){for(var t=Zr;t;)t=el(t.nextSibling)}function Qd(){Zr=ei=null,It=!1}function EP(t){Qi===null?Qi=[t]:Qi.push(t)}var yre=Js.ReactCurrentBatchConfig;function Ih(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function Vy(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gI(t){var e=t._init;return e(t._payload)}function bV(t){function e(v,b){if(t){var x=v.deletions;x===null?(v.deletions=[b],v.flags|=16):x.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=il(v,b),v.index=0,v.sibling=null,v}function o(v,b,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<b?(v.flags|=2,b):x):(v.flags|=2,b)):(v.flags|=1048576,b)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,b,x,C){return b===null||b.tag!==6?(b=RC(x,v.mode,C),b.return=v,b):(b=i(b,x),b.return=v,b)}function l(v,b,x,C){var S=x.type;return S===ad?u(v,b,x.props.children,C,x.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xa&&gI(S)===b.type)?(C=i(b,x.props),C.ref=Ih(v,b,x),C.return=v,C):(C=tb(x.type,x.key,x.props,null,v.mode,C),C.ref=Ih(v,b,x),C.return=v,C)}function c(v,b,x,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=DC(x,v.mode,C),b.return=v,b):(b=i(b,x.children||[]),b.return=v,b)}function u(v,b,x,C,S){return b===null||b.tag!==7?(b=Mc(x,v.mode,C,S),b.return=v,b):(b=i(b,x),b.return=v,b)}function d(v,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=RC(""+b,v.mode,x),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case My:return x=tb(b.type,b.key,b.props,null,v.mode,x),x.ref=Ih(v,null,b),x.return=v,x;case sd:return b=DC(b,v.mode,x),b.return=v,b;case xa:var C=b._init;return d(v,C(b._payload),x)}if(ip(b)||Ph(b))return b=Mc(b,v.mode,x,null),b.return=v,b;Vy(v,b)}return null}function f(v,b,x,C){var S=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(v,b,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case My:return x.key===S?l(v,b,x,C):null;case sd:return x.key===S?c(v,b,x,C):null;case xa:return S=x._init,f(v,b,S(x._payload),C)}if(ip(x)||Ph(x))return S!==null?null:u(v,b,x,C,null);Vy(v,x)}return null}function h(v,b,x,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(x)||null,a(b,v,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case My:return v=v.get(C.key===null?x:C.key)||null,l(b,v,C,S);case sd:return v=v.get(C.key===null?x:C.key)||null,c(b,v,C,S);case xa:var k=C._init;return h(v,b,x,k(C._payload),S)}if(ip(C)||Ph(C))return v=v.get(x)||null,u(b,v,C,S,null);Vy(b,C)}return null}function p(v,b,x,C){for(var S=null,k=null,E=b,A=b=0,O=null;E!==null&&A<x.length;A++){E.index>A?(O=E,E=null):O=E.sibling;var P=f(v,E,x[A],C);if(P===null){E===null&&(E=O);break}t&&E&&P.alternate===null&&e(v,E),b=o(P,b,A),k===null?S=P:k.sibling=P,k=P,E=O}if(A===x.length)return n(v,E),It&&Zl(v,A),S;if(E===null){for(;A<x.length;A++)E=d(v,x[A],C),E!==null&&(b=o(E,b,A),k===null?S=E:k.sibling=E,k=E);return It&&Zl(v,A),S}for(E=r(v,E);A<x.length;A++)O=h(E,v,A,x[A],C),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?A:O.key),b=o(O,b,A),k===null?S=O:k.sibling=O,k=O);return t&&E.forEach(function(T){return e(v,T)}),It&&Zl(v,A),S}function g(v,b,x,C){var S=Ph(x);if(typeof S!="function")throw Error(Z(150));if(x=S.call(x),x==null)throw Error(Z(151));for(var k=S=null,E=b,A=b=0,O=null,P=x.next();E!==null&&!P.done;A++,P=x.next()){E.index>A?(O=E,E=null):O=E.sibling;var T=f(v,E,P.value,C);if(T===null){E===null&&(E=O);break}t&&E&&T.alternate===null&&e(v,E),b=o(T,b,A),k===null?S=T:k.sibling=T,k=T,E=O}if(P.done)return n(v,E),It&&Zl(v,A),S;if(E===null){for(;!P.done;A++,P=x.next())P=d(v,P.value,C),P!==null&&(b=o(P,b,A),k===null?S=P:k.sibling=P,k=P);return It&&Zl(v,A),S}for(E=r(v,E);!P.done;A++,P=x.next())P=h(E,v,A,P.value,C),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?A:P.key),b=o(P,b,A),k===null?S=P:k.sibling=P,k=P);return t&&E.forEach(function(N){return e(v,N)}),It&&Zl(v,A),S}function y(v,b,x,C){if(typeof x=="object"&&x!==null&&x.type===ad&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case My:e:{for(var S=x.key,k=b;k!==null;){if(k.key===S){if(S=x.type,S===ad){if(k.tag===7){n(v,k.sibling),b=i(k,x.props.children),b.return=v,v=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xa&&gI(S)===k.type){n(v,k.sibling),b=i(k,x.props),b.ref=Ih(v,k,x),b.return=v,v=b;break e}n(v,k);break}else e(v,k);k=k.sibling}x.type===ad?(b=Mc(x.props.children,v.mode,C,x.key),b.return=v,v=b):(C=tb(x.type,x.key,x.props,null,v.mode,C),C.ref=Ih(v,b,x),C.return=v,v=C)}return s(v);case sd:e:{for(k=x.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(v,b.sibling),b=i(b,x.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else e(v,b);b=b.sibling}b=DC(x,v.mode,C),b.return=v,v=b}return s(v);case xa:return k=x._init,y(v,b,k(x._payload),C)}if(ip(x))return p(v,b,x,C);if(Ph(x))return g(v,b,x,C);Vy(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,x),b.return=v,v=b):(n(v,b),b=RC(x,v.mode,C),b.return=v,v=b),s(v)):n(v,b)}return y}var ef=bV(!0),xV=bV(!1),Bb=Ml(null),zb=null,md=null,AP=null;function OP(){AP=md=zb=null}function TP(t){var e=Bb.current;_t(Bb),t._currentValue=e}function uA(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Td(t,e){zb=t,AP=md=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_r=!0),t.firstContext=null)}function Ri(t){var e=t._currentValue;if(AP!==t)if(t={context:t,memoizedValue:e,next:null},md===null){if(zb===null)throw Error(Z(308));md=t,zb.dependencies={lanes:0,firstContext:t}}else md=md.next=t;return e}var dc=null;function NP(t){dc===null?dc=[t]:dc.push(t)}function wV(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,NP(e)):(n.next=i.next,i.next=n),e.interleaved=n,zs(t,r)}function zs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wa=!1;function PP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zs(t,n)}return i=r.interleaved,i===null?(e.next=e,NP(r)):(e.next=i.next,i.next=e),r.interleaved=e,zs(t,n)}function Yv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mP(t,n)}}function yI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vb(t,e,n,r){var i=t.updateQueue;wa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(f=e,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Vt({},d,f);break e;case 2:wa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Xc|=s,t.lanes=s,t.memoizedState=d}}function vI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var Gg={},Vo=Ml(Gg),xm=Ml(Gg),wm=Ml(Gg);function fc(t){if(t===Gg)throw Error(Z(174));return t}function MP(t,e){switch(kt(wm,e),kt(xm,t),kt(Vo,Gg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:HE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=HE(e,t)}_t(Vo),kt(Vo,e)}function tf(){_t(Vo),_t(xm),_t(wm)}function CV(t){fc(wm.current);var e=fc(Vo.current),n=HE(e,t.type);e!==n&&(kt(xm,t),kt(Vo,n))}function _P(t){xm.current===t&&(_t(Vo),_t(xm))}var Ft=Ml(0);function Wb(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var PC=[];function jP(){for(var t=0;t<PC.length;t++)PC[t]._workInProgressVersionPrimary=null;PC.length=0}var Xv=Js.ReactCurrentDispatcher,MC=Js.ReactCurrentBatchConfig,Yc=0,zt=null,vn=null,An=null,Hb=!1,_p=!1,Sm=0,vre=0;function Gn(){throw Error(Z(321))}function $P(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!uo(t[n],e[n]))return!1;return!0}function IP(t,e,n,r,i,o){if(Yc=o,zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xv.current=t===null||t.memoizedState===null?Sre:Cre,t=n(r,i),_p){o=0;do{if(_p=!1,Sm=0,25<=o)throw Error(Z(301));o+=1,An=vn=null,e.updateQueue=null,Xv.current=kre,t=n(r,i)}while(_p)}if(Xv.current=Ub,e=vn!==null&&vn.next!==null,Yc=0,An=vn=zt=null,Hb=!1,e)throw Error(Z(300));return t}function RP(){var t=Sm!==0;return Sm=0,t}function So(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?zt.memoizedState=An=t:An=An.next=t,An}function Di(){if(vn===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=An===null?zt.memoizedState:An.next;if(e!==null)An=e,vn=t;else{if(t===null)throw Error(Z(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},An===null?zt.memoizedState=An=t:An=An.next=t}return An}function Cm(t,e){return typeof e=="function"?e(t):e}function _C(t){var e=Di(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=vn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Yc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,zt.lanes|=u,Xc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,uo(r,e.memoizedState)||(_r=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,zt.lanes|=o,Xc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jC(t){var e=Di(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);uo(o,e.memoizedState)||(_r=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function kV(){}function EV(t,e){var n=zt,r=Di(),i=e(),o=!uo(r.memoizedState,i);if(o&&(r.memoizedState=i,_r=!0),r=r.queue,DP(TV.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||An!==null&&An.memoizedState.tag&1){if(n.flags|=2048,km(9,OV.bind(null,n,r,i,e),void 0,null),Nn===null)throw Error(Z(349));Yc&30||AV(n,e,i)}return i}function AV(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function OV(t,e,n,r){e.value=n,e.getSnapshot=r,NV(e)&&PV(t)}function TV(t,e,n){return n(function(){NV(e)&&PV(t)})}function NV(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uo(t,n)}catch{return!0}}function PV(t){var e=zs(t,1);e!==null&&so(e,t,1,-1)}function bI(t){var e=So();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cm,lastRenderedState:t},e.queue=t,t=t.dispatch=wre.bind(null,zt,t),[e.memoizedState,t]}function km(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MV(){return Di().memoizedState}function Jv(t,e,n,r){var i=So();zt.flags|=t,i.memoizedState=km(1|e,n,void 0,r===void 0?null:r)}function Kw(t,e,n,r){var i=Di();r=r===void 0?null:r;var o=void 0;if(vn!==null){var s=vn.memoizedState;if(o=s.destroy,r!==null&&$P(r,s.deps)){i.memoizedState=km(e,n,o,r);return}}zt.flags|=t,i.memoizedState=km(1|e,n,o,r)}function xI(t,e){return Jv(8390656,8,t,e)}function DP(t,e){return Kw(2048,8,t,e)}function _V(t,e){return Kw(4,2,t,e)}function jV(t,e){return Kw(4,4,t,e)}function $V(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IV(t,e,n){return n=n!=null?n.concat([t]):null,Kw(4,4,$V.bind(null,e,t),n)}function LP(){}function RV(t,e){var n=Di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$P(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function DV(t,e){var n=Di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$P(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LV(t,e,n){return Yc&21?(uo(n,e)||(n=W5(),zt.lanes|=n,Xc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_r=!0),t.memoizedState=n)}function bre(t,e){var n=pt;pt=n!==0&&4>n?n:4,t(!0);var r=MC.transition;MC.transition={};try{t(!1),e()}finally{pt=n,MC.transition=r}}function FV(){return Di().memoizedState}function xre(t,e,n){var r=rl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BV(t))zV(e,n);else if(n=wV(t,e,n,r),n!==null){var i=wr();so(n,t,r,i),VV(n,e,r)}}function wre(t,e,n){var r=rl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BV(t))zV(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,uo(a,s)){var l=e.interleaved;l===null?(i.next=i,NP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wV(t,e,i,r),n!==null&&(i=wr(),so(n,t,r,i),VV(n,e,r))}}function BV(t){var e=t.alternate;return t===zt||e!==null&&e===zt}function zV(t,e){_p=Hb=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function VV(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mP(t,n)}}var Ub={readContext:Ri,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},Sre={readContext:Ri,useCallback:function(t,e){return So().memoizedState=[t,e===void 0?null:e],t},useContext:Ri,useEffect:xI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jv(4194308,4,$V.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jv(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jv(4,2,t,e)},useMemo:function(t,e){var n=So();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=So();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xre.bind(null,zt,t),[r.memoizedState,t]},useRef:function(t){var e=So();return t={current:t},e.memoizedState=t},useState:bI,useDebugValue:LP,useDeferredValue:function(t){return So().memoizedState=t},useTransition:function(){var t=bI(!1),e=t[0];return t=bre.bind(null,t[1]),So().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zt,i=So();if(It){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Nn===null)throw Error(Z(349));Yc&30||AV(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,xI(TV.bind(null,r,o,t),[t]),r.flags|=2048,km(9,OV.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=So(),e=Nn.identifierPrefix;if(It){var n=As,r=Es;n=(r&~(1<<32-oo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vre++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cre={readContext:Ri,useCallback:RV,useContext:Ri,useEffect:DP,useImperativeHandle:IV,useInsertionEffect:_V,useLayoutEffect:jV,useMemo:DV,useReducer:_C,useRef:MV,useState:function(){return _C(Cm)},useDebugValue:LP,useDeferredValue:function(t){var e=Di();return LV(e,vn.memoizedState,t)},useTransition:function(){var t=_C(Cm)[0],e=Di().memoizedState;return[t,e]},useMutableSource:kV,useSyncExternalStore:EV,useId:FV,unstable_isNewReconciler:!1},kre={readContext:Ri,useCallback:RV,useContext:Ri,useEffect:DP,useImperativeHandle:IV,useInsertionEffect:_V,useLayoutEffect:jV,useMemo:DV,useReducer:jC,useRef:MV,useState:function(){return jC(Cm)},useDebugValue:LP,useDeferredValue:function(t){var e=Di();return vn===null?e.memoizedState=t:LV(e,vn.memoizedState,t)},useTransition:function(){var t=jC(Cm)[0],e=Di().memoizedState;return[t,e]},useMutableSource:kV,useSyncExternalStore:EV,useId:FV,unstable_isNewReconciler:!1};function Ki(t,e){if(t&&t.defaultProps){e=Vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dA(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gw={isMounted:function(t){return(t=t._reactInternals)?Cu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wr(),i=rl(t),o=$s(r,i);o.payload=e,n!=null&&(o.callback=n),e=tl(t,o,i),e!==null&&(so(e,t,i,r),Yv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wr(),i=rl(t),o=$s(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=tl(t,o,i),e!==null&&(so(e,t,i,r),Yv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wr(),r=rl(t),i=$s(n,r);i.tag=2,e!=null&&(i.callback=e),e=tl(t,i,r),e!==null&&(so(e,t,r,n),Yv(e,t,r))}};function wI(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!gm(n,r)||!gm(i,o):!0}function WV(t,e,n){var r=!1,i=yl,o=e.contextType;return typeof o=="object"&&o!==null?o=Ri(o):(i=Rr(e)?Gc:nr.current,r=e.contextTypes,o=(r=r!=null)?Zd(t,i):yl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gw,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function SI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gw.enqueueReplaceState(e,e.state,null)}function fA(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},PP(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ri(o):(o=Rr(e)?Gc:nr.current,i.context=Zd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(dA(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gw.enqueueReplaceState(i,i.state,null),Vb(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nf(t,e){try{var n="",r=e;do n+=Zte(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $C(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ere=typeof WeakMap=="function"?WeakMap:Map;function HV(t,e,n){n=$s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gb||(Gb=!0,CA=r),hA(t,e)},n}function UV(t,e,n){n=$s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hA(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){hA(t,e),typeof r!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function CI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ere;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Fre.bind(null,t,e,n),e.then(t,t))}function kI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function EI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$s(-1,1),e.tag=2,tl(n,e,1))),n.lanes|=1),t)}var Are=Js.ReactCurrentOwner,_r=!1;function pr(t,e,n,r){e.child=t===null?xV(e,null,n,r):ef(e,t.child,n,r)}function AI(t,e,n,r,i){n=n.render;var o=e.ref;return Td(e,i),r=IP(t,e,n,r,o,i),n=RP(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i)):(It&&n&&CP(e),e.flags|=1,pr(t,e,r,i),e.child)}function OI(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!KP(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,KV(t,e,o,r,i)):(t=tb(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:gm,n(s,r)&&t.ref===e.ref)return Vs(t,e,i)}return e.flags|=1,t=il(o,r),t.ref=e.ref,t.return=e,e.child=t}function KV(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(gm(o,r)&&t.ref===e.ref)if(_r=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_r=!0);else return e.lanes=t.lanes,Vs(t,e,i)}return pA(t,e,n,r,i)}function GV(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(yd,Ur),Ur|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kt(yd,Ur),Ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,kt(yd,Ur),Ur|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,kt(yd,Ur),Ur|=r;return pr(t,e,i,n),e.child}function qV(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pA(t,e,n,r,i){var o=Rr(n)?Gc:nr.current;return o=Zd(e,o),Td(e,i),n=IP(t,e,n,r,o,i),r=RP(),t!==null&&!_r?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i)):(It&&r&&CP(e),e.flags|=1,pr(t,e,n,i),e.child)}function TI(t,e,n,r,i){if(Rr(n)){var o=!0;Db(e)}else o=!1;if(Td(e,i),e.stateNode===null)Zv(t,e),WV(e,n,r),fA(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ri(c):(c=Rr(n)?Gc:nr.current,c=Zd(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&SI(e,s,r,c),wa=!1;var f=e.memoizedState;s.state=f,Vb(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Ir.current||wa?(typeof u=="function"&&(dA(e,n,u,r),l=e.memoizedState),(a=wa||wI(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,SV(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ki(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ri(l):(l=Rr(n)?Gc:nr.current,l=Zd(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&SI(e,s,r,l),wa=!1,f=e.memoizedState,s.state=f,Vb(e,r,s,i);var p=e.memoizedState;a!==d||f!==p||Ir.current||wa?(typeof h=="function"&&(dA(e,n,h,r),p=e.memoizedState),(c=wa||wI(e,n,c,r,f,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mA(t,e,n,r,o,i)}function mA(t,e,n,r,i,o){qV(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&hI(e,n,!1),Vs(t,e,o);r=e.stateNode,Are.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ef(e,t.child,null,o),e.child=ef(e,null,a,o)):pr(t,e,a,o),e.memoizedState=r.state,i&&hI(e,n,!0),e.child}function YV(t){var e=t.stateNode;e.pendingContext?fI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fI(t,e.context,!1),MP(t,e.containerInfo)}function NI(t,e,n,r,i){return Qd(),EP(i),e.flags|=256,pr(t,e,n,r),e.child}var gA={dehydrated:null,treeContext:null,retryLane:0};function yA(t){return{baseLanes:t,cachePool:null,transitions:null}}function XV(t,e,n){var r=e.pendingProps,i=Ft.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kt(Ft,i&1),t===null)return cA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xw(s,r,0,null),t=Mc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=yA(n),e.memoizedState=gA,t):FP(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ore(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=il(a,o):(o=Mc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?yA(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=gA,r}return o=t.child,t=o.sibling,r=il(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function FP(t,e){return e=Xw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wy(t,e,n,r){return r!==null&&EP(r),ef(e,t.child,null,n),t=FP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ore(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=$C(Error(Z(422))),Wy(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Xw({mode:"visible",children:r.children},i,0,null),o=Mc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ef(e,t.child,null,s),e.child.memoizedState=yA(s),e.memoizedState=gA,o);if(!(e.mode&1))return Wy(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Z(419)),r=$C(o,r,void 0),Wy(t,e,s,r)}if(a=(s&t.childLanes)!==0,_r||a){if(r=Nn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,zs(t,i),so(r,t,i,-1))}return UP(),r=$C(Error(Z(421))),Wy(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Bre.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Zr=el(i.nextSibling),ei=e,It=!0,Qi=null,t!==null&&(Si[Ci++]=Es,Si[Ci++]=As,Si[Ci++]=qc,Es=t.id,As=t.overflow,qc=e),e=FP(e,r.children),e.flags|=4096,e)}function PI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uA(t.return,e,n)}function IC(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function JV(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(pr(t,e,r.children,n),r=Ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PI(t,n,e);else if(t.tag===19)PI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(kt(Ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wb(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),IC(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wb(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}IC(e,!0,n,null,o);break;case"together":IC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zv(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=il(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=il(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Tre(t,e,n){switch(e.tag){case 3:YV(e),Qd();break;case 5:CV(e);break;case 1:Rr(e.type)&&Db(e);break;case 4:MP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;kt(Bb,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kt(Ft,Ft.current&1),e.flags|=128,null):n&e.child.childLanes?XV(t,e,n):(kt(Ft,Ft.current&1),t=Vs(t,e,n),t!==null?t.sibling:null);kt(Ft,Ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JV(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Ft,Ft.current),r)break;return null;case 22:case 23:return e.lanes=0,GV(t,e,n)}return Vs(t,e,n)}var ZV,vA,QV,eW;ZV=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vA=function(){};QV=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fc(Vo.current);var o=null;switch(n){case"input":i=BE(t,i),r=BE(t,r),o=[];break;case"select":i=Vt({},i,{value:void 0}),r=Vt({},r,{value:void 0}),o=[];break;case"textarea":i=WE(t,i),r=WE(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ib)}UE(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cm.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};eW=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rh(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Nre(t,e,n){var r=e.pendingProps;switch(kP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qn(e),null;case 1:return Rr(e.type)&&Rb(),qn(e),null;case 3:return r=e.stateNode,tf(),_t(Ir),_t(nr),jP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(AA(Qi),Qi=null))),vA(t,e),qn(e),null;case 5:_P(e);var i=fc(wm.current);if(n=e.type,t!==null&&e.stateNode!=null)QV(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return qn(e),null}if(t=fc(Vo.current),zy(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[No]=e,r[bm]=o,t=(e.mode&1)!==0,n){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(i=0;i<sp.length;i++)Tt(sp[i],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":F$(r,o),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Tt("invalid",r);break;case"textarea":z$(r,o),Tt("invalid",r)}UE(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&By(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&By(r.textContent,a,t),i=["children",""+a]):cm.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Tt("scroll",r)}switch(n){case"input":_y(r),B$(r,o,!0);break;case"textarea":_y(r),V$(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ib)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=T5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[No]=e,t[bm]=r,ZV(t,e,!1,!1),e.stateNode=t;e:{switch(s=KE(n,r),n){case"dialog":Tt("cancel",t),Tt("close",t),i=r;break;case"iframe":case"object":case"embed":Tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<sp.length;i++)Tt(sp[i],t);i=r;break;case"source":Tt("error",t),i=r;break;case"img":case"image":case"link":Tt("error",t),Tt("load",t),i=r;break;case"details":Tt("toggle",t),i=r;break;case"input":F$(t,r),i=BE(t,r),Tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Vt({},r,{value:void 0}),Tt("invalid",t);break;case"textarea":z$(t,r),i=WE(t,r),Tt("invalid",t);break;default:i=r}UE(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?M5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N5(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&um(t,l):typeof l=="number"&&um(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(cm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Tt("scroll",t):l!=null&&cP(t,o,l,s))}switch(n){case"input":_y(t),B$(t,r,!1);break;case"textarea":_y(t),V$(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?kd(t,!!r.multiple,o,!1):r.defaultValue!=null&&kd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ib)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qn(e),null;case 6:if(t&&e.stateNode!=null)eW(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=fc(wm.current),fc(Vo.current),zy(e)){if(r=e.stateNode,n=e.memoizedProps,r[No]=e,(o=r.nodeValue!==n)&&(t=ei,t!==null))switch(t.tag){case 3:By(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&By(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[No]=e,e.stateNode=r}return qn(e),null;case 13:if(_t(Ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&Zr!==null&&e.mode&1&&!(e.flags&128))vV(),Qd(),e.flags|=98560,o=!1;else if(o=zy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[No]=e}else Qd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qn(e),o=!1}else Qi!==null&&(AA(Qi),Qi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?xn===0&&(xn=3):UP())),e.updateQueue!==null&&(e.flags|=4),qn(e),null);case 4:return tf(),vA(t,e),t===null&&ym(e.stateNode.containerInfo),qn(e),null;case 10:return TP(e.type._context),qn(e),null;case 17:return Rr(e.type)&&Rb(),qn(e),null;case 19:if(_t(Ft),o=e.memoizedState,o===null)return qn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Rh(o,!1);else{if(xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wb(t),s!==null){for(e.flags|=128,Rh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kt(Ft,Ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&Qt()>rf&&(e.flags|=128,r=!0,Rh(o,!1),e.lanes=4194304)}else{if(!r)if(t=Wb(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!It)return qn(e),null}else 2*Qt()-o.renderingStartTime>rf&&n!==1073741824&&(e.flags|=128,r=!0,Rh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Qt(),e.sibling=null,n=Ft.current,kt(Ft,r?n&1|2:n&1),e):(qn(e),null);case 22:case 23:return HP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ur&1073741824&&(qn(e),e.subtreeFlags&6&&(e.flags|=8192)):qn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function Pre(t,e){switch(kP(e),e.tag){case 1:return Rr(e.type)&&Rb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tf(),_t(Ir),_t(nr),jP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _P(e),null;case 13:if(_t(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Qd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(Ft),null;case 4:return tf(),null;case 10:return TP(e.type._context),null;case 22:case 23:return HP(),null;case 24:return null;default:return null}}var Hy=!1,Qn=!1,Mre=typeof WeakSet=="function"?WeakSet:Set,pe=null;function gd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qt(t,e,r)}else n.current=null}function bA(t,e,n){try{n()}catch(r){qt(t,e,r)}}var MI=!1;function _re(t,e){if(nA=_b,t=oV(),SP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rA={focusedElem:t,selectionRange:n},_b=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ki(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(C){qt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return p=MI,MI=!1,p}function jp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&bA(e,n,o)}i=i.next}while(i!==r)}}function qw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function xA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tW(t){var e=t.alternate;e!==null&&(t.alternate=null,tW(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[No],delete e[bm],delete e[sA],delete e[pre],delete e[mre])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nW(t){return t.tag===5||t.tag===3||t.tag===4}function _I(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nW(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ib));else if(r!==4&&(t=t.child,t!==null))for(wA(t,e,n),t=t.sibling;t!==null;)wA(t,e,n),t=t.sibling}function SA(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(SA(t,e,n),t=t.sibling;t!==null;)SA(t,e,n),t=t.sibling}var Rn=null,Xi=!1;function la(t,e,n){for(n=n.child;n!==null;)rW(t,e,n),n=n.sibling}function rW(t,e,n){if(zo&&typeof zo.onCommitFiberUnmount=="function")try{zo.onCommitFiberUnmount(Bw,n)}catch{}switch(n.tag){case 5:Qn||gd(n,e);case 6:var r=Rn,i=Xi;Rn=null,la(t,e,n),Rn=r,Xi=i,Rn!==null&&(Xi?(t=Rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(Xi?(t=Rn,n=n.stateNode,t.nodeType===8?TC(t.parentNode,n):t.nodeType===1&&TC(t,n),pm(t)):TC(Rn,n.stateNode));break;case 4:r=Rn,i=Xi,Rn=n.stateNode.containerInfo,Xi=!0,la(t,e,n),Rn=r,Xi=i;break;case 0:case 11:case 14:case 15:if(!Qn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&bA(n,e,s),i=i.next}while(i!==r)}la(t,e,n);break;case 1:if(!Qn&&(gd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qt(n,e,a)}la(t,e,n);break;case 21:la(t,e,n);break;case 22:n.mode&1?(Qn=(r=Qn)||n.memoizedState!==null,la(t,e,n),Qn=r):la(t,e,n);break;default:la(t,e,n)}}function jI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mre),e.forEach(function(r){var i=zre.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Rn=a.stateNode,Xi=!1;break e;case 3:Rn=a.stateNode.containerInfo,Xi=!0;break e;case 4:Rn=a.stateNode.containerInfo,Xi=!0;break e}a=a.return}if(Rn===null)throw Error(Z(160));rW(o,s,i),Rn=null,Xi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){qt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iW(e,t),e=e.sibling}function iW(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wi(e,t),wo(t),r&4){try{jp(3,t,t.return),qw(3,t)}catch(g){qt(t,t.return,g)}try{jp(5,t,t.return)}catch(g){qt(t,t.return,g)}}break;case 1:Wi(e,t),wo(t),r&512&&n!==null&&gd(n,n.return);break;case 5:if(Wi(e,t),wo(t),r&512&&n!==null&&gd(n,n.return),t.flags&32){var i=t.stateNode;try{um(i,"")}catch(g){qt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&A5(i,o),KE(a,s);var c=KE(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?M5(i,d):u==="dangerouslySetInnerHTML"?N5(i,d):u==="children"?um(i,d):cP(i,u,d,c)}switch(a){case"input":zE(i,o);break;case"textarea":O5(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?kd(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?kd(i,!!o.multiple,o.defaultValue,!0):kd(i,!!o.multiple,o.multiple?[]:"",!1))}i[bm]=o}catch(g){qt(t,t.return,g)}}break;case 6:if(Wi(e,t),wo(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){qt(t,t.return,g)}}break;case 3:if(Wi(e,t),wo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pm(e.containerInfo)}catch(g){qt(t,t.return,g)}break;case 4:Wi(e,t),wo(t);break;case 13:Wi(e,t),wo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(VP=Qt())),r&4&&jI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Qn=(c=Qn)||u,Wi(e,t),Qn=c):Wi(e,t),wo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(pe=t,u=t.child;u!==null;){for(d=pe=u;pe!==null;){switch(f=pe,h=f.child,f.tag){case 0:case 11:case 14:case 15:jp(4,f,f.return);break;case 1:gd(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){qt(r,n,g)}}break;case 5:gd(f,f.return);break;case 22:if(f.memoizedState!==null){II(d);continue}}h!==null?(h.return=f,pe=h):II(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=P5("display",s))}catch(g){qt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){qt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wi(e,t),wo(t),r&4&&jI(t);break;case 21:break;default:Wi(e,t),wo(t)}}function wo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nW(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(um(i,""),r.flags&=-33);var o=_I(t);SA(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=_I(t);wA(t,a,s);break;default:throw Error(Z(161))}}catch(l){qt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jre(t,e,n){pe=t,oW(t)}function oW(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var i=pe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Hy;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qn;a=Hy;var c=Qn;if(Hy=s,(Qn=l)&&!c)for(pe=i;pe!==null;)s=pe,l=s.child,s.tag===22&&s.memoizedState!==null?RI(i):l!==null?(l.return=s,pe=l):RI(i);for(;o!==null;)pe=o,oW(o),o=o.sibling;pe=i,Hy=a,Qn=c}$I(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pe=o):$I(t)}}function $I(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qn||qw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ki(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vI(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vI(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&pm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Qn||e.flags&512&&xA(e)}catch(f){qt(e,e.return,f)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function II(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function RI(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qw(4,e)}catch(l){qt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qt(e,i,l)}}var o=e.return;try{xA(e)}catch(l){qt(e,o,l)}break;case 5:var s=e.return;try{xA(e)}catch(l){qt(e,s,l)}}}catch(l){qt(e,e.return,l)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var $re=Math.ceil,Kb=Js.ReactCurrentDispatcher,BP=Js.ReactCurrentOwner,Pi=Js.ReactCurrentBatchConfig,Qe=0,Nn=null,cn=null,Hn=0,Ur=0,yd=Ml(0),xn=0,Em=null,Xc=0,Yw=0,zP=0,$p=null,Pr=null,VP=0,rf=1/0,vs=null,Gb=!1,CA=null,nl=null,Uy=!1,za=null,qb=0,Ip=0,kA=null,Qv=-1,eb=0;function wr(){return Qe&6?Qt():Qv!==-1?Qv:Qv=Qt()}function rl(t){return t.mode&1?Qe&2&&Hn!==0?Hn&-Hn:yre.transition!==null?(eb===0&&(eb=W5()),eb):(t=pt,t!==0||(t=window.event,t=t===void 0?16:X5(t.type)),t):1}function so(t,e,n,r){if(50<Ip)throw Ip=0,kA=null,Error(Z(185));Hg(t,n,r),(!(Qe&2)||t!==Nn)&&(t===Nn&&(!(Qe&2)&&(Yw|=n),xn===4&&Na(t,Hn)),Dr(t,r),n===1&&Qe===0&&!(e.mode&1)&&(rf=Qt()+500,Uw&&_l()))}function Dr(t,e){var n=t.callbackNode;yne(t,e);var r=Mb(t,t===Nn?Hn:0);if(r===0)n!==null&&U$(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&U$(n),e===1)t.tag===0?gre(DI.bind(null,t)):mV(DI.bind(null,t)),fre(function(){!(Qe&6)&&_l()}),n=null;else{switch(H5(r)){case 1:n=pP;break;case 4:n=z5;break;case 16:n=Pb;break;case 536870912:n=V5;break;default:n=Pb}n=hW(n,sW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sW(t,e){if(Qv=-1,eb=0,Qe&6)throw Error(Z(327));var n=t.callbackNode;if(Nd()&&t.callbackNode!==n)return null;var r=Mb(t,t===Nn?Hn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yb(t,r);else{e=r;var i=Qe;Qe|=2;var o=lW();(Nn!==t||Hn!==e)&&(vs=null,rf=Qt()+500,Pc(t,e));do try{Dre();break}catch(a){aW(t,a)}while(1);OP(),Kb.current=o,Qe=i,cn!==null?e=0:(Nn=null,Hn=0,e=xn)}if(e!==0){if(e===2&&(i=JE(t),i!==0&&(r=i,e=EA(t,i))),e===1)throw n=Em,Pc(t,0),Na(t,r),Dr(t,Qt()),n;if(e===6)Na(t,r);else{if(i=t.current.alternate,!(r&30)&&!Ire(i)&&(e=Yb(t,r),e===2&&(o=JE(t),o!==0&&(r=o,e=EA(t,o))),e===1))throw n=Em,Pc(t,0),Na(t,r),Dr(t,Qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:Ql(t,Pr,vs);break;case 3:if(Na(t,r),(r&130023424)===r&&(e=VP+500-Qt(),10<e)){if(Mb(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=oA(Ql.bind(null,t,Pr,vs),e);break}Ql(t,Pr,vs);break;case 4:if(Na(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-oo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$re(r/1960))-r,10<r){t.timeoutHandle=oA(Ql.bind(null,t,Pr,vs),r);break}Ql(t,Pr,vs);break;case 5:Ql(t,Pr,vs);break;default:throw Error(Z(329))}}}return Dr(t,Qt()),t.callbackNode===n?sW.bind(null,t):null}function EA(t,e){var n=$p;return t.current.memoizedState.isDehydrated&&(Pc(t,e).flags|=256),t=Yb(t,e),t!==2&&(e=Pr,Pr=n,e!==null&&AA(e)),t}function AA(t){Pr===null?Pr=t:Pr.push.apply(Pr,t)}function Ire(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!uo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Na(t,e){for(e&=~zP,e&=~Yw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oo(e),r=1<<n;t[n]=-1,e&=~r}}function DI(t){if(Qe&6)throw Error(Z(327));Nd();var e=Mb(t,0);if(!(e&1))return Dr(t,Qt()),null;var n=Yb(t,e);if(t.tag!==0&&n===2){var r=JE(t);r!==0&&(e=r,n=EA(t,r))}if(n===1)throw n=Em,Pc(t,0),Na(t,e),Dr(t,Qt()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ql(t,Pr,vs),Dr(t,Qt()),null}function WP(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(rf=Qt()+500,Uw&&_l())}}function Jc(t){za!==null&&za.tag===0&&!(Qe&6)&&Nd();var e=Qe;Qe|=1;var n=Pi.transition,r=pt;try{if(Pi.transition=null,pt=1,t)return t()}finally{pt=r,Pi.transition=n,Qe=e,!(Qe&6)&&_l()}}function HP(){Ur=yd.current,_t(yd)}function Pc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dre(n)),cn!==null)for(n=cn.return;n!==null;){var r=n;switch(kP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rb();break;case 3:tf(),_t(Ir),_t(nr),jP();break;case 5:_P(r);break;case 4:tf();break;case 13:_t(Ft);break;case 19:_t(Ft);break;case 10:TP(r.type._context);break;case 22:case 23:HP()}n=n.return}if(Nn=t,cn=t=il(t.current,null),Hn=Ur=e,xn=0,Em=null,zP=Yw=Xc=0,Pr=$p=null,dc!==null){for(e=0;e<dc.length;e++)if(n=dc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}dc=null}return t}function aW(t,e){do{var n=cn;try{if(OP(),Xv.current=Ub,Hb){for(var r=zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hb=!1}if(Yc=0,An=vn=zt=null,_p=!1,Sm=0,BP.current=null,n===null||n.return===null){xn=1,Em=e,cn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Hn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=kI(s);if(h!==null){h.flags&=-257,EI(h,s,a,o,e),h.mode&1&&CI(o,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){CI(o,c,e),UP();break e}l=Error(Z(426))}}else if(It&&a.mode&1){var y=kI(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),EI(y,s,a,o,e),EP(nf(l,a));break e}}o=l=nf(l,a),xn!==4&&(xn=2),$p===null?$p=[o]:$p.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=HV(o,l,e);yI(o,v);break e;case 1:a=l;var b=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(nl===null||!nl.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=UV(o,a,e);yI(o,C);break e}}o=o.return}while(o!==null)}uW(n)}catch(S){e=S,cn===n&&n!==null&&(cn=n=n.return);continue}break}while(1)}function lW(){var t=Kb.current;return Kb.current=Ub,t===null?Ub:t}function UP(){(xn===0||xn===3||xn===2)&&(xn=4),Nn===null||!(Xc&268435455)&&!(Yw&268435455)||Na(Nn,Hn)}function Yb(t,e){var n=Qe;Qe|=2;var r=lW();(Nn!==t||Hn!==e)&&(vs=null,Pc(t,e));do try{Rre();break}catch(i){aW(t,i)}while(1);if(OP(),Qe=n,Kb.current=r,cn!==null)throw Error(Z(261));return Nn=null,Hn=0,xn}function Rre(){for(;cn!==null;)cW(cn)}function Dre(){for(;cn!==null&&!lne();)cW(cn)}function cW(t){var e=fW(t.alternate,t,Ur);t.memoizedProps=t.pendingProps,e===null?uW(t):cn=e,BP.current=null}function uW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Pre(n,e),n!==null){n.flags&=32767,cn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xn=6,cn=null;return}}else if(n=Nre(n,e,Ur),n!==null){cn=n;return}if(e=e.sibling,e!==null){cn=e;return}cn=e=t}while(e!==null);xn===0&&(xn=5)}function Ql(t,e,n){var r=pt,i=Pi.transition;try{Pi.transition=null,pt=1,Lre(t,e,n,r)}finally{Pi.transition=i,pt=r}return null}function Lre(t,e,n,r){do Nd();while(za!==null);if(Qe&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(vne(t,o),t===Nn&&(cn=Nn=null,Hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uy||(Uy=!0,hW(Pb,function(){return Nd(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Pi.transition,Pi.transition=null;var s=pt;pt=1;var a=Qe;Qe|=4,BP.current=null,_re(t,n),iW(n,t),ire(rA),_b=!!nA,rA=nA=null,t.current=n,jre(n),cne(),Qe=a,pt=s,Pi.transition=o}else t.current=n;if(Uy&&(Uy=!1,za=t,qb=i),o=t.pendingLanes,o===0&&(nl=null),fne(n.stateNode),Dr(t,Qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gb)throw Gb=!1,t=CA,CA=null,t;return qb&1&&t.tag!==0&&Nd(),o=t.pendingLanes,o&1?t===kA?Ip++:(Ip=0,kA=t):Ip=0,_l(),null}function Nd(){if(za!==null){var t=H5(qb),e=Pi.transition,n=pt;try{if(Pi.transition=null,pt=16>t?16:t,za===null)var r=!1;else{if(t=za,za=null,qb=0,Qe&6)throw Error(Z(331));var i=Qe;for(Qe|=4,pe=t.current;pe!==null;){var o=pe,s=o.child;if(pe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(pe=c;pe!==null;){var u=pe;switch(u.tag){case 0:case 11:case 15:jp(8,u,o)}var d=u.child;if(d!==null)d.return=u,pe=d;else for(;pe!==null;){u=pe;var f=u.sibling,h=u.return;if(tW(u),u===c){pe=null;break}if(f!==null){f.return=h,pe=f;break}pe=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}pe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,pe=s;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:jp(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,pe=v;break e}pe=o.return}}var b=t.current;for(pe=b;pe!==null;){s=pe;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,pe=x;else e:for(s=b;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qw(9,a)}}catch(S){qt(a,a.return,S)}if(a===s){pe=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,pe=C;break e}pe=a.return}}if(Qe=i,_l(),zo&&typeof zo.onPostCommitFiberRoot=="function")try{zo.onPostCommitFiberRoot(Bw,t)}catch{}r=!0}return r}finally{pt=n,Pi.transition=e}}return!1}function LI(t,e,n){e=nf(n,e),e=HV(t,e,1),t=tl(t,e,1),e=wr(),t!==null&&(Hg(t,1,e),Dr(t,e))}function qt(t,e,n){if(t.tag===3)LI(t,t,n);else for(;e!==null;){if(e.tag===3){LI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nl===null||!nl.has(r))){t=nf(n,t),t=UV(e,t,1),e=tl(e,t,1),t=wr(),e!==null&&(Hg(e,1,t),Dr(e,t));break}}e=e.return}}function Fre(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wr(),t.pingedLanes|=t.suspendedLanes&n,Nn===t&&(Hn&n)===n&&(xn===4||xn===3&&(Hn&130023424)===Hn&&500>Qt()-VP?Pc(t,0):zP|=n),Dr(t,e)}function dW(t,e){e===0&&(t.mode&1?(e=Iy,Iy<<=1,!(Iy&130023424)&&(Iy=4194304)):e=1);var n=wr();t=zs(t,e),t!==null&&(Hg(t,e,n),Dr(t,n))}function Bre(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dW(t,n)}function zre(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),dW(t,n)}var fW;fW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)_r=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _r=!1,Tre(t,e,n);_r=!!(t.flags&131072)}else _r=!1,It&&e.flags&1048576&&gV(e,Fb,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zv(t,e),t=e.pendingProps;var i=Zd(e,nr.current);Td(e,n),i=IP(null,e,r,t,i,n);var o=RP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rr(r)?(o=!0,Db(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PP(e),i.updater=Gw,e.stateNode=i,i._reactInternals=e,fA(e,r,t,n),e=mA(null,e,r,!0,o,n)):(e.tag=0,It&&o&&CP(e),pr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zv(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Wre(r),t=Ki(r,t),i){case 0:e=pA(null,e,r,t,n);break e;case 1:e=TI(null,e,r,t,n);break e;case 11:e=AI(null,e,r,t,n);break e;case 14:e=OI(null,e,r,Ki(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ki(r,i),pA(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ki(r,i),TI(t,e,r,i,n);case 3:e:{if(YV(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,SV(t,e),Vb(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=nf(Error(Z(423)),e),e=NI(t,e,r,n,i);break e}else if(r!==i){i=nf(Error(Z(424)),e),e=NI(t,e,r,n,i);break e}else for(Zr=el(e.stateNode.containerInfo.firstChild),ei=e,It=!0,Qi=null,n=xV(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qd(),r===i){e=Vs(t,e,n);break e}pr(t,e,r,n)}e=e.child}return e;case 5:return CV(e),t===null&&cA(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,iA(r,i)?s=null:o!==null&&iA(r,o)&&(e.flags|=32),qV(t,e),pr(t,e,s,n),e.child;case 6:return t===null&&cA(e),null;case 13:return XV(t,e,n);case 4:return MP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ef(e,null,r,n):pr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ki(r,i),AI(t,e,r,i,n);case 7:return pr(t,e,e.pendingProps,n),e.child;case 8:return pr(t,e,e.pendingProps.children,n),e.child;case 12:return pr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,kt(Bb,r._currentValue),r._currentValue=s,o!==null)if(uo(o.value,s)){if(o.children===i.children&&!Ir.current){e=Vs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=$s(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),uA(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),uA(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}pr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Td(e,n),i=Ri(i),r=r(i),e.flags|=1,pr(t,e,r,n),e.child;case 14:return r=e.type,i=Ki(r,e.pendingProps),i=Ki(r.type,i),OI(t,e,r,i,n);case 15:return KV(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ki(r,i),Zv(t,e),e.tag=1,Rr(r)?(t=!0,Db(e)):t=!1,Td(e,n),WV(e,r,i),fA(e,r,i,n),mA(null,e,r,!0,t,n);case 19:return JV(t,e,n);case 22:return GV(t,e,n)}throw Error(Z(156,e.tag))};function hW(t,e){return B5(t,e)}function Vre(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(t,e,n,r){return new Vre(t,e,n,r)}function KP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wre(t){if(typeof t=="function")return KP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dP)return 11;if(t===fP)return 14}return 2}function il(t,e){var n=t.alternate;return n===null?(n=Ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tb(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")KP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ad:return Mc(n.children,i,o,e);case uP:s=8,i|=8;break;case RE:return t=Ai(12,n,e,i|2),t.elementType=RE,t.lanes=o,t;case DE:return t=Ai(13,n,e,i),t.elementType=DE,t.lanes=o,t;case LE:return t=Ai(19,n,e,i),t.elementType=LE,t.lanes=o,t;case C5:return Xw(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w5:s=10;break e;case S5:s=9;break e;case dP:s=11;break e;case fP:s=14;break e;case xa:s=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Ai(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Mc(t,e,n,r){return t=Ai(7,t,r,e),t.lanes=n,t}function Xw(t,e,n,r){return t=Ai(22,t,r,e),t.elementType=C5,t.lanes=n,t.stateNode={isHidden:!1},t}function RC(t,e,n){return t=Ai(6,t,null,e),t.lanes=n,t}function DC(t,e,n){return e=Ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hre(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yC(0),this.expirationTimes=yC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function GP(t,e,n,r,i,o,s,a,l){return t=new Hre(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ai(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PP(o),t}function Ure(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pW(t){if(!t)return yl;t=t._reactInternals;e:{if(Cu(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Rr(n))return pV(t,n,e)}return e}function mW(t,e,n,r,i,o,s,a,l){return t=GP(n,r,!0,t,i,o,s,a,l),t.context=pW(null),n=t.current,r=wr(),i=rl(n),o=$s(r,i),o.callback=e??null,tl(n,o,i),t.current.lanes=i,Hg(t,i,r),Dr(t,r),t}function Jw(t,e,n,r){var i=e.current,o=wr(),s=rl(i);return n=pW(n),e.context===null?e.context=n:e.pendingContext=n,e=$s(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tl(i,e,s),t!==null&&(so(t,i,s,o),Yv(t,i,s)),s}function Xb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qP(t,e){FI(t,e),(t=t.alternate)&&FI(t,e)}function Kre(){return null}var gW=typeof reportError=="function"?reportError:function(t){console.error(t)};function YP(t){this._internalRoot=t}Zw.prototype.render=YP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Jw(t,e,null,null)};Zw.prototype.unmount=YP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jc(function(){Jw(null,t,null,null)}),e[Bs]=null}};function Zw(t){this._internalRoot=t}Zw.prototype.unstable_scheduleHydration=function(t){if(t){var e=G5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ta.length&&e!==0&&e<Ta[n].priority;n++);Ta.splice(n,0,t),n===0&&Y5(t)}};function XP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function BI(){}function Gre(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Xb(s);o.call(c)}}var s=mW(e,r,t,0,null,!1,!1,"",BI);return t._reactRootContainer=s,t[Bs]=s.current,ym(t.nodeType===8?t.parentNode:t),Jc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Xb(l);a.call(c)}}var l=GP(t,0,!1,null,null,!1,!1,"",BI);return t._reactRootContainer=l,t[Bs]=l.current,ym(t.nodeType===8?t.parentNode:t),Jc(function(){Jw(e,l,n,r)}),l}function e1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Xb(s);a.call(l)}}Jw(e,s,t,i)}else s=Gre(n,e,t,i,r);return Xb(s)}U5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=op(e.pendingLanes);n!==0&&(mP(e,n|1),Dr(e,Qt()),!(Qe&6)&&(rf=Qt()+500,_l()))}break;case 13:Jc(function(){var r=zs(t,1);if(r!==null){var i=wr();so(r,t,1,i)}}),qP(t,1)}};gP=function(t){if(t.tag===13){var e=zs(t,134217728);if(e!==null){var n=wr();so(e,t,134217728,n)}qP(t,134217728)}};K5=function(t){if(t.tag===13){var e=rl(t),n=zs(t,e);if(n!==null){var r=wr();so(n,t,e,r)}qP(t,e)}};G5=function(){return pt};q5=function(t,e){var n=pt;try{return pt=t,e()}finally{pt=n}};qE=function(t,e,n){switch(e){case"input":if(zE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hw(r);if(!i)throw Error(Z(90));E5(r),zE(r,i)}}}break;case"textarea":O5(t,n);break;case"select":e=n.value,e!=null&&kd(t,!!n.multiple,e,!1)}};$5=WP;I5=Jc;var qre={usingClientEntryPoint:!1,Events:[Kg,dd,Hw,_5,j5,WP]},Dh={findFiberByHostInstance:uc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yre={bundleType:Dh.bundleType,version:Dh.version,rendererPackageName:Dh.rendererPackageName,rendererConfig:Dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=L5(t),t===null?null:t.stateNode},findFiberByHostInstance:Dh.findFiberByHostInstance||Kre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ky.isDisabled&&Ky.supportsFiber)try{Bw=Ky.inject(Yre),zo=Ky}catch{}}ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qre;ci.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XP(e))throw Error(Z(200));return Ure(t,e,null,n)};ci.createRoot=function(t,e){if(!XP(t))throw Error(Z(299));var n=!1,r="",i=gW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=GP(t,1,!1,null,null,n,!1,r,i),t[Bs]=e.current,ym(t.nodeType===8?t.parentNode:t),new YP(e)};ci.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=L5(e),t=t===null?null:t.stateNode,t};ci.flushSync=function(t){return Jc(t)};ci.hydrate=function(t,e,n){if(!Qw(e))throw Error(Z(200));return e1(null,t,e,!0,n)};ci.hydrateRoot=function(t,e,n){if(!XP(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=gW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=mW(e,null,t,1,n??null,i,!1,o,s),t[Bs]=e.current,ym(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zw(e)};ci.render=function(t,e,n){if(!Qw(e))throw Error(Z(200));return e1(null,t,e,!1,n)};ci.unmountComponentAtNode=function(t){if(!Qw(t))throw Error(Z(40));return t._reactRootContainer?(Jc(function(){e1(null,null,t,!1,function(){t._reactRootContainer=null,t[Bs]=null})}),!0):!1};ci.unstable_batchedUpdates=WP;ci.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qw(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return e1(t,e,n,!1,r)};ci.version="18.3.1-next-f1338f8080-20240426";function yW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yW)}catch(t){console.error(t)}}yW(),y5.exports=ci;var Zs=y5.exports;const JP=lt(Zs);var vW,zI=Zs;vW=zI.createRoot,zI.hydrateRoot;const Xre=1,Jre=1e6;let LC=0;function Zre(){return LC=(LC+1)%Number.MAX_SAFE_INTEGER,LC.toString()}const FC=new Map,VI=t=>{if(FC.has(t))return;const e=setTimeout(()=>{FC.delete(t),Rp({type:"REMOVE_TOAST",toastId:t})},Jre);FC.set(t,e)},Qre=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Xre)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?VI(n):t.toasts.forEach(r=>{VI(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},nb=[];let rb={toasts:[]};function Rp(t){rb=Qre(rb,t),nb.forEach(e=>{e(rb)})}function eie({...t}){const e=Zre(),n=i=>Rp({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Rp({type:"DISMISS_TOAST",toastId:e});return Rp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function mo(){const[t,e]=w.useState(rb);return w.useEffect(()=>(nb.push(e),()=>{const n=nb.indexOf(e);n>-1&&nb.splice(n,1)}),[t]),{...t,toast:eie,dismiss:n=>Rp({type:"DISMISS_TOAST",toastId:n})}}function xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function WI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function t1(...t){return e=>{let n=!1;const r=t.map(i=>{const o=WI(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():WI(t[i],null)}}}}function Re(...t){return w.useCallback(t1(...t),t)}function tie(t,e){const n=w.createContext(e),r=o=>{const{children:s,...a}=o,l=w.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=w.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Or(t,e=[]){let n=[];function r(o,s){const a=w.createContext(s),l=n.length;n=[...n,s];const c=d=>{var v;const{scope:f,children:h,...p}=d,g=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,y=w.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:y,children:h})};c.displayName=o+"Provider";function u(d,f){var g;const h=((g=f==null?void 0:f[t])==null?void 0:g[l])||a,p=w.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=n.map(s=>w.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,nie(i,...e)]}function nie(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(o)[`__scope${c}`];return{...a,...d}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Zc(t){const e=iie(t),n=w.forwardRef((r,i)=>{const{children:o,...s}=r,a=w.Children.toArray(o),l=a.find(sie);if(l){const c=l.props.children,u=a.map(d=>d===l?w.Children.count(c)>1?w.Children.only(null):w.isValidElement(c)?c.props.children:null:d);return m.jsx(e,{...s,ref:i,children:w.isValidElement(c)?w.cloneElement(c,void 0,u):null})}return m.jsx(e,{...s,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var rie=Zc("Slot");function iie(t){const e=w.forwardRef((n,r)=>{const{children:i,...o}=n;if(w.isValidElement(i)){const s=lie(i),a=aie(o,i.props);return i.type!==w.Fragment&&(a.ref=r?t1(r,s):s),w.cloneElement(i,a)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bW=Symbol("radix.slottable");function oie(t){const e=({children:n})=>m.jsx(m.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=bW,e}function sie(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bW}function aie(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function lie(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Qf(t){const e=t+"CollectionProvider",[n,r]=Or(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:y,children:v}=g,b=M.useRef(null),x=M.useRef(new Map).current;return m.jsx(i,{scope:y,itemMap:x,collectionRef:b,children:v})};s.displayName=e;const a=t+"CollectionSlot",l=Zc(a),c=M.forwardRef((g,y)=>{const{scope:v,children:b}=g,x=o(a,v),C=Re(y,x.collectionRef);return m.jsx(l,{ref:C,children:b})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=Zc(u),h=M.forwardRef((g,y)=>{const{scope:v,children:b,...x}=g,C=M.useRef(null),S=Re(y,C),k=o(u,v);return M.useEffect(()=>(k.itemMap.set(C,{ref:C,...x}),()=>void k.itemMap.delete(C))),m.jsx(f,{[d]:"",ref:S,children:b})});h.displayName=u;function p(g){const y=o(t+"CollectionConsumer",g);return M.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((k,E)=>x.indexOf(k.ref.current)-x.indexOf(E.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:c,ItemSlot:h},p,r]}var cie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=cie.reduce((t,e)=>{const n=Zc(`Primitive.${e}`),r=w.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function n1(t,e){t&&Zs.flushSync(()=>t.dispatchEvent(e))}function Sn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xW(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var uie="DismissableLayer",OA="dismissableLayer.update",die="dismissableLayer.pointerDownOutside",fie="dismissableLayer.focusOutside",HI,wW=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qg=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=w.useContext(wW),[u,d]=w.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=w.useState({}),p=Re(e,E=>d(E)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),b=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,C=b>=v,S=pie(E=>{const A=E.target,O=[...c.branches].some(P=>P.contains(A));!C||O||(i==null||i(E),s==null||s(E),E.defaultPrevented||a==null||a())},f),k=mie(E=>{const A=E.target;[...c.branches].some(P=>P.contains(A))||(o==null||o(E),s==null||s(E),E.defaultPrevented||a==null||a())},f);return xW(E=>{b===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),w.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(HI=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),UI(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=HI)}},[u,f,n,c]),w.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),UI())},[u,c]),w.useEffect(()=>{const E=()=>h({});return document.addEventListener(OA,E),()=>document.removeEventListener(OA,E)},[]),m.jsx(ye.div,{...l,ref:p,style:{pointerEvents:x?C?"auto":"none":void 0,...t.style},onFocusCapture:xe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:xe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:xe(t.onPointerDownCapture,S.onPointerDownCapture)})});qg.displayName=uie;var hie="DismissableLayerBranch",SW=w.forwardRef((t,e)=>{const n=w.useContext(wW),r=w.useRef(null),i=Re(e,r);return w.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),m.jsx(ye.div,{...t,ref:i})});SW.displayName=hie;function pie(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){CW(die,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function mie(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),r=w.useRef(!1);return w.useEffect(()=>{const i=o=>{o.target&&!r.current&&CW(fie,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UI(){const t=new CustomEvent(OA);document.dispatchEvent(t)}function CW(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?n1(i,o):i.dispatchEvent(o)}var gie=qg,yie=SW,Lt=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},vie="Portal",Yg=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=w.useState(!1);Lt(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?JP.createPortal(m.jsx(ye.div,{...r,ref:e}),s):null});Yg.displayName=vie;function bie(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var jl=t=>{const{present:e,children:n}=t,r=xie(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),o=Re(r.ref,wie(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:o}):null};jl.displayName="Presence";function xie(t){const[e,n]=w.useState(),r=w.useRef(null),i=w.useRef(t),o=w.useRef("none"),s=t?"mounted":"unmounted",[a,l]=bie(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=Gy(r.current);o.current=a==="mounted"?c:"none"},[a]),Lt(()=>{const c=r.current,u=i.current;if(u!==t){const f=o.current,h=Gy(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Lt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const g=Gy(r.current).includes(h.animationName);if(h.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=h=>{h.target===e&&(o.current=Gy(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Gy(t){return(t==null?void 0:t.animationName)||"none"}function wie(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Sie=sP[" useInsertionEffect ".trim().toString()]||Lt;function qo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,o,s]=Cie({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=w.useRef(t!==void 0);w.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=w.useCallback(u=>{var d;if(a){const f=kie(u)?u(t):u;f!==t&&((d=s.current)==null||d.call(s,f))}else o(u)},[a,t,o,s]);return[l,c]}function Cie({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),i=w.useRef(n),o=w.useRef(e);return Sie(()=>{o.current=e},[e]),w.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function kie(t){return typeof t=="function"}var kW=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Eie="VisuallyHidden",r1=w.forwardRef((t,e)=>m.jsx(ye.span,{...t,ref:e,style:{...kW,...t.style}}));r1.displayName=Eie;var Aie=r1,ZP="ToastProvider",[QP,Oie,Tie]=Qf("Toast"),[EW,Att]=Or("Toast",[Tie]),[Nie,i1]=EW(ZP),AW=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=w.useState(null),[c,u]=w.useState(0),d=w.useRef(!1),f=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ZP}\`. Expected non-empty \`string\`.`),m.jsx(QP.Provider,{scope:e,children:m.jsx(Nie,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:w.useCallback(()=>u(h=>h+1),[]),onToastRemove:w.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:s})})};AW.displayName=ZP;var OW="ToastViewport",Pie=["F8"],TA="toast.viewportPause",NA="toast.viewportResume",TW=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=Pie,label:i="Notifications ({hotkey})",...o}=t,s=i1(OW,n),a=Oie(n),l=w.useRef(null),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=Re(e,d,s.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;w.useEffect(()=>{const y=v=>{var x;r.length!==0&&r.every(C=>v[C]||v.code===C)&&((x=d.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),w.useEffect(()=>{const y=l.current,v=d.current;if(p&&y&&v){const b=()=>{if(!s.isClosePausedRef.current){const k=new CustomEvent(TA);v.dispatchEvent(k),s.isClosePausedRef.current=!0}},x=()=>{if(s.isClosePausedRef.current){const k=new CustomEvent(NA);v.dispatchEvent(k),s.isClosePausedRef.current=!1}},C=k=>{!y.contains(k.relatedTarget)&&x()},S=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",b),y.addEventListener("focusout",C),y.addEventListener("pointermove",b),y.addEventListener("pointerleave",S),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",b),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",b),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[p,s.isClosePausedRef]);const g=w.useCallback(({tabbingDirection:y})=>{const b=a().map(x=>{const C=x.ref.current,S=[C,...Wie(C)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?b.reverse():b).flat()},[a]);return w.useEffect(()=>{const y=d.current;if(y){const v=b=>{var S,k,E;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const A=document.activeElement,O=b.shiftKey;if(b.target===y&&O){(S=c.current)==null||S.focus();return}const N=g({tabbingDirection:O?"backwards":"forwards"}),$=N.findIndex(_=>_===A);BC(N.slice($+1))?b.preventDefault():O?(k=c.current)==null||k.focus():(E=u.current)==null||E.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[a,g]),m.jsxs(yie,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&m.jsx(PA,{ref:c,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});BC(y)}}),m.jsx(QP.Slot,{scope:n,children:m.jsx(ye.ol,{tabIndex:-1,...o,ref:f})}),p&&m.jsx(PA,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});BC(y)}})]})});TW.displayName=OW;var NW="ToastFocusProxy",PA=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=i1(NW,n);return m.jsx(r1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});PA.displayName=NW;var Xg="Toast",Mie="toast.swipeStart",_ie="toast.swipeMove",jie="toast.swipeCancel",$ie="toast.swipeEnd",PW=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a,l]=qo({prop:r,defaultProp:i??!0,onChange:o,caller:Xg});return m.jsx(jl,{present:n||a,children:m.jsx(Die,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Sn(t.onPause),onResume:Sn(t.onResume),onSwipeStart:xe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:xe(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:xe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:xe(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});PW.displayName=Xg;var[Iie,Rie]=EW(Xg,{onClose(){}}),Die=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...p}=t,g=i1(Xg,n),[y,v]=w.useState(null),b=Re(e,_=>v(_)),x=w.useRef(null),C=w.useRef(null),S=i||g.duration,k=w.useRef(0),E=w.useRef(S),A=w.useRef(0),{onToastAdd:O,onToastRemove:P}=g,T=Sn(()=>{var I;(y==null?void 0:y.contains(document.activeElement))&&((I=g.viewport)==null||I.focus()),s()}),N=w.useCallback(_=>{!_||_===1/0||(window.clearTimeout(A.current),k.current=new Date().getTime(),A.current=window.setTimeout(T,_))},[T]);w.useEffect(()=>{const _=g.viewport;if(_){const I=()=>{N(E.current),c==null||c()},R=()=>{const F=new Date().getTime()-k.current;E.current=E.current-F,window.clearTimeout(A.current),l==null||l()};return _.addEventListener(TA,R),_.addEventListener(NA,I),()=>{_.removeEventListener(TA,R),_.removeEventListener(NA,I)}}},[g.viewport,S,l,c,N]),w.useEffect(()=>{o&&!g.isClosePausedRef.current&&N(S)},[o,S,g.isClosePausedRef,N]),w.useEffect(()=>(O(),()=>P()),[O,P]);const $=w.useMemo(()=>y?DW(y):null,[y]);return g.viewport?m.jsxs(m.Fragment,{children:[$&&m.jsx(Lie,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),m.jsx(Iie,{scope:n,onClose:T,children:Zs.createPortal(m.jsx(QP.ItemSlot,{scope:n,children:m.jsx(gie,{asChild:!0,onEscapeKeyDown:xe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:xe(t.onKeyDown,_=>{_.key==="Escape"&&(a==null||a(_.nativeEvent),_.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:xe(t.onPointerDown,_=>{_.button===0&&(x.current={x:_.clientX,y:_.clientY})}),onPointerMove:xe(t.onPointerMove,_=>{if(!x.current)return;const I=_.clientX-x.current.x,R=_.clientY-x.current.y,F=!!C.current,j=["left","right"].includes(g.swipeDirection),L=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,V=j?L(0,I):0,U=j?0:L(0,R),G=_.pointerType==="touch"?10:2,ie={x:V,y:U},Ce={originalEvent:_,delta:ie};F?(C.current=ie,qy(_ie,d,Ce,{discrete:!1})):KI(ie,g.swipeDirection,G)?(C.current=ie,qy(Mie,u,Ce,{discrete:!1}),_.target.setPointerCapture(_.pointerId)):(Math.abs(I)>G||Math.abs(R)>G)&&(x.current=null)}),onPointerUp:xe(t.onPointerUp,_=>{const I=C.current,R=_.target;if(R.hasPointerCapture(_.pointerId)&&R.releasePointerCapture(_.pointerId),C.current=null,x.current=null,I){const F=_.currentTarget,j={originalEvent:_,delta:I};KI(I,g.swipeDirection,g.swipeThreshold)?qy($ie,h,j,{discrete:!0}):qy(jie,f,j,{discrete:!0}),F.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Lie=t=>{const{__scopeToast:e,children:n,...r}=t,i=i1(Xg,e),[o,s]=w.useState(!1),[a,l]=w.useState(!1);return zie(()=>s(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:m.jsx(Yg,{asChild:!0,children:m.jsx(r1,{...r,children:o&&m.jsxs(m.Fragment,{children:[i.label," ",n]})})})},Fie="ToastTitle",MW=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(ye.div,{...r,ref:e})});MW.displayName=Fie;var Bie="ToastDescription",_W=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(ye.div,{...r,ref:e})});_W.displayName=Bie;var jW="ToastAction",$W=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(RW,{altText:n,asChild:!0,children:m.jsx(eM,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jW}\`. Expected non-empty \`string\`.`),null)});$W.displayName=jW;var IW="ToastClose",eM=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=Rie(IW,n);return m.jsx(RW,{asChild:!0,children:m.jsx(ye.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,i.onClose)})})});eM.displayName=IW;var RW=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return m.jsx(ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function DW(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Vie(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...DW(r))}}),e}function qy(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?n1(i,o):i.dispatchEvent(o)}var KI=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function zie(t=()=>{}){const e=Sn(t);Lt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Vie(t){return t.nodeType===t.ELEMENT_NODE}function Wie(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function BC(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Hie=AW,LW=TW,FW=PW,BW=MW,zW=_W,VW=$W,WW=eM;function HW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=HW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ie(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=HW(t))&&(r&&(r+=" "),r+=e);return r}const GI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,qI=Ie,o1=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return qI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const f=GI(u)||GI(d);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(p=>{let[g,y]=p;return Array.isArray(y)?y.includes({...o,...a}[g]):{...o,...a}[g]===y})?[...c,d,f]:c},[]);return qI(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UW=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>w.createElement("svg",{ref:l,...Kie,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:UW("lucide",i),...a},[...s.map(([c,u])=>w.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(t,e)=>{const n=w.forwardRef(({className:r,...i},o)=>w.createElement(Gie,{ref:o,iconNode:e,className:UW(`lucide-${Uie(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=ue("AlignCenter",[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=ue("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=ue("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=ue("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=ue("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=ue("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=ue("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=ue("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=ue("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=ue("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=ue("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ue("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=ue("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=ue("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=ue("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=ue("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=ue("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=ue("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=ue("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=ue("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=ue("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=ue("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=ue("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=ue("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=ue("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=ue("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=ue("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=ue("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=ue("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=ue("Space",[["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=ue("Split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=ue("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=ue("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=ue("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=ue("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=ue("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=ue("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=ue("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),sM="-",Loe=t=>{const e=Boe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(sM);return a[0]===""&&a.length!==1&&a.shift(),oH(a,e)||Foe(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},oH=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?oH(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(sM);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},XI=/^\[(.+)\]$/,Foe=t=>{if(XI.test(t)){const e=XI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Boe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Voe(Object.entries(t.classGroups),n).forEach(([o,s])=>{MA(s,r,o,e)}),r},MA=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:JI(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(zoe(i)){MA(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{MA(s,JI(e,o),n,r)})})},JI=(t,e)=>{let n=t;return e.split(sM).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zoe=t=>t.isThemeGetter,Voe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,Woe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},sH="!",Hoe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,u=0,d;for(let y=0;y<a.length;y++){let v=a[y];if(c===0){if(v===i&&(r||a.slice(y,y+o)===e)){l.push(a.slice(u,y)),u=y+o;continue}if(v==="/"){d=y;continue}}v==="["?c++:v==="]"&&c--}const f=l.length===0?a:a.substring(u),h=f.startsWith(sH),p=h?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},Uoe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Koe=t=>({cache:Woe(t.cacheSize),parseClassName:Hoe(t),...Loe(t)}),Goe=/\s+/,qoe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(Goe);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let p=!!h,g=r(p?f.substring(0,h):f);if(!g){if(!p){a=c+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=c+(a.length>0?" "+a:a);continue}p=!1}const y=Uoe(u).join(":"),v=d?y+sH:y,b=v+g;if(o.includes(b))continue;o.push(b);const x=i(g,p);for(let C=0;C<x.length;++C){const S=x[C];o.push(v+S)}a=c+(a.length>0?" "+a:a)}return a};function Yoe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aH(e))&&(r&&(r+=" "),r+=n);return r}const aH=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aH(t[r]))&&(n&&(n+=" "),n+=e);return n};function Xoe(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((u,d)=>d(u),t());return n=Koe(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=qoe(l,n);return i(l,u),u}return function(){return o(Yoe.apply(null,arguments))}}const Ot=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lH=/^\[(?:([a-z-]+):)?(.+)\]$/i,Joe=/^\d+\/\d+$/,Zoe=new Set(["px","full","screen"]),Qoe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ese=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,as=t=>Md(t)||Zoe.has(t)||Joe.test(t),ca=t=>th(t,"length",dse),Md=t=>!!t&&!Number.isNaN(Number(t)),zC=t=>th(t,"number",Md),Lh=t=>!!t&&Number.isInteger(Number(t)),ise=t=>t.endsWith("%")&&Md(t.slice(0,-1)),He=t=>lH.test(t),ua=t=>Qoe.test(t),ose=new Set(["length","size","percentage"]),sse=t=>th(t,ose,cH),ase=t=>th(t,"position",cH),lse=new Set(["image","url"]),cse=t=>th(t,lse,hse),use=t=>th(t,"",fse),Fh=()=>!0,th=(t,e,n)=>{const r=lH.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},dse=t=>ese.test(t)&&!tse.test(t),cH=()=>!1,fse=t=>nse.test(t),hse=t=>rse.test(t),pse=()=>{const t=Ot("colors"),e=Ot("spacing"),n=Ot("blur"),r=Ot("brightness"),i=Ot("borderColor"),o=Ot("borderRadius"),s=Ot("borderSpacing"),a=Ot("borderWidth"),l=Ot("contrast"),c=Ot("grayscale"),u=Ot("hueRotate"),d=Ot("invert"),f=Ot("gap"),h=Ot("gradientColorStops"),p=Ot("gradientColorStopPositions"),g=Ot("inset"),y=Ot("margin"),v=Ot("opacity"),b=Ot("padding"),x=Ot("saturate"),C=Ot("scale"),S=Ot("sepia"),k=Ot("skew"),E=Ot("space"),A=Ot("translate"),O=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",He,e],N=()=>[He,e],$=()=>["",as,ca],_=()=>["auto",Md,He],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",He],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Md,He];return{cacheSize:500,separator:":",theme:{colors:[Fh],spacing:[as,ca],blur:["none","",ua,He],brightness:U(),borderColor:[t],borderRadius:["none","","full",ua,He],borderSpacing:N(),borderWidth:$(),contrast:U(),grayscale:L(),hueRotate:U(),invert:L(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[ise,ca],inset:T(),margin:T(),opacity:U(),padding:N(),saturate:U(),scale:U(),sepia:L(),skew:U(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[ua]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),He]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lh,He]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Lh,He]}],"grid-cols":[{"grid-cols":[Fh]}],"col-start-end":[{col:["auto",{span:["full",Lh,He]},He]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[Fh]}],"row-start-end":[{row:["auto",{span:[Lh,He]},He]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,e]}],"min-w":[{"min-w":[He,e,"min","max","fit"]}],"max-w":[{"max-w":[He,e,"none","full","min","max","fit","prose",{screen:[ua]},ua]}],h:[{h:[He,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ua,ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zC]}],"font-family":[{font:[Fh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",Md,zC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",as,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",as,ca]}],"underline-offset":[{"underline-offset":["auto",as,He]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),ase]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sse]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cse]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[as,He]}],"outline-w":[{outline:[as,ca]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[as,ca]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ua,use]}],"shadow-color":[{shadow:[Fh]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ua,He]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Lh,He]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[as,ca,zC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mse=Xoe(pse);function ce(...t){return mse(Ie(t))}const gse=Hie,uH=w.forwardRef(({className:t,...e},n)=>m.jsx(LW,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));uH.displayName=LW.displayName;const yse=o1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dH=w.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(FW,{ref:r,className:ce(yse({variant:e}),t),...n}));dH.displayName=FW.displayName;const vse=w.forwardRef(({className:t,...e},n)=>m.jsx(VW,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));vse.displayName=VW.displayName;const fH=w.forwardRef(({className:t,...e},n)=>m.jsx(WW,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(iH,{className:"h-4 w-4"})}));fH.displayName=WW.displayName;const hH=w.forwardRef(({className:t,...e},n)=>m.jsx(BW,{ref:n,className:ce("text-sm font-semibold",t),...e}));hH.displayName=BW.displayName;const pH=w.forwardRef(({className:t,...e},n)=>m.jsx(zW,{ref:n,className:ce("text-sm opacity-90",t),...e}));pH.displayName=zW.displayName;function bse(){const{toasts:t}=mo();return m.jsxs(gse,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return m.jsxs(dH,{...o,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(hH,{children:n}),r&&m.jsx(pH,{children:r})]}),i,m.jsx(fH,{})]},e)}),m.jsx(uH,{})]})}let xse={data:""},wse=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||xse},Sse=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Cse=/\/\*[^]*?\*\/|  +/g,ZI=/\n+/g,Pa=(t,e)=>{let n="",r="",i="";for(let o in t){let s=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+s+";":r+=o[1]=="f"?Pa(s,o):o+"{"+Pa(s,o[1]=="k"?"":e)+"}":typeof s=="object"?r+=Pa(s,e?e.replace(/([^,])+/g,a=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):s!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Pa.p?Pa.p(o,s):o+":"+s+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ls={},mH=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+mH(t[n]);return e}return t},kse=(t,e,n,r,i)=>{let o=mH(t),s=ls[o]||(ls[o]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(o));if(!ls[s]){let l=o!==t?t:(c=>{let u,d,f=[{}];for(;u=Sse.exec(c.replace(Cse,""));)u[4]?f.shift():u[3]?(d=u[3].replace(ZI," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(ZI," ").trim();return f[0]})(t);ls[s]=Pa(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&ls.g?ls.g:null;return n&&(ls.g=ls[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(ls[s],e,r,a),s},Ese=(t,e,n)=>t.reduce((r,i,o)=>{let s=e[o];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":Pa(a,""):a===!1?"":a}return r+i+(s??"")},"");function f1(t){let e=this||{},n=t.call?t(e.p):t;return kse(n.unshift?n.raw?Ese(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,wse(e.target),e.g,e.o,e.k)}let gH,_A,jA;f1.bind({g:1});let Ws=f1.bind({k:1});function Ase(t,e,n,r){Pa.p=e,gH=t,_A=n,jA=r}function $l(t,e){let n=this||{};return function(){let r=arguments;function i(o,s){let a=Object.assign({},o),l=a.className||i.className;n.p=Object.assign({theme:_A&&_A()},a),n.o=/ *go\d+/.test(l),a.className=f1.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),jA&&c[0]&&jA(a),gH(c,a)}return e?e(i):i}}var Ose=t=>typeof t=="function",Zb=(t,e)=>Ose(t)?t(e):t,Tse=(()=>{let t=0;return()=>(++t).toString()})(),yH=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),Nse=20,aM="default",vH=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return vH(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+o}))}}},ib=[],bH={toasts:[],pausedAt:void 0,settings:{toastLimit:Nse}},jo={},xH=(t,e=aM)=>{jo[e]=vH(jo[e]||bH,t),ib.forEach(([n,r])=>{n===e&&r(jo[e])})},wH=t=>Object.keys(jo).forEach(e=>xH(t,e)),Pse=t=>Object.keys(jo).find(e=>jo[e].toasts.some(n=>n.id===t)),h1=(t=aM)=>e=>{xH(e,t)},Mse={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_se=(t={},e=aM)=>{let[n,r]=w.useState(jo[e]||bH),i=w.useRef(jo[e]);w.useEffect(()=>(i.current!==jo[e]&&r(jo[e]),ib.push([e,r]),()=>{let s=ib.findIndex(([a])=>a===e);s>-1&&ib.splice(s,1)}),[e]);let o=n.toasts.map(s=>{var a,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((a=t[s.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||Mse[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...n,toasts:o}},jse=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Tse()}),Jg=t=>(e,n)=>{let r=jse(e,t,n);return h1(r.toasterId||Pse(r.id))({type:2,toast:r}),r.id},en=(t,e)=>Jg("blank")(t,e);en.error=Jg("error");en.success=Jg("success");en.loading=Jg("loading");en.custom=Jg("custom");en.dismiss=(t,e)=>{let n={type:3,toastId:t};e?h1(e)(n):wH(n)};en.dismissAll=t=>en.dismiss(void 0,t);en.remove=(t,e)=>{let n={type:4,toastId:t};e?h1(e)(n):wH(n)};en.removeAll=t=>en.remove(void 0,t);en.promise=(t,e,n)=>{let r=en.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let o=e.success?Zb(e.success,i):void 0;return o?en.success(o,{id:r,...n,...n==null?void 0:n.success}):en.dismiss(r),i}).catch(i=>{let o=e.error?Zb(e.error,i):void 0;o?en.error(o,{id:r,...n,...n==null?void 0:n.error}):en.dismiss(r)}),t};var $se=1e3,Ise=(t,e="default")=>{let{toasts:n,pausedAt:r}=_se(t,e),i=w.useRef(new Map).current,o=w.useCallback((d,f=$se)=>{if(i.has(d))return;let h=setTimeout(()=>{i.delete(d),s({type:4,toastId:d})},f);i.set(d,h)},[]);w.useEffect(()=>{if(r)return;let d=Date.now(),f=n.map(h=>{if(h.duration===1/0)return;let p=(h.duration||0)+h.pauseDuration-(d-h.createdAt);if(p<0){h.visible&&en.dismiss(h.id);return}return setTimeout(()=>en.dismiss(h.id,e),p)});return()=>{f.forEach(h=>h&&clearTimeout(h))}},[n,r,e]);let s=w.useCallback(h1(e),[e]),a=w.useCallback(()=>{s({type:5,time:Date.now()})},[s]),l=w.useCallback((d,f)=>{s({type:1,toast:{id:d,height:f}})},[s]),c=w.useCallback(()=>{r&&s({type:6,time:Date.now()})},[r,s]),u=w.useCallback((d,f)=>{let{reverseOrder:h=!1,gutter:p=8,defaultPosition:g}=f||{},y=n.filter(x=>(x.position||g)===(d.position||g)&&x.height),v=y.findIndex(x=>x.id===d.id),b=y.filter((x,C)=>C<v&&x.visible).length;return y.filter(x=>x.visible).slice(...h?[b+1]:[0,b]).reduce((x,C)=>x+(C.height||0)+p,0)},[n]);return w.useEffect(()=>{n.forEach(d=>{if(d.dismissed)o(d.id,d.removeDelay);else{let f=i.get(d.id);f&&(clearTimeout(f),i.delete(d.id))}})},[n,o]),{toasts:n,handlers:{updateHeight:l,startPause:a,endPause:c,calculateOffset:u}}},Rse=Ws`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Dse=Ws`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lse=Ws`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Fse=$l("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rse} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Dse} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Lse} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Bse=Ws`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,zse=$l("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Bse} 1s linear infinite;
`,Vse=Ws`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Wse=Ws`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Hse=$l("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vse} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Wse} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Use=$l("div")`
  position: absolute;
`,Kse=$l("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gse=Ws`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qse=$l("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gse} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Yse=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?w.createElement(qse,null,e):e:n==="blank"?null:w.createElement(Kse,null,w.createElement(zse,{...r}),n!=="loading"&&w.createElement(Use,null,n==="error"?w.createElement(Fse,{...r}):w.createElement(Hse,{...r})))},Xse=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Jse=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Zse="0%{opacity:0;} 100%{opacity:1;}",Qse="0%{opacity:1;} 100%{opacity:0;}",eae=$l("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tae=$l("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nae=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=yH()?[Zse,Qse]:[Xse(n),Jse(n)];return{animation:e?`${Ws(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ws(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rae=w.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?nae(t.position||e||"top-center",t.visible):{opacity:0},o=w.createElement(Yse,{toast:t}),s=w.createElement(tae,{...t.ariaProps},Zb(t.message,t));return w.createElement(eae,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:s}):w.createElement(w.Fragment,null,o,s))});Ase(w.createElement);var iae=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=w.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return w.createElement("div",{ref:o,className:e,style:n},i)},oae=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yH()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},sae=f1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Yy=16,aae=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:o,containerStyle:s,containerClassName:a})=>{let{toasts:l,handlers:c}=Ise(n,o);return w.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Yy,left:Yy,right:Yy,bottom:Yy,pointerEvents:"none",...s},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),h=oae(d,f);return w.createElement(iae,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?sae:"",style:h},u.type==="custom"?Zb(u.message,u):i?i(u):w.createElement(rae,{toast:u,position:d}))}))},lae=sP[" useId ".trim().toString()]||(()=>{}),cae=0;function ao(t){const[e,n]=w.useState(lae());return Lt(()=>{t||n(r=>r??String(cae++))},[t]),t||(e?`radix-${e}`:"")}const uae=["top","right","bottom","left"],vl=Math.min,qr=Math.max,Qb=Math.round,Xy=Math.floor,Wo=t=>({x:t,y:t}),dae={left:"right",right:"left",bottom:"top",top:"bottom"},fae={start:"end",end:"start"};function $A(t,e,n){return qr(t,vl(e,n))}function Hs(t,e){return typeof t=="function"?t(e):t}function Us(t){return t.split("-")[0]}function nh(t){return t.split("-")[1]}function lM(t){return t==="x"?"y":"x"}function cM(t){return t==="y"?"height":"width"}const hae=new Set(["top","bottom"]);function $o(t){return hae.has(Us(t))?"y":"x"}function uM(t){return lM($o(t))}function pae(t,e,n){n===void 0&&(n=!1);const r=nh(t),i=uM(t),o=cM(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=ex(s)),[s,ex(s)]}function mae(t){const e=ex(t);return[IA(t),e,IA(e)]}function IA(t){return t.replace(/start|end/g,e=>fae[e])}const QI=["left","right"],eR=["right","left"],gae=["top","bottom"],yae=["bottom","top"];function vae(t,e,n){switch(t){case"top":case"bottom":return n?e?eR:QI:e?QI:eR;case"left":case"right":return e?gae:yae;default:return[]}}function bae(t,e,n,r){const i=nh(t);let o=vae(Us(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(IA)))),o}function ex(t){return t.replace(/left|right|bottom|top/g,e=>dae[e])}function xae(t){return{top:0,right:0,bottom:0,left:0,...t}}function SH(t){return typeof t!="number"?xae(t):{top:t,right:t,bottom:t,left:t}}function tx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function tR(t,e,n){let{reference:r,floating:i}=t;const o=$o(e),s=uM(e),a=cM(s),l=Us(e),c=o==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(nh(e)){case"start":h[s]-=f*(n&&c?-1:1);break;case"end":h[s]+=f*(n&&c?-1:1);break}return h}async function wae(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Hs(e,t),p=SH(h),y=a[f?d==="floating"?"reference":"floating":d],v=tx(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=d==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},S=tx(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:x,strategy:l}):b);return{top:(v.top-S.top+p.top)/C.y,bottom:(S.bottom-v.bottom+p.bottom)/C.y,left:(v.left-S.left+p.left)/C.x,right:(S.right-v.right+p.right)/C.x}}const Sae=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=tR(c,r,l),f=r,h={},p=0;for(let y=0;y<a.length;y++){var g;const{name:v,fn:b}=a[y],{x,y:C,data:S,reset:k}=await b({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:{...s,detectOverflow:(g=s.detectOverflow)!=null?g:wae},elements:{reference:t,floating:e}});u=x??u,d=C??d,h={...h,[v]:{...h[v],...S}},k&&p<=50&&(p++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:u,y:d}=tR(c,f,l)),y=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}},Cae=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Hs(t,e)||{};if(c==null)return{};const d=SH(u),f={x:n,y:r},h=uM(i),p=cM(h),g=await s.getDimensions(c),y=h==="y",v=y?"top":"left",b=y?"bottom":"right",x=y?"clientHeight":"clientWidth",C=o.reference[p]+o.reference[h]-f[h]-o.floating[p],S=f[h]-o.reference[h],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let E=k?k[x]:0;(!E||!await(s.isElement==null?void 0:s.isElement(k)))&&(E=a.floating[x]||o.floating[p]);const A=C/2-S/2,O=E/2-g[p]/2-1,P=vl(d[v],O),T=vl(d[b],O),N=P,$=E-g[p]-T,_=E/2-g[p]/2+A,I=$A(N,_,$),R=!l.arrow&&nh(i)!=null&&_!==I&&o.reference[p]/2-(_<N?P:T)-g[p]/2<0,F=R?_<N?_-N:_-$:0;return{[h]:f[h]+F,data:{[h]:I,centerOffset:_-I-F,...R&&{alignmentOffset:F}},reset:R}}}),kae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...y}=Hs(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Us(i),b=$o(a),x=Us(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(x||!g?[ex(a)]:mae(a)),k=p!=="none";!f&&k&&S.push(...bae(a,g,p,C));const E=[a,...S],A=await l.detectOverflow(e,y),O=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&O.push(A[v]),d){const _=pae(i,s,C);O.push(A[_[0]],A[_[1]])}if(P=[...P,{placement:i,overflows:O}],!O.every(_=>_<=0)){var T,N;const _=(((T=o.flip)==null?void 0:T.index)||0)+1,I=E[_];if(I&&(!(d==="alignment"?b!==$o(I):!1)||P.every(j=>$o(j.placement)===b?j.overflows[0]>0:!0)))return{data:{index:_,overflows:P},reset:{placement:I}};let R=(N=P.filter(F=>F.overflows[0]<=0).sort((F,j)=>F.overflows[1]-j.overflows[1])[0])==null?void 0:N.placement;if(!R)switch(h){case"bestFit":{var $;const F=($=P.filter(j=>{if(k){const L=$o(j.placement);return L===b||L==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(L=>L>0).reduce((L,V)=>L+V,0)]).sort((j,L)=>j[1]-L[1])[0])==null?void 0:$[0];F&&(R=F);break}case"initialPlacement":R=a;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function nR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rR(t){return uae.some(e=>t[e]>=0)}const Eae=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n,platform:r}=e,{strategy:i="referenceHidden",...o}=Hs(t,e);switch(i){case"referenceHidden":{const s=await r.detectOverflow(e,{...o,elementContext:"reference"}),a=nR(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:rR(a)}}}case"escaped":{const s=await r.detectOverflow(e,{...o,altBoundary:!0}),a=nR(s,n.floating);return{data:{escapedOffsets:a,escaped:rR(a)}}}default:return{}}}}},CH=new Set(["left","top"]);async function Aae(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Us(n),a=nh(n),l=$o(n)==="y",c=CH.has(s)?-1:1,u=o&&l?-1:1,d=Hs(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Oae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await Aae(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Tae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i,platform:o}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...c}=Hs(t,e),u={x:n,y:r},d=await o.detectOverflow(e,c),f=$o(Us(i)),h=lM(f);let p=u[h],g=u[f];if(s){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=p+d[v],C=p-d[b];p=$A(x,p,C)}if(a){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=g+d[v],C=g-d[b];g=$A(x,g,C)}const y=l.fn({...e,[h]:p,[f]:g});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:s,[f]:a}}}}}},Nae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Hs(t,e),u={x:n,y:r},d=$o(i),f=lM(d);let h=u[f],p=u[d];const g=Hs(a,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",C=o.reference[f]-o.floating[x]+y.mainAxis,S=o.reference[f]+o.reference[x]-y.mainAxis;h<C?h=C:h>S&&(h=S)}if(c){var v,b;const x=f==="y"?"width":"height",C=CH.has(Us(i)),S=o.reference[d]-o.floating[x]+(C&&((v=s.offset)==null?void 0:v[d])||0)+(C?0:y.crossAxis),k=o.reference[d]+o.reference[x]+(C?0:((b=s.offset)==null?void 0:b[d])||0)-(C?y.crossAxis:0);p<S?p=S:p>k&&(p=k)}return{[f]:h,[d]:p}}}},Pae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=Hs(t,e),u=await s.detectOverflow(e,c),d=Us(i),f=nh(i),h=$o(i)==="y",{width:p,height:g}=o.floating;let y,v;d==="top"||d==="bottom"?(y=d,v=f===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=d,y=f==="end"?"top":"bottom");const b=g-u.top-u.bottom,x=p-u.left-u.right,C=vl(g-u[y],b),S=vl(p-u[v],x),k=!e.middlewareData.shift;let E=C,A=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=b),k&&!f){const P=qr(u.left,0),T=qr(u.right,0),N=qr(u.top,0),$=qr(u.bottom,0);h?A=p-2*(P!==0||T!==0?P+T:qr(u.left,u.right)):E=g-2*(N!==0||$!==0?N+$:qr(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:E});const O=await s.getDimensions(a.floating);return p!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function p1(){return typeof window<"u"}function rh(t){return kH(t)?(t.nodeName||"").toLowerCase():"#document"}function ti(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function es(t){var e;return(e=(kH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function kH(t){return p1()?t instanceof Node||t instanceof ti(t).Node:!1}function fo(t){return p1()?t instanceof Element||t instanceof ti(t).Element:!1}function Yo(t){return p1()?t instanceof HTMLElement||t instanceof ti(t).HTMLElement:!1}function iR(t){return!p1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ti(t).ShadowRoot}const Mae=new Set(["inline","contents"]);function Zg(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ho(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Mae.has(i)}const _ae=new Set(["table","td","th"]);function jae(t){return _ae.has(rh(t))}const $ae=[":popover-open",":modal"];function m1(t){return $ae.some(e=>{try{return t.matches(e)}catch{return!1}})}const Iae=["transform","translate","scale","rotate","perspective"],Rae=["transform","translate","scale","rotate","perspective","filter"],Dae=["paint","layout","strict","content"];function dM(t){const e=fM(),n=fo(t)?ho(t):t;return Iae.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Rae.some(r=>(n.willChange||"").includes(r))||Dae.some(r=>(n.contain||"").includes(r))}function Lae(t){let e=bl(t);for(;Yo(e)&&!of(e);){if(dM(e))return e;if(m1(e))return null;e=bl(e)}return null}function fM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Fae=new Set(["html","body","#document"]);function of(t){return Fae.has(rh(t))}function ho(t){return ti(t).getComputedStyle(t)}function g1(t){return fo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bl(t){if(rh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||iR(t)&&t.host||es(t);return iR(e)?e.host:e}function EH(t){const e=bl(t);return of(e)?t.ownerDocument?t.ownerDocument.body:t.body:Yo(e)&&Zg(e)?e:EH(e)}function Am(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=EH(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=ti(i);if(o){const a=RA(s);return e.concat(s,s.visualViewport||[],Zg(i)?i:[],a&&n?Am(a):[])}return e.concat(i,Am(i,[],n))}function RA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function AH(t){const e=ho(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Yo(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Qb(n)!==o||Qb(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function hM(t){return fo(t)?t:t.contextElement}function _d(t){const e=hM(t);if(!Yo(e))return Wo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=AH(e);let s=(o?Qb(n.width):n.width)/r,a=(o?Qb(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Bae=Wo(0);function OH(t){const e=ti(t);return!fM()||!e.visualViewport?Bae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ti(t)?!1:e}function tu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=hM(t);let s=Wo(1);e&&(r?fo(r)&&(s=_d(r)):s=_d(t));const a=zae(o,n,r)?OH(o):Wo(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(o){const f=ti(o),h=r&&fo(r)?ti(r):r;let p=f,g=RA(p);for(;g&&r&&h!==p;){const y=_d(g),v=g.getBoundingClientRect(),b=ho(g),x=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*y.x,C=v.top+(g.clientTop+parseFloat(b.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,d*=y.y,l+=x,c+=C,p=ti(g),g=RA(p)}}return tx({width:u,height:d,x:l,y:c})}function y1(t,e){const n=g1(t).scrollLeft;return e?e.left+n:tu(es(t)).left+n}function TH(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-y1(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Vae(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=es(r),a=e?m1(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Wo(1);const u=Wo(0),d=Yo(r);if((d||!d&&!o)&&((rh(r)!=="body"||Zg(s))&&(l=g1(r)),Yo(r))){const h=tu(r);c=_d(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=s&&!d&&!o?TH(s,l):Wo(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Wae(t){return Array.from(t.getClientRects())}function Hae(t){const e=es(t),n=g1(t),r=t.ownerDocument.body,i=qr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=qr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+y1(t);const a=-n.scrollTop;return ho(r).direction==="rtl"&&(s+=qr(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const oR=25;function Uae(t,e){const n=ti(t),r=es(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=fM();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=y1(r);if(c<=0){const u=r.ownerDocument,d=u.body,f=getComputedStyle(d),h=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(r.clientWidth-d.clientWidth-h);p<=oR&&(o-=p)}else c<=oR&&(o+=c);return{width:o,height:s,x:a,y:l}}const Kae=new Set(["absolute","fixed"]);function Gae(t,e){const n=tu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Yo(t)?_d(t):Wo(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function sR(t,e,n){let r;if(e==="viewport")r=Uae(t,n);else if(e==="document")r=Hae(es(t));else if(fo(e))r=Gae(e,n);else{const i=OH(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return tx(r)}function NH(t,e){const n=bl(t);return n===e||!fo(n)||of(n)?!1:ho(n).position==="fixed"||NH(n,e)}function qae(t,e){const n=e.get(t);if(n)return n;let r=Am(t,[],!1).filter(a=>fo(a)&&rh(a)!=="body"),i=null;const o=ho(t).position==="fixed";let s=o?bl(t):t;for(;fo(s)&&!of(s);){const a=ho(s),l=dM(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&Kae.has(i.position)||Zg(s)&&!l&&NH(t,s))?r=r.filter(u=>u!==s):i=a,s=bl(s)}return e.set(t,r),r}function Yae(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?m1(e)?[]:qae(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const d=sR(e,u,i);return c.top=qr(d.top,c.top),c.right=vl(d.right,c.right),c.bottom=vl(d.bottom,c.bottom),c.left=qr(d.left,c.left),c},sR(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Xae(t){const{width:e,height:n}=AH(t);return{width:e,height:n}}function Jae(t,e,n){const r=Yo(e),i=es(e),o=n==="fixed",s=tu(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Wo(0);function c(){l.x=y1(i)}if(r||!r&&!o)if((rh(e)!=="body"||Zg(i))&&(a=g1(e)),r){const h=tu(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?TH(i,a):Wo(0),d=s.left+a.scrollLeft-l.x-u.x,f=s.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:s.width,height:s.height}}function VC(t){return ho(t).position==="static"}function aR(t,e){if(!Yo(t)||ho(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return es(t)===n&&(n=n.ownerDocument.body),n}function PH(t,e){const n=ti(t);if(m1(t))return n;if(!Yo(t)){let i=bl(t);for(;i&&!of(i);){if(fo(i)&&!VC(i))return i;i=bl(i)}return n}let r=aR(t,e);for(;r&&jae(r)&&VC(r);)r=aR(r,e);return r&&of(r)&&VC(r)&&!dM(r)?n:r||Lae(t)||n}const Zae=async function(t){const e=this.getOffsetParent||PH,n=this.getDimensions,r=await n(t.floating);return{reference:Jae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Qae(t){return ho(t).direction==="rtl"}const ele={convertOffsetParentRelativeRectToViewportRelativeRect:Vae,getDocumentElement:es,getClippingRect:Yae,getOffsetParent:PH,getElementRects:Zae,getClientRects:Wae,getDimensions:Xae,getScale:_d,isElement:fo,isRTL:Qae};function MH(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tle(t,e){let n=null,r;const i=es(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;const p=Xy(d),g=Xy(i.clientWidth-(u+f)),y=Xy(i.clientHeight-(d+h)),v=Xy(u),x={rootMargin:-p+"px "+-g+"px "+-y+"px "+-v+"px",threshold:qr(0,vl(1,l))||1};let C=!0;function S(k){const E=k[0].intersectionRatio;if(E!==l){if(!C)return s();E?s(!1,E):r=setTimeout(()=>{s(!1,1e-7)},1e3)}E===1&&!MH(c,t.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return s(!0),o}function _H(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=hM(t),u=i||o?[...c?Am(c):[],...Am(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=c&&a?tle(c,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,g=l?tu(t):null;l&&y();function y(){const v=tu(t);g&&!MH(g,v)&&n(),g=v,p=requestAnimationFrame(y)}return n(),()=>{var v;u.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),d==null||d(),(v=h)==null||v.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const nle=Oae,rle=Tae,ile=kae,ole=Pae,sle=Eae,lR=Cae,ale=Nae,lle=(t,e,n)=>{const r=new Map,i={platform:ele,...n},o={...i.platform,_c:r};return Sae(t,e,{...i,platform:o})};var cle=typeof document<"u",ule=function(){},ob=cle?w.useLayoutEffect:ule;function nx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!nx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!nx(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function jH(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cR(t,e){const n=jH(t);return Math.round(e*n)/n}function WC(t){const e=w.useRef(t);return ob(()=>{e.current=t}),e}function $H(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=w.useState(r);nx(f,r)||h(r);const[p,g]=w.useState(null),[y,v]=w.useState(null),b=w.useCallback(j=>{j!==k.current&&(k.current=j,g(j))},[]),x=w.useCallback(j=>{j!==E.current&&(E.current=j,v(j))},[]),C=o||p,S=s||y,k=w.useRef(null),E=w.useRef(null),A=w.useRef(u),O=l!=null,P=WC(l),T=WC(i),N=WC(c),$=w.useCallback(()=>{if(!k.current||!E.current)return;const j={placement:e,strategy:n,middleware:f};T.current&&(j.platform=T.current),lle(k.current,E.current,j).then(L=>{const V={...L,isPositioned:N.current!==!1};_.current&&!nx(A.current,V)&&(A.current=V,Zs.flushSync(()=>{d(V)}))})},[f,e,n,T,N]);ob(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(j=>({...j,isPositioned:!1})))},[c]);const _=w.useRef(!1);ob(()=>(_.current=!0,()=>{_.current=!1}),[]),ob(()=>{if(C&&(k.current=C),S&&(E.current=S),C&&S){if(P.current)return P.current(C,S,$);$()}},[C,S,$,P,O]);const I=w.useMemo(()=>({reference:k,floating:E,setReference:b,setFloating:x}),[b,x]),R=w.useMemo(()=>({reference:C,floating:S}),[C,S]),F=w.useMemo(()=>{const j={position:n,left:0,top:0};if(!R.floating)return j;const L=cR(R.floating,u.x),V=cR(R.floating,u.y);return a?{...j,transform:"translate("+L+"px, "+V+"px)",...jH(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:V}},[n,a,R.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:$,refs:I,elements:R,floatingStyles:F}),[u,$,I,R,F])}const dle=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?lR({element:r.current,padding:i}).fn(n):{}:r?lR({element:r,padding:i}).fn(n):{}}}},IH=(t,e)=>({...nle(t),options:[t,e]}),RH=(t,e)=>({...rle(t),options:[t,e]}),DH=(t,e)=>({...ale(t),options:[t,e]}),LH=(t,e)=>({...ile(t),options:[t,e]}),FH=(t,e)=>({...ole(t),options:[t,e]}),BH=(t,e)=>({...sle(t),options:[t,e]}),zH=(t,e)=>({...dle(t),options:[t,e]});var fle="Arrow",VH=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return m.jsx(ye.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});VH.displayName=fle;var WH=VH;function v1(t){const[e,n]=w.useState(void 0);return Lt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var pM="Popper",[HH,b1]=Or(pM),[hle,UH]=HH(pM),KH=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return m.jsx(hle,{scope:e,anchor:r,onAnchorChange:i,children:n})};KH.displayName=pM;var GH="PopperAnchor",qH=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=UH(GH,n),s=w.useRef(null),a=Re(e,s);return w.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:m.jsx(ye.div,{...i,ref:a})});qH.displayName=GH;var mM="PopperContent",[ple,mle]=HH(mM),YH=w.forwardRef((t,e)=>{var ae,Ae,q,re,le,z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=t,y=UH(mM,n),[v,b]=w.useState(null),x=Re(e,Oe=>b(Oe)),[C,S]=w.useState(null),k=v1(C),E=(k==null?void 0:k.width)??0,A=(k==null?void 0:k.height)??0,O=r+(o!=="center"?"-"+o:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(c)?c:[c],N=T.length>0,$={padding:P,boundary:T.filter(yle),altBoundary:N},{refs:_,floatingStyles:I,placement:R,isPositioned:F,middlewareData:j}=$H({strategy:"fixed",placement:O,whileElementsMounted:(...Oe)=>_H(...Oe,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[IH({mainAxis:i+A,alignmentAxis:s}),l&&RH({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?DH():void 0,...$}),l&&LH({...$}),FH({...$,apply:({elements:Oe,rects:Te,availableWidth:ot,availableHeight:ct})=>{const{width:jt,height:Vr}=Te.reference,pn=Oe.floating.style;pn.setProperty("--radix-popper-available-width",`${ot}px`),pn.setProperty("--radix-popper-available-height",`${ct}px`),pn.setProperty("--radix-popper-anchor-width",`${jt}px`),pn.setProperty("--radix-popper-anchor-height",`${Vr}px`)}}),C&&zH({element:C,padding:a}),vle({arrowWidth:E,arrowHeight:A}),f&&BH({strategy:"referenceHidden",...$})]}),[L,V]=ZH(R),U=Sn(p);Lt(()=>{F&&(U==null||U())},[F,U]);const G=(ae=j.arrow)==null?void 0:ae.x,ie=(Ae=j.arrow)==null?void 0:Ae.y,Ce=((q=j.arrow)==null?void 0:q.centerOffset)!==0,[Fe,Be]=w.useState();return Lt(()=>{v&&Be(window.getComputedStyle(v).zIndex)},[v]),m.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:F?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(re=j.transformOrigin)==null?void 0:re.x,(le=j.transformOrigin)==null?void 0:le.y].join(" "),...((z=j.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(ple,{scope:n,placedSide:L,onArrowChange:S,arrowX:G,arrowY:ie,shouldHideArrow:Ce,children:m.jsx(ye.div,{"data-side":L,"data-align":V,...g,ref:x,style:{...g.style,animation:F?void 0:"none"}})})})});YH.displayName=mM;var XH="PopperArrow",gle={top:"bottom",right:"left",bottom:"top",left:"right"},JH=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=mle(XH,r),s=gle[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(WH,{...i,ref:n,style:{...i.style,display:"block"}})})});JH.displayName=XH;function yle(t){return t!==null}var vle=t=>({name:"transformOrigin",options:t,fn(e){var y,v,b;const{placement:n,rects:r,middlewareData:i}=e,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=ZH(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,h=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=s?d:`${f}px`,g=`${-l}px`):c==="top"?(p=s?d:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=s?d:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,g=s?d:`${h}px`),{data:{x:p,y:g}}}});function ZH(t){const[e,n="center"]=t.split("-");return[e,n]}var ble=KH,QH=qH,eU=YH,tU=JH,[x1,Ott]=Or("Tooltip",[b1]),gM=b1(),nU="TooltipProvider",xle=700,uR="tooltip.open",[wle,rU]=x1(nU),iU=t=>{const{__scopeTooltip:e,delayDuration:n=xle,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,s=w.useRef(!0),a=w.useRef(!1),l=w.useRef(0);return w.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),m.jsx(wle,{scope:e,isOpenDelayedRef:s,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:w.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:o})};iU.displayName=nU;var oU="Tooltip",[Ttt,w1]=x1(oU),DA="TooltipTrigger",Sle=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=w1(DA,n),o=rU(DA,n),s=gM(n),a=w.useRef(null),l=Re(e,a,i.onTriggerChange),c=w.useRef(!1),u=w.useRef(!1),d=w.useCallback(()=>c.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),m.jsx(QH,{asChild:!0,...s,children:m.jsx(ye.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:xe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:xe(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:xe(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:xe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:xe(t.onBlur,i.onClose),onClick:xe(t.onClick,i.onClose)})})});Sle.displayName=DA;var Cle="TooltipPortal",[Ntt,kle]=x1(Cle,{forceMount:void 0}),sf="TooltipContent",sU=w.forwardRef((t,e)=>{const n=kle(sf,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=w1(sf,t.__scopeTooltip);return m.jsx(jl,{present:r||s.open,children:s.disableHoverableContent?m.jsx(aU,{side:i,...o,ref:e}):m.jsx(Ele,{side:i,...o,ref:e})})}),Ele=w.forwardRef((t,e)=>{const n=w1(sf,t.__scopeTooltip),r=rU(sf,t.__scopeTooltip),i=w.useRef(null),o=Re(e,i),[s,a]=w.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,f=w.useCallback(()=>{a(null),d(!1)},[d]),h=w.useCallback((p,g)=>{const y=p.currentTarget,v={x:p.clientX,y:p.clientY},b=Ple(v,y.getBoundingClientRect()),x=Mle(v,b),C=_le(g.getBoundingClientRect()),S=$le([...x,...C]);a(S),d(!0)},[d]);return w.useEffect(()=>()=>f(),[f]),w.useEffect(()=>{if(l&&u){const p=y=>h(y,u),g=y=>h(y,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[l,u,h,f]),w.useEffect(()=>{if(s){const p=g=>{const y=g.target,v={x:g.clientX,y:g.clientY},b=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),x=!jle(v,s);b?f():x&&(f(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,s,c,f]),m.jsx(aU,{...t,ref:o})}),[Ale,Ole]=x1(oU,{isInside:!1}),Tle=oie("TooltipContent"),aU=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=w1(sf,n),c=gM(n),{onClose:u}=l;return w.useEffect(()=>(document.addEventListener(uR,u),()=>document.removeEventListener(uR,u)),[u]),w.useEffect(()=>{if(l.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),m.jsx(qg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:m.jsxs(eU,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(Tle,{children:r}),m.jsx(Ale,{scope:n,isInside:!0,children:m.jsx(Aie,{id:l.contentId,role:"tooltip",children:i||r})})]})})});sU.displayName=sf;var lU="TooltipArrow",Nle=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=gM(n);return Ole(lU,n).isInside?null:m.jsx(tU,{...i,...r,ref:e})});Nle.displayName=lU;function Ple(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Mle(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function _le(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function jle(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o],l=e[s],c=a.x,u=a.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=!i)}return i}function $le(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Ile(e)}function Ile(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Rle=iU,cU=sU;const Dle=Rle,Lle=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(cU,{ref:r,sideOffset:e,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Lle.displayName=cU.displayName;var S1=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},C1=typeof window>"u"||"Deno"in globalThis;function Gi(){}function Fle(t,e){return typeof t=="function"?t(e):t}function Ble(t){return typeof t=="number"&&t>=0&&t!==1/0}function zle(t,e){return Math.max(t+(e||0)-Date.now(),0)}function LA(t,e){return typeof t=="function"?t(e):t}function Vle(t,e){return typeof t=="function"?t(e):t}function dR(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==yM(s,e.options))return!1}else if(!Tm(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function fR(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Om(e.options.mutationKey)!==Om(o))return!1}else if(!Tm(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function yM(t,e){return((e==null?void 0:e.queryKeyHashFn)||Om)(t)}function Om(t){return JSON.stringify(t,(e,n)=>FA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Tm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Tm(t[n],e[n])):!1}function uU(t,e){if(t===e)return t;const n=hR(t)&&hR(e);if(n||FA(t)&&FA(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<s;u++){const d=n?u:o[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=uU(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===s&&c===i?t:a}return e}function hR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function FA(t){if(!pR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pR(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wle(t){return new Promise(e=>{setTimeout(e,t)})}function Hle(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uU(t,e):e}function Ule(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Kle(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var vM=Symbol();function dU(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===vM?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var kc,Ia,Wd,Z4,Gle=(Z4=class extends S1{constructor(){super();tt(this,kc,void 0);tt(this,Ia,void 0);tt(this,Wd,void 0);ze(this,Wd,e=>{if(!C1&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){K(this,Ia)||this.setEventListener(K(this,Wd))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Ia))==null||e.call(this),ze(this,Ia,void 0))}setEventListener(e){var n;ze(this,Wd,e),(n=K(this,Ia))==null||n.call(this),ze(this,Ia,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){K(this,kc)!==e&&(ze(this,kc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof K(this,kc)=="boolean"?K(this,kc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},kc=new WeakMap,Ia=new WeakMap,Wd=new WeakMap,Z4),fU=new Gle,Hd,Ra,Ud,Q4,qle=(Q4=class extends S1{constructor(){super();tt(this,Hd,!0);tt(this,Ra,void 0);tt(this,Ud,void 0);ze(this,Ud,e=>{if(!C1&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){K(this,Ra)||this.setEventListener(K(this,Ud))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Ra))==null||e.call(this),ze(this,Ra,void 0))}setEventListener(e){var n;ze(this,Ud,e),(n=K(this,Ra))==null||n.call(this),ze(this,Ra,e(this.setOnline.bind(this)))}setOnline(e){K(this,Hd)!==e&&(ze(this,Hd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return K(this,Hd)}},Hd=new WeakMap,Ra=new WeakMap,Ud=new WeakMap,Q4),rx=new qle;function Yle(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Xle(t){return Math.min(1e3*2**t,3e4)}function hU(t){return(t??"online")==="online"?rx.isOnline():!0}var pU=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function HC(t){return t instanceof pU}function mU(t){let e=!1,n=0,r=!1,i;const o=Yle(),s=g=>{var y;r||(f(new pU(g)),(y=t.abort)==null||y.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>fU.isFocused()&&(t.networkMode==="always"||rx.isOnline())&&t.canRun(),u=()=>hU(t.networkMode)&&t.canRun(),d=g=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,g),i==null||i(),o.resolve(g))},f=g=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,g),i==null||i(),o.reject(g))},h=()=>new Promise(g=>{var y;i=v=>{(r||c())&&g(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),p=()=>{if(r)return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(d).catch(v=>{var k;if(r)return;const b=t.retry??(C1?0:3),x=t.retryDelay??Xle,C=typeof x=="function"?x(n,v):x,S=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(e||!S){f(v);return}n++,(k=t.onFail)==null||k.call(t,n,v),Wle(C).then(()=>c()?void 0:h()).then(()=>{e?f(v):p()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?p():h().then(p),o)}}var Jle=t=>setTimeout(t,0);function Zle(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=Jle;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var gr=Zle(),Ec,e5,gU=(e5=class{constructor(){tt(this,Ec,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ble(this.gcTime)&&ze(this,Ec,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(C1?1/0:5*60*1e3))}clearGcTimeout(){K(this,Ec)&&(clearTimeout(K(this,Ec)),ze(this,Ec,void 0))}},Ec=new WeakMap,e5),Kd,Ac,bi,Oc,Xn,zg,Tc,qi,ps,t5,Qle=(t5=class extends gU{constructor(e){super();tt(this,qi);tt(this,Kd,void 0);tt(this,Ac,void 0);tt(this,bi,void 0);tt(this,Oc,void 0);tt(this,Xn,void 0);tt(this,zg,void 0);tt(this,Tc,void 0);ze(this,Tc,!1),ze(this,zg,e.defaultOptions),this.setOptions(e.options),this.observers=[],ze(this,Oc,e.client),ze(this,bi,K(this,Oc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ze(this,Kd,tce(this.options)),this.state=e.state??K(this,Kd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=K(this,Xn))==null?void 0:e.promise}setOptions(e){this.options={...K(this,zg),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,bi).remove(this)}setData(e,n){const r=Hle(this.state.data,e,this.options);return Kn(this,qi,ps).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Kn(this,qi,ps).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=K(this,Xn))==null?void 0:r.promise;return(i=K(this,Xn))==null||i.cancel(e),n?n.then(Gi).catch(Gi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,Kd))}isActive(){return this.observers.some(e=>Vle(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vM||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>LA(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!zle(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=K(this,Xn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=K(this,Xn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),K(this,bi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(K(this,Xn)&&(K(this,Tc)?K(this,Xn).cancel({revert:!0}):K(this,Xn).cancelRetry()),this.scheduleGc()),K(this,bi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kn(this,qi,ps).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(K(this,Xn))return K(this,Xn).continueRetry(),K(this,Xn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ze(this,Tc,!0),r.signal)})},o=()=>{const f=dU(this.options,n),p=(()=>{const g={client:K(this,Oc),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return ze(this,Tc,!1),this.options.persister?this.options.persister(f,p,this):f(p)},a=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:K(this,Oc),state:this.state,fetchFn:o};return i(f),f})();(c=this.options.behavior)==null||c.onFetch(a,this),ze(this,Ac,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Kn(this,qi,ps).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,g,y;HC(f)&&f.silent||Kn(this,qi,ps).call(this,{type:"error",error:f}),HC(f)||((p=(h=K(this,bi).config).onError)==null||p.call(h,f,this),(y=(g=K(this,bi).config).onSettled)==null||y.call(g,this.state.data,f,this)),this.scheduleGc()};return ze(this,Xn,mU({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,g,y;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(v){l(v);return}(p=(h=K(this,bi).config).onSuccess)==null||p.call(h,f,this),(y=(g=K(this,bi).config).onSettled)==null||y.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Kn(this,qi,ps).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Kn(this,qi,ps).call(this,{type:"pause"})},onContinue:()=>{Kn(this,qi,ps).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),K(this,Xn).start()}},Kd=new WeakMap,Ac=new WeakMap,bi=new WeakMap,Oc=new WeakMap,Xn=new WeakMap,zg=new WeakMap,Tc=new WeakMap,qi=new WeakSet,ps=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ece(r.data,this.options),fetchMeta:e.meta??null};case"success":return ze(this,Ac,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return HC(i)&&i.revert&&K(this,Ac)?{...K(this,Ac),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),gr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),K(this,bi).notify({query:this,type:"updated",action:e})})},t5);function ece(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hU(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tce(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ao,n5,nce=(n5=class extends S1{constructor(e={}){super();tt(this,Ao,void 0);this.config=e,ze(this,Ao,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??yM(i,n);let s=this.get(o);return s||(s=new Qle({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){K(this,Ao).has(e.queryHash)||(K(this,Ao).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=K(this,Ao).get(e.queryHash);n&&(e.destroy(),n===e&&K(this,Ao).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,Ao).get(e)}getAll(){return[...K(this,Ao).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dR(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>dR(e,r)):n}notify(e){gr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ao=new WeakMap,n5),Oo,dr,Nc,To,pa,r5,rce=(r5=class extends gU{constructor(e){super();tt(this,To);tt(this,Oo,void 0);tt(this,dr,void 0);tt(this,Nc,void 0);this.mutationId=e.mutationId,ze(this,dr,e.mutationCache),ze(this,Oo,[]),this.state=e.state||ice(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){K(this,Oo).includes(e)||(K(this,Oo).push(e),this.clearGcTimeout(),K(this,dr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ze(this,Oo,K(this,Oo).filter(n=>n!==e)),this.scheduleGc(),K(this,dr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){K(this,Oo).length||(this.state.status==="pending"?this.scheduleGc():K(this,dr).remove(this))}continue(){var e;return((e=K(this,Nc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,s,a,l,c,u,d,f,h,p,g,y,v,b,x,C,S,k,E,A;const n=()=>{Kn(this,To,pa).call(this,{type:"continue"})};ze(this,Nc,mU({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,P)=>{Kn(this,To,pa).call(this,{type:"failed",failureCount:O,error:P})},onPause:()=>{Kn(this,To,pa).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,dr).canRun(this)}));const r=this.state.status==="pending",i=!K(this,Nc).canStart();try{if(r)n();else{Kn(this,To,pa).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(o=K(this,dr).config).onMutate)==null?void 0:s.call(o,e,this));const P=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));P!==this.state.context&&Kn(this,To,pa).call(this,{type:"pending",context:P,variables:e,isPaused:i})}const O=await K(this,Nc).start();return await((u=(c=K(this,dr).config).onSuccess)==null?void 0:u.call(c,O,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,O,e,this.state.context)),await((p=(h=K(this,dr).config).onSettled)==null?void 0:p.call(h,O,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,O,null,e,this.state.context)),Kn(this,To,pa).call(this,{type:"success",data:O}),O}catch(O){try{throw await((b=(v=K(this,dr).config).onError)==null?void 0:b.call(v,O,e,this.state.context,this)),await((C=(x=this.options).onError)==null?void 0:C.call(x,O,e,this.state.context)),await((k=(S=K(this,dr).config).onSettled)==null?void 0:k.call(S,void 0,O,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,O,e,this.state.context)),O}finally{Kn(this,To,pa).call(this,{type:"error",error:O})}}finally{K(this,dr).runNext(this)}}},Oo=new WeakMap,dr=new WeakMap,Nc=new WeakMap,To=new WeakSet,pa=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gr.batch(()=>{K(this,Oo).forEach(r=>{r.onMutationUpdate(e)}),K(this,dr).notify({mutation:this,type:"updated",action:e})})},r5);function ice(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ks,Yi,Vg,i5,oce=(i5=class extends S1{constructor(e={}){super();tt(this,ks,void 0);tt(this,Yi,void 0);tt(this,Vg,void 0);this.config=e,ze(this,ks,new Set),ze(this,Yi,new Map),ze(this,Vg,0)}build(e,n,r){const i=new rce({mutationCache:this,mutationId:++Ty(this,Vg)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){K(this,ks).add(e);const n=Jy(e);if(typeof n=="string"){const r=K(this,Yi).get(n);r?r.push(e):K(this,Yi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(K(this,ks).delete(e)){const n=Jy(e);if(typeof n=="string"){const r=K(this,Yi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&K(this,Yi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Jy(e);if(typeof n=="string"){const r=K(this,Yi).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Jy(e);if(typeof n=="string"){const i=(r=K(this,Yi).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){gr.batch(()=>{K(this,ks).forEach(e=>{this.notify({type:"removed",mutation:e})}),K(this,ks).clear(),K(this,Yi).clear()})}getAll(){return Array.from(K(this,ks))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>fR(n,r))}findAll(e={}){return this.getAll().filter(n=>fR(e,n))}notify(e){gr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return gr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Gi))))}},ks=new WeakMap,Yi=new WeakMap,Vg=new WeakMap,i5);function Jy(t){var e;return(e=t.options.scope)==null?void 0:e.id}function mR(t){return{onFetch:(e,n)=>{var u,d,f,h,p;const r=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,o=((h=e.state.data)==null?void 0:h.pages)||[],s=((p=e.state.data)==null?void 0:p.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const y=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=dU(e.options,e.fetchOptions),b=async(x,C,S)=>{if(g)return Promise.reject();if(C==null&&x.pages.length)return Promise.resolve(x);const E=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:C,direction:S?"backward":"forward",meta:e.options.meta};return y(T),T})(),A=await v(E),{maxPages:O}=e.options,P=S?Kle:Ule;return{pages:P(x.pages,A,O),pageParams:P(x.pageParams,C,O)}};if(i&&o.length){const x=i==="backward",C=x?sce:gR,S={pages:o,pageParams:s},k=C(r,S);a=await b(S,k,x)}else{const x=t??o.length;do{const C=l===0?s[0]??r.initialPageParam:gR(r,a);if(l>0&&C==null)break;a=await b(a,C),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function gR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function sce(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Kt,Da,La,Gd,qd,Fa,Yd,Xd,o5,ace=(o5=class{constructor(t={}){tt(this,Kt,void 0);tt(this,Da,void 0);tt(this,La,void 0);tt(this,Gd,void 0);tt(this,qd,void 0);tt(this,Fa,void 0);tt(this,Yd,void 0);tt(this,Xd,void 0);ze(this,Kt,t.queryCache||new nce),ze(this,Da,t.mutationCache||new oce),ze(this,La,t.defaultOptions||{}),ze(this,Gd,new Map),ze(this,qd,new Map),ze(this,Fa,0)}mount(){Ty(this,Fa)._++,K(this,Fa)===1&&(ze(this,Yd,fU.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Kt).onFocus())})),ze(this,Xd,rx.subscribe(async t=>{t&&(await this.resumePausedMutations(),K(this,Kt).onOnline())})))}unmount(){var t,e;Ty(this,Fa)._--,K(this,Fa)===0&&((t=K(this,Yd))==null||t.call(this),ze(this,Yd,void 0),(e=K(this,Xd))==null||e.call(this),ze(this,Xd,void 0))}isFetching(t){return K(this,Kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return K(this,Da).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Kt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=K(this,Kt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(LA(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return K(this,Kt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=K(this,Kt).get(r.queryHash),o=i==null?void 0:i.state.data,s=Fle(e,o);if(s!==void 0)return K(this,Kt).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return gr.batch(()=>K(this,Kt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=K(this,Kt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=K(this,Kt);gr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=K(this,Kt);return gr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=gr.batch(()=>K(this,Kt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Gi).catch(Gi)}invalidateQueries(t,e={}){return gr.batch(()=>(K(this,Kt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=gr.batch(()=>K(this,Kt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Gi)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Gi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=K(this,Kt).build(this,e);return n.isStaleByTime(LA(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Gi).catch(Gi)}fetchInfiniteQuery(t){return t.behavior=mR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Gi).catch(Gi)}ensureInfiniteQueryData(t){return t.behavior=mR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return rx.isOnline()?K(this,Da).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,Kt)}getMutationCache(){return K(this,Da)}getDefaultOptions(){return K(this,La)}setDefaultOptions(t){ze(this,La,t)}setQueryDefaults(t,e){K(this,Gd).set(Om(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...K(this,Gd).values()],n={};return e.forEach(r=>{Tm(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){K(this,qd).set(Om(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...K(this,qd).values()],n={};return e.forEach(r=>{Tm(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...K(this,La).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=yM(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===vM&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...K(this,La).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){K(this,Kt).clear(),K(this,Da).clear()}},Kt=new WeakMap,Da=new WeakMap,La=new WeakMap,Gd=new WeakMap,qd=new WeakMap,Fa=new WeakMap,Yd=new WeakMap,Xd=new WeakMap,o5),lce=w.createContext(void 0),cce=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(lce.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}var Va;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Va||(Va={}));const yR="popstate";function uce(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return BA("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ix(i)}return fce(e,n,null,t)}function dn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yU(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dce(){return Math.random().toString(36).substr(2,8)}function vR(t,e){return{usr:t.state,key:t.key,idx:e}}function BA(t,e,n,r){return n===void 0&&(n=null),Nm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ih(e):e,{state:n,key:e&&e.key||r||dce()})}function ix(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ih(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fce(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Va.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Nm({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Va.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:a,location:g.location,delta:v})}function f(y,v){a=Va.Push;let b=BA(g.location,y,v);n&&n(b,y),c=u()+1;let x=vR(b,c),C=g.createHref(b);try{s.pushState(x,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}o&&l&&l({action:a,location:g.location,delta:1})}function h(y,v){a=Va.Replace;let b=BA(g.location,y,v);n&&n(b,y),c=u();let x=vR(b,c),C=g.createHref(b);s.replaceState(x,"",C),o&&l&&l({action:a,location:g.location,delta:0})}function p(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:ix(y);return b=b.replace(/ $/,"%20"),dn(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yR,d),l=y,()=>{i.removeEventListener(yR,d),l=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let v=p(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(y){return s.go(y)}};return g}var bR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bR||(bR={}));function hce(t,e,n){return n===void 0&&(n="/"),pce(t,e,n,!1)}function pce(t,e,n,r){let i=typeof e=="string"?ih(e):e,o=bM(i.pathname||"/",n);if(o==null)return null;let s=vU(t);mce(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=Ace(o);a=kce(s[l],c,r)}return a}function vU(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(dn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ol([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(dn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vU(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:Sce(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of bU(o.path))i(o,s,l)}),e}function bU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=bU(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function mce(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Cce(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gce=/^:[\w-]+$/,yce=3,vce=2,bce=1,xce=10,wce=-2,xR=t=>t==="*";function Sce(t,e){let n=t.split("/"),r=n.length;return n.some(xR)&&(r+=wce),e&&(r+=vce),n.filter(i=>!xR(i)).reduce((i,o)=>i+(gce.test(o)?yce:o===""?bce:xce),r)}function Cce(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kce(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=wR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=wR({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:ol([o,d.pathname]),pathnameBase:Pce(ol([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=ol([o,d.pathnameBase]))}return s}function wR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ece(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function Ece(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yU(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ace(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yU(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Oce(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ih(t):t;return{pathname:n?n.startsWith("/")?n:Tce(n,e):e,search:Mce(r),hash:_ce(i)}}function Tce(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function UC(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nce(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xU(t,e){let n=Nce(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wU(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ih(t):(i=Nm({},t),dn(!i.pathname||!i.pathname.includes("?"),UC("?","pathname","search",i)),dn(!i.pathname||!i.pathname.includes("#"),UC("#","pathname","hash",i)),dn(!i.search||!i.search.includes("#"),UC("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=Oce(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ol=t=>t.join("/").replace(/\/\/+/g,"/"),Pce=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mce=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_ce=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jce(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SU=["post","put","patch","delete"];new Set(SU);const $ce=["get",...SU];new Set($ce);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}const xM=w.createContext(null),Ice=w.createContext(null),ku=w.createContext(null),k1=w.createContext(null),Qs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),CU=w.createContext(null);function Rce(t,e){let{relative:n}=e===void 0?{}:e;Qg()||dn(!1);let{basename:r,navigator:i}=w.useContext(ku),{hash:o,pathname:s,search:a}=EU(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ol([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Qg(){return w.useContext(k1)!=null}function oh(){return Qg()||dn(!1),w.useContext(k1).location}function kU(t){w.useContext(ku).static||w.useLayoutEffect(t)}function di(){let{isDataRoute:t}=w.useContext(Qs);return t?Jce():Dce()}function Dce(){Qg()||dn(!1);let t=w.useContext(xM),{basename:e,future:n,navigator:r}=w.useContext(ku),{matches:i}=w.useContext(Qs),{pathname:o}=oh(),s=JSON.stringify(xU(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return kU(()=>{a.current=!0}),w.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=wU(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ol([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,s,o,t])}const Lce=w.createContext(null);function Fce(t){let e=w.useContext(Qs).outlet;return e&&w.createElement(Lce.Provider,{value:t},e)}function sh(){let{matches:t}=w.useContext(Qs),e=t[t.length-1];return e?e.params:{}}function EU(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(ku),{matches:i}=w.useContext(Qs),{pathname:o}=oh(),s=JSON.stringify(xU(i,r.v7_relativeSplatPath));return w.useMemo(()=>wU(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function Bce(t,e){return zce(t,e)}function zce(t,e,n,r){Qg()||dn(!1);let{navigator:i}=w.useContext(ku),{matches:o}=w.useContext(Qs),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=oh(),u;if(e){var d;let y=typeof e=="string"?ih(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||dn(!1),u=y}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=hce(t,{pathname:h}),g=Kce(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:ol([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:ol([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&g?w.createElement(k1.Provider,{value:{location:Pm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Va.Pop}},g):g}function Vce(){let t=Xce(),e=jce(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,o)}const Wce=w.createElement(Vce,null);class Hce extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Qs.Provider,{value:this.props.routeContext},w.createElement(CU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Uce(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(xM);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Qs.Provider,{value:e},r)}function Kce(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||dn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,p=!1,g=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||Wce,l&&(c<0&&f===0?(Zce("route-fallback",!1),p=!0,y=null):c===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,f+1)),b=()=>{let x;return h?x=g:p?x=y:d.route.Component?x=w.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,w.createElement(Uce,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?w.createElement(Hce,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var AU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AU||{}),ox=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ox||{});function Gce(t){let e=w.useContext(xM);return e||dn(!1),e}function qce(t){let e=w.useContext(Ice);return e||dn(!1),e}function Yce(t){let e=w.useContext(Qs);return e||dn(!1),e}function OU(t){let e=Yce(),n=e.matches[e.matches.length-1];return n.route.id||dn(!1),n.route.id}function Xce(){var t;let e=w.useContext(CU),n=qce(ox.UseRouteError),r=OU(ox.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Jce(){let{router:t}=Gce(AU.UseNavigateStable),e=OU(ox.UseNavigateStable),n=w.useRef(!1);return kU(()=>{n.current=!0}),w.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Pm({fromRouteId:e},o)))},[t,e])}const SR={};function Zce(t,e,n){!e&&!SR[t]&&(SR[t]=!0)}function Qce(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function eue(t){return Fce(t.context)}function gn(t){dn(!1)}function tue(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Va.Pop,navigator:o,static:s=!1,future:a}=t;Qg()&&dn(!1);let l=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:o,static:s,future:Pm({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=ih(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,g=w.useMemo(()=>{let y=bM(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:p},navigationType:i}},[l,u,d,f,h,p,i]);return g==null?null:w.createElement(ku.Provider,{value:c},w.createElement(k1.Provider,{children:n,value:g}))}function nue(t){let{children:e,location:n}=t;return Bce(zA(e),n)}new Promise(()=>{});function zA(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let o=[...e,i];if(r.type===w.Fragment){n.push.apply(n,zA(r.props.children,o));return}r.type!==gn&&dn(!1),!r.props.index||!r.props.children||dn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=zA(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function VA(){return VA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VA.apply(this,arguments)}function rue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iue(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oue(t,e){return t.button===0&&(!e||e==="_self")&&!iue(t)}const sue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aue="6";try{window.__reactRouterVersion=aue}catch{}const lue="startTransition",CR=sP[lue];function cue(t){let{basename:e,children:n,future:r,window:i}=t,o=w.useRef();o.current==null&&(o.current=uce({window:i,v5Compat:!0}));let s=o.current,[a,l]=w.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=w.useCallback(d=>{c&&CR?CR(()=>l(d)):l(d)},[l,c]);return w.useLayoutEffect(()=>s.listen(u),[s,u]),w.useEffect(()=>Qce(r),[r]),w.createElement(tue,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const uue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",due=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sx=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=rue(e,sue),{basename:h}=w.useContext(ku),p,g=!1;if(typeof c=="string"&&due.test(c)&&(p=c,uue))try{let x=new URL(window.location.href),C=c.startsWith("//")?new URL(x.protocol+c):new URL(c),S=bM(C.pathname,h);C.origin===x.origin&&S!=null?c=S+C.search+C.hash:g=!0}catch{}let y=Rce(c,{relative:i}),v=fue(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(x){r&&r(x),x.defaultPrevented||v(x)}return w.createElement("a",VA({},f,{href:p||y,onClick:g||o?r:b,ref:n,target:l}))});var kR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kR||(kR={}));var ER;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ER||(ER={}));function fue(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=di(),c=oh(),u=EU(t,{relative:s});return w.useCallback(d=>{if(oue(d,n)){d.preventDefault();let f=r!==void 0?r:ix(c)===ix(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const hue=[{label:"Dashboard",icon:hoe,path:"/"},{label:"Campanhas",icon:c1,path:"/campaigns"},{label:"Contactos",icon:d1,path:"/contacts"},{label:"Automaes",icon:rH,path:"/automations"},{label:"Analtica",icon:Qie,path:"/analytics"},{label:"Configuraes",icon:u1,path:"/settings"}];function pue(){const[t,e]=w.useState(!1),n=oh();return m.jsxs("aside",{className:ce("h-screen sticky top-0 flex flex-col bg-sidebar border-r border-sidebar-border transition-all duration-300 z-30",t?"w-16":"w-60"),children:[m.jsxs("div",{className:"flex items-center gap-3 px-4 h-16 border-b border-sidebar-border shrink-0",children:[m.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary flex items-center justify-center shrink-0",children:m.jsx(Qc,{className:"w-4 h-4 text-primary-foreground"})}),!t&&m.jsx("span",{className:"text-lg font-bold tracking-tight text-foreground",children:"MailPulse"})]}),m.jsx("nav",{className:"flex-1 py-4 px-2 space-y-1 overflow-y-auto",children:hue.map(r=>{const i=n.pathname===r.path||r.path!=="/"&&n.pathname.startsWith(r.path);return m.jsxs(sx,{to:r.path,className:ce("nav-item",i&&"active"),title:t?r.label:void 0,children:[m.jsx(r.icon,{className:"w-5 h-5 shrink-0"}),!t&&m.jsx("span",{children:r.label})]},r.path)})}),m.jsxs("div",{className:"flex h-12 border-t border-sidebar-border shrink-0",children:[m.jsxs("a",{href:"/admin",className:ce("flex-1 flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-sidebar-accent transition-colors",t&&"px-0"),title:"Voltar ao Painel Admin",children:[m.jsx(eh,{className:"w-4 h-4"}),!t&&m.jsx("span",{className:"ml-2 text-sm font-medium",children:"Voltar"})]}),m.jsx("div",{className:"w-[1px] bg-sidebar-border"}),m.jsx("button",{onClick:()=>e(!t),className:ce("flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-sidebar-accent transition-colors",t?"flex-1":"w-12"),title:t?"Expandir":"Recolher",children:t?m.jsx(qW,{className:"w-4 h-4"}):m.jsx(s1,{className:"w-4 h-4"})})]})]})}const ah=(t=400)=>new Promise(e=>setTimeout(e,t+Math.random()*200));async function mue(){const t=await fetch("/api/v1/email/analytics",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(!t.ok)throw new Error(`Failed to fetch dashboard stats: ${t.statusText}`);return t.json()}const ey=()=>{try{const t=localStorage.getItem("crm_templates");return t?JSON.parse(t):[]}catch{return[]}},wM=t=>{localStorage.setItem("crm_templates",JSON.stringify(t))};async function SM(){return await ah(300),{data:ey()}}async function gue(t){await ah(300);const n=ey().find(r=>r.id===t);if(!n)throw new Error("Template not found");return{data:n}}async function yue(t){await ah(500);const e={id:`t${Date.now()}`,name:t.name||"Untitled",content:t.content||[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...t},n=ey();return n.unshift(e),wM(n),{data:e}}async function vue(t,e){await ah(500);const n=ey(),r=n.findIndex(i=>i.id===t);if(r===-1)throw new Error("Template not found");return n[r]={...n[r],...e,updatedAt:new Date().toISOString()},wM(n),{data:n[r]}}async function bue(t){await ah(300);const e=ey(),n=e.findIndex(r=>r.id===t);if(n!==-1)return e.splice(n,1),wM(e),{data:void 0};throw new Error("Template not found")}async function AR(t){const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.perPage&&e.append("perPage",t.perPage.toString()),t!=null&&t.status&&t.status!=="all"&&e.append("status",t.status),t!=null&&t.search&&e.append("search",t.search);const n=await fetch(`/api/v1/email/campaigns?${e.toString()}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(!n.ok)throw new Error(`Failed to fetch campaigns: ${n.statusText}`);return n.json()}async function TU(t){const e=await fetch(`/api/v1/email/campaigns/${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch campaign: ${e.statusText}`);return e.json()}async function xue(t,e){const n=new URLSearchParams;e!=null&&e.page&&n.append("page",e.page.toString()),e!=null&&e.perPage&&n.append("per_page",e.perPage.toString());const r=await fetch(`/api/v1/email/campaigns/${t}/logs?${n.toString()}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include"});if(!r.ok)throw new Error(`Failed to fetch campaign logs: ${r.statusText}`);return r.json()}async function wue(t){const e=await fetch("/api/v1/email/campaigns",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to create campaign: ${e.statusText}`);return e.json()}async function Sue(t,e){const n=await fetch(`/api/v1/email/campaigns/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"include",body:JSON.stringify(e)});if(!n.ok)throw new Error(`Failed to update campaign: ${n.statusText}`);return n.json()}async function Cue(t){const e=await fetch(`/api/v1/email/campaigns/${t}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw new Error(`Failed to delete campaign: ${e.statusText}`)}async function kue(t){const e=await fetch(`/api/v1/email/campaigns/${t}/duplicate`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw new Error(`Failed to duplicate campaign: ${e.statusText}`);return e.json()}async function NU(){return await ah(200),{data:[{id:"1",name:"All Contacts"},{id:"2",name:"New Subscribers"},{id:"3",name:"VIP Customers"}]}}async function Eue(t){const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.perPage&&e.append("perPage",t.perPage.toString()),t!=null&&t.status&&t.status!=="all"&&e.append("status",t.status),t!=null&&t.search&&e.append("search",t.search),t!=null&&t.tag&&e.append("tag",t.tag),t!=null&&t.source&&e.append("source",t.source);const n=await fetch(`/api/v1/email/lists?${e.toString()}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(!n.ok)throw new Error(`Failed to fetch contacts: ${n.statusText}`);return n.json()}async function PU(t){const e=await fetch(`/api/v1/email/lists/${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch contact: ${e.statusText}`);return e.json()}async function Aue(t){const e=await fetch("/api/v1/email/lists",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to create contact: ${e.statusText}`);return e.json()}async function Oue(t,e){const n=await fetch(`/api/v1/email/lists/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!n.ok)throw new Error(`Failed to update contact: ${n.statusText}`);return n.json()}async function Tue(t){const e=await fetch(`/api/v1/email/lists/${t}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw new Error(`Failed to delete contact: ${e.statusText}`)}async function MU(t,e){const n=await fetch(`/api/v1/email/lists/${t}/tags`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tag:e})});if(!n.ok)throw new Error(`Failed to add tag: ${n.statusText}`);return n.json()}async function Nue(t,e){const n=await fetch(`/api/v1/email/lists/${t}/tags`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify({tag:e})});if(!n.ok)throw new Error(`Failed to remove tag: ${n.statusText}`);return n.json()}async function Pue(){const t=await fetch("/api/v1/email/analytics",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw new Error(`Failed to fetch analytics: ${t.statusText}`);return t.json()}async function Mue(t){const e=new URLSearchParams;t!=null&&t.page&&e.append("page",t.page.toString()),t!=null&&t.perPage&&e.append("perPage",t.perPage.toString()),t!=null&&t.status&&t.status!=="all"&&e.append("status",t.status),t!=null&&t.search&&e.append("search",t.search);const n=await fetch(`/api/v1/email/automations?${e.toString()}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(!n.ok)throw new Error(`Failed to fetch automations: ${n.statusText}`);return n.json()}async function _ue(t){const e=await fetch(`/api/v1/email/automations/${t}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});if(!e.ok)throw new Error(`Failed to fetch automation: ${e.statusText}`);return e.json()}async function jue(t){const e=await fetch("/api/v1/email/segments",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to create segment: ${e.statusText}`);return e.json()}async function $ue(t){const e=await fetch("/api/v1/email/automations",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to create automation: ${e.statusText}`);return e.json()}async function Iue(t,e){const n=await fetch(`/api/v1/email/automations/${t}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!n.ok)throw new Error(`Failed to update automation: ${n.statusText}`);return n.json()}async function Rue(){const t=await fetch("/api/v1/user",{headers:{Accept:"application/json"},credentials:"include"});if(!t.ok)throw new Error("Failed to fetch user");return t.json()}async function Due(){const t=await fetch("/api/v1/notifications",{headers:{Accept:"application/json"},credentials:"include"});if(!t.ok)throw new Error("Failed to fetch notifications");return t.json()}const _U=()=>{const t=document.cookie.match(new RegExp("(^| )XSRF-TOKEN=([^;]+)"));return t?decodeURIComponent(t[2]):null};async function Lue(){const t=_U();if(!(await fetch("/api/v1/notifications/read",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...t?{"X-XSRF-TOKEN":t}:{}},credentials:"include"})).ok)throw new Error("Failed to mark notifications as read")}async function Fue(){const t=_U();if(!(await fetch("/api/v1/notifications",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",...t?{"X-XSRF-TOKEN":t}:{}},credentials:"include"})).ok)throw new Error("Failed to clear notifications")}const jU=w.createContext({theme:"dark",toggle:()=>{}});function Bue({children:t}){const[e,n]=w.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"dark");w.useEffect(()=>{const i=document.documentElement;i.classList.remove("light","dark"),e==="light"&&i.classList.add("light"),localStorage.setItem("theme",e)},[e]);const r=()=>n(i=>i==="dark"?"light":"dark");return m.jsx(jU.Provider,{value:{theme:e,toggle:r},children:t})}const zue=()=>w.useContext(jU);var $U={exports:{}},IU={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=w;function Vue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wue=typeof Object.is=="function"?Object.is:Vue,Hue=af.useState,Uue=af.useEffect,Kue=af.useLayoutEffect,Gue=af.useDebugValue;function que(t,e){var n=e(),r=Hue({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Kue(function(){i.value=n,i.getSnapshot=e,KC(i)&&o({inst:i})},[t,n,e]),Uue(function(){return KC(i)&&o({inst:i}),t(function(){KC(i)&&o({inst:i})})},[t]),Gue(n),n}function KC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wue(t,n)}catch{return!0}}function Yue(t,e){return e()}var Xue=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yue:que;IU.useSyncExternalStore=af.useSyncExternalStore!==void 0?af.useSyncExternalStore:Xue;$U.exports=IU;var E1=$U.exports;function Jue(){return E1.useSyncExternalStore(Zue,()=>!0,()=>!1)}function Zue(){return()=>{}}var CM="Avatar",[Que,Ptt]=Or(CM),[ede,RU]=Que(CM),DU=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,o]=w.useState("idle");return m.jsx(ede,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:m.jsx(ye.span,{...r,ref:e})})});DU.displayName=CM;var LU="AvatarImage",FU=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=t,s=RU(LU,n),a=tde(r,o),l=Sn(c=>{i(c),s.onImageLoadingStatusChange(c)});return Lt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?m.jsx(ye.img,{...o,ref:e,src:r}):null});FU.displayName=LU;var BU="AvatarFallback",zU=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,o=RU(BU,n),[s,a]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),s&&o.imageLoadingStatus!=="loaded"?m.jsx(ye.span,{...i,ref:e}):null});zU.displayName=BU;function OR(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tde(t,{referrerPolicy:e,crossOrigin:n}){const r=Jue(),i=w.useRef(null),o=(()=>r?(i.current||(i.current=new window.Image),i.current):null)(),[s,a]=w.useState(()=>OR(o,t));return Lt(()=>{a(OR(o,t))},[o,t]),Lt(()=>{const l=d=>()=>{a(d)};if(!o)return;const c=l("loaded"),u=l("error");return o.addEventListener("load",c),o.addEventListener("error",u),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",u)}},[o,n,e]),s}var VU=DU,WU=FU,HU=zU;const UU=w.forwardRef(({className:t,...e},n)=>m.jsx(VU,{ref:n,className:ce("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));UU.displayName=VU.displayName;const KU=w.forwardRef(({className:t,...e},n)=>m.jsx(WU,{ref:n,className:ce("aspect-square h-full w-full",t),...e}));KU.displayName=WU.displayName;const GU=w.forwardRef(({className:t,...e},n)=>m.jsx(HU,{ref:n,className:ce("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));GU.displayName=HU.displayName;const nt=w.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));nt.displayName="Input";function nde(){const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,o]=w.useState([]),[s,a]=w.useState(null);w.useEffect(()=>{Due().then(h=>o(h.data)).catch(()=>{}),Rue().then(h=>a(h.data)).catch(()=>{})},[]);const{theme:l,toggle:c}=zue(),u=i.filter(h=>!h.read).length,d=async()=>{try{await Lue(),o(h=>h.map(p=>({...p,read:!0})))}catch(h){console.error(h)}},f=async()=>{try{await Fue(),o([])}catch(h){console.error(h)}};return m.jsxs("header",{className:"h-14 border-b border-border bg-card/60 backdrop-blur-sm flex items-center justify-between px-6 sticky top-0 z-20",children:[m.jsx("div",{className:"flex items-center gap-3 w-full max-w-md",children:m.jsxs("div",{className:"relative w-full",children:[m.jsx(oM,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),m.jsx(nt,{type:"search",placeholder:"Pesquisar...",className:"w-full pl-9 bg-secondary/50 border-transparent focus:bg-background focus:border-input transition-all",value:t,onChange:h=>e(h.target.value)})]})}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:c,className:"text-muted-foreground hover:text-foreground transition-colors",title:"Alternar tema",children:l==="dark"?m.jsx(Poe,{className:"w-5 h-5"}):m.jsx(boe,{className:"w-5 h-5"})}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>r(!n),className:"relative text-muted-foreground hover:text-foreground transition-colors",children:[m.jsx(Jie,{className:"w-5 h-5"}),u>0&&m.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-destructive text-destructive-foreground text-[10px] flex items-center justify-center font-bold",children:u})]}),n&&m.jsxs("div",{className:"absolute right-0 top-10 w-80 bg-popover border border-border rounded-lg shadow-xl animate-fade-in z-50",children:[m.jsxs("div",{className:"p-3 border-b border-border flex items-center justify-between",children:[m.jsx("h4",{className:"text-sm font-semibold",children:"Notificaes"}),m.jsxs("div",{className:"flex gap-1",children:[u>0&&m.jsx("button",{onClick:d,className:"p-1.5 text-muted-foreground hover:text-primary hover:bg-secondary rounded-md transition-colors",title:"Marcar todas como lidas",children:m.jsx(eoe,{className:"w-4 h-4"})}),i.length>0&&m.jsx("button",{onClick:f,className:"p-1.5 text-muted-foreground hover:text-destructive hover:bg-secondary rounded-md transition-colors",title:"Limpar todas",children:m.jsx(Pd,{className:"w-4 h-4"})})]})]}),m.jsx("div",{className:"max-h-64 overflow-y-auto",children:i.length===0?m.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:"Nenhuma notificao"}):i.map(h=>m.jsxs("div",{className:ce("px-3 py-2.5 border-b border-border/50 last:border-0 transition-colors hover:bg-secondary/50",!h.read&&"bg-primary/5"),children:[m.jsx("p",{className:"text-sm font-medium",children:h.title}),m.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:h.message})]},h.id))})]})]}),m.jsxs(UU,{className:"w-8 h-8 border border-border",children:[m.jsx(KU,{src:s==null?void 0:s.avatar,alt:s==null?void 0:s.name}),m.jsx(GU,{className:"bg-primary/20 text-xs font-bold text-primary",children:s!=null&&s.name?s.name.substring(0,2).toUpperCase():"MP"})]})]})]})}function rde(){return m.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[m.jsx(pue,{}),m.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[m.jsx(nde,{}),m.jsx("main",{className:"flex-1 p-6 overflow-auto",children:m.jsx(eue,{})})]})]})}var ide=Array.isArray,Br=ide,ode=typeof Ny=="object"&&Ny&&Ny.Object===Object&&Ny,qU=ode,sde=qU,ade=typeof self=="object"&&self&&self.Object===Object&&self,lde=sde||ade||Function("return this")(),ts=lde,cde=ts,ude=cde.Symbol,ty=ude,TR=ty,YU=Object.prototype,dde=YU.hasOwnProperty,fde=YU.toString,Bh=TR?TR.toStringTag:void 0;function hde(t){var e=dde.call(t,Bh),n=t[Bh];try{t[Bh]=void 0;var r=!0}catch{}var i=fde.call(t);return r&&(e?t[Bh]=n:delete t[Bh]),i}var pde=hde,mde=Object.prototype,gde=mde.toString;function yde(t){return gde.call(t)}var vde=yde,NR=ty,bde=pde,xde=vde,wde="[object Null]",Sde="[object Undefined]",PR=NR?NR.toStringTag:void 0;function Cde(t){return t==null?t===void 0?Sde:wde:PR&&PR in Object(t)?bde(t):xde(t)}var ea=Cde;function kde(t){return t!=null&&typeof t=="object"}var ta=kde,Ede=ea,Ade=ta,Ode="[object Symbol]";function Tde(t){return typeof t=="symbol"||Ade(t)&&Ede(t)==Ode}var lh=Tde,Nde=Br,Pde=lh,Mde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_de=/^\w*$/;function jde(t,e){if(Nde(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Pde(t)?!0:_de.test(t)||!Mde.test(t)||e!=null&&t in Object(e)}var kM=jde;function $de(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Il=$de;const ch=lt(Il);var Ide=ea,Rde=Il,Dde="[object AsyncFunction]",Lde="[object Function]",Fde="[object GeneratorFunction]",Bde="[object Proxy]";function zde(t){if(!Rde(t))return!1;var e=Ide(t);return e==Lde||e==Fde||e==Dde||e==Bde}var EM=zde;const Pe=lt(EM);var Vde=ts,Wde=Vde["__core-js_shared__"],Hde=Wde,GC=Hde,MR=function(){var t=/[^.]+$/.exec(GC&&GC.keys&&GC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ude(t){return!!MR&&MR in t}var Kde=Ude,Gde=Function.prototype,qde=Gde.toString;function Yde(t){if(t!=null){try{return qde.call(t)}catch{}try{return t+""}catch{}}return""}var XU=Yde,Xde=EM,Jde=Kde,Zde=Il,Qde=XU,efe=/[\\^$.*+?()[\]{}|]/g,tfe=/^\[object .+?Constructor\]$/,nfe=Function.prototype,rfe=Object.prototype,ife=nfe.toString,ofe=rfe.hasOwnProperty,sfe=RegExp("^"+ife.call(ofe).replace(efe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function afe(t){if(!Zde(t)||Jde(t))return!1;var e=Xde(t)?sfe:tfe;return e.test(Qde(t))}var lfe=afe;function cfe(t,e){return t==null?void 0:t[e]}var ufe=cfe,dfe=lfe,ffe=ufe;function hfe(t,e){var n=ffe(t,e);return dfe(n)?n:void 0}var Eu=hfe,pfe=Eu,mfe=pfe(Object,"create"),A1=mfe,_R=A1;function gfe(){this.__data__=_R?_R(null):{},this.size=0}var yfe=gfe;function vfe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var bfe=vfe,xfe=A1,wfe="__lodash_hash_undefined__",Sfe=Object.prototype,Cfe=Sfe.hasOwnProperty;function kfe(t){var e=this.__data__;if(xfe){var n=e[t];return n===wfe?void 0:n}return Cfe.call(e,t)?e[t]:void 0}var Efe=kfe,Afe=A1,Ofe=Object.prototype,Tfe=Ofe.hasOwnProperty;function Nfe(t){var e=this.__data__;return Afe?e[t]!==void 0:Tfe.call(e,t)}var Pfe=Nfe,Mfe=A1,_fe="__lodash_hash_undefined__";function jfe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mfe&&e===void 0?_fe:e,this}var $fe=jfe,Ife=yfe,Rfe=bfe,Dfe=Efe,Lfe=Pfe,Ffe=$fe;function uh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}uh.prototype.clear=Ife;uh.prototype.delete=Rfe;uh.prototype.get=Dfe;uh.prototype.has=Lfe;uh.prototype.set=Ffe;var Bfe=uh;function zfe(){this.__data__=[],this.size=0}var Vfe=zfe;function Wfe(t,e){return t===e||t!==t&&e!==e}var AM=Wfe,Hfe=AM;function Ufe(t,e){for(var n=t.length;n--;)if(Hfe(t[n][0],e))return n;return-1}var O1=Ufe,Kfe=O1,Gfe=Array.prototype,qfe=Gfe.splice;function Yfe(t){var e=this.__data__,n=Kfe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():qfe.call(e,n,1),--this.size,!0}var Xfe=Yfe,Jfe=O1;function Zfe(t){var e=this.__data__,n=Jfe(e,t);return n<0?void 0:e[n][1]}var Qfe=Zfe,ehe=O1;function the(t){return ehe(this.__data__,t)>-1}var nhe=the,rhe=O1;function ihe(t,e){var n=this.__data__,r=rhe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var ohe=ihe,she=Vfe,ahe=Xfe,lhe=Qfe,che=nhe,uhe=ohe;function dh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dh.prototype.clear=she;dh.prototype.delete=ahe;dh.prototype.get=lhe;dh.prototype.has=che;dh.prototype.set=uhe;var T1=dh,dhe=Eu,fhe=ts,hhe=dhe(fhe,"Map"),OM=hhe,jR=Bfe,phe=T1,mhe=OM;function ghe(){this.size=0,this.__data__={hash:new jR,map:new(mhe||phe),string:new jR}}var yhe=ghe;function vhe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var bhe=vhe,xhe=bhe;function whe(t,e){var n=t.__data__;return xhe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var N1=whe,She=N1;function Che(t){var e=She(this,t).delete(t);return this.size-=e?1:0,e}var khe=Che,Ehe=N1;function Ahe(t){return Ehe(this,t).get(t)}var Ohe=Ahe,The=N1;function Nhe(t){return The(this,t).has(t)}var Phe=Nhe,Mhe=N1;function _he(t,e){var n=Mhe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var jhe=_he,$he=yhe,Ihe=khe,Rhe=Ohe,Dhe=Phe,Lhe=jhe;function fh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fh.prototype.clear=$he;fh.prototype.delete=Ihe;fh.prototype.get=Rhe;fh.prototype.has=Dhe;fh.prototype.set=Lhe;var TM=fh,JU=TM,Fhe="Expected a function";function NM(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Fhe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(NM.Cache||JU),n}NM.Cache=JU;var ZU=NM;const Bhe=lt(ZU);var zhe=ZU,Vhe=500;function Whe(t){var e=zhe(t,function(r){return n.size===Vhe&&n.clear(),r}),n=e.cache;return e}var Hhe=Whe,Uhe=Hhe,Khe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ghe=/\\(\\)?/g,qhe=Uhe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Khe,function(n,r,i,o){e.push(i?o.replace(Ghe,"$1"):r||n)}),e}),Yhe=qhe;function Xhe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var PM=Xhe,$R=ty,Jhe=PM,Zhe=Br,Qhe=lh,epe=1/0,IR=$R?$R.prototype:void 0,RR=IR?IR.toString:void 0;function QU(t){if(typeof t=="string")return t;if(Zhe(t))return Jhe(t,QU)+"";if(Qhe(t))return RR?RR.call(t):"";var e=t+"";return e=="0"&&1/t==-epe?"-0":e}var tpe=QU,npe=tpe;function rpe(t){return t==null?"":npe(t)}var e6=rpe,ipe=Br,ope=kM,spe=Yhe,ape=e6;function lpe(t,e){return ipe(t)?t:ope(t,e)?[t]:spe(ape(t))}var t6=lpe,cpe=lh,upe=1/0;function dpe(t){if(typeof t=="string"||cpe(t))return t;var e=t+"";return e=="0"&&1/t==-upe?"-0":e}var P1=dpe,fpe=t6,hpe=P1;function ppe(t,e){e=fpe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[hpe(e[n++])];return n&&n==r?t:void 0}var MM=ppe,mpe=MM;function gpe(t,e,n){var r=t==null?void 0:mpe(t,e);return r===void 0?n:r}var n6=gpe;const ni=lt(n6);function ype(t){return t==null}var vpe=ype;const $e=lt(vpe);var bpe=ea,xpe=Br,wpe=ta,Spe="[object String]";function Cpe(t){return typeof t=="string"||!xpe(t)&&wpe(t)&&bpe(t)==Spe}var kpe=Cpe;const nu=lt(kpe);var r6={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _M=Symbol.for("react.element"),jM=Symbol.for("react.portal"),M1=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),j1=Symbol.for("react.profiler"),$1=Symbol.for("react.provider"),I1=Symbol.for("react.context"),Epe=Symbol.for("react.server_context"),R1=Symbol.for("react.forward_ref"),D1=Symbol.for("react.suspense"),L1=Symbol.for("react.suspense_list"),F1=Symbol.for("react.memo"),B1=Symbol.for("react.lazy"),Ape=Symbol.for("react.offscreen"),i6;i6=Symbol.for("react.module.reference");function Bi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case _M:switch(t=t.type,t){case M1:case j1:case _1:case D1:case L1:return t;default:switch(t=t&&t.$$typeof,t){case Epe:case I1:case R1:case B1:case F1:case $1:return t;default:return e}}case jM:return e}}}mt.ContextConsumer=I1;mt.ContextProvider=$1;mt.Element=_M;mt.ForwardRef=R1;mt.Fragment=M1;mt.Lazy=B1;mt.Memo=F1;mt.Portal=jM;mt.Profiler=j1;mt.StrictMode=_1;mt.Suspense=D1;mt.SuspenseList=L1;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(t){return Bi(t)===I1};mt.isContextProvider=function(t){return Bi(t)===$1};mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_M};mt.isForwardRef=function(t){return Bi(t)===R1};mt.isFragment=function(t){return Bi(t)===M1};mt.isLazy=function(t){return Bi(t)===B1};mt.isMemo=function(t){return Bi(t)===F1};mt.isPortal=function(t){return Bi(t)===jM};mt.isProfiler=function(t){return Bi(t)===j1};mt.isStrictMode=function(t){return Bi(t)===_1};mt.isSuspense=function(t){return Bi(t)===D1};mt.isSuspenseList=function(t){return Bi(t)===L1};mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===M1||t===j1||t===_1||t===D1||t===L1||t===Ape||typeof t=="object"&&t!==null&&(t.$$typeof===B1||t.$$typeof===F1||t.$$typeof===$1||t.$$typeof===I1||t.$$typeof===R1||t.$$typeof===i6||t.getModuleId!==void 0)};mt.typeOf=Bi;r6.exports=mt;var Ope=r6.exports,Tpe=ea,Npe=ta,Ppe="[object Number]";function Mpe(t){return typeof t=="number"||Npe(t)&&Tpe(t)==Ppe}var o6=Mpe;const _pe=lt(o6);var jpe=o6;function $pe(t){return jpe(t)&&t!=+t}var Ipe=$pe;const hh=lt(Ipe);var yr=function(e){return e===0?0:e>0?1:-1},hc=function(e){return nu(e)&&e.indexOf("%")===e.length-1},J=function(e){return _pe(e)&&!hh(e)},Rpe=function(e){return $e(e)},wn=function(e){return J(e)||nu(e)},Dpe=0,Au=function(e){var n=++Dpe;return"".concat(e||"").concat(n)},vr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(e)&&!nu(e))return r;var o;if(hc(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return hh(o)&&(o=r),i&&o>n&&(o=n),o},Ma=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Lpe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},bn=function(e,n){return J(e)&&J(n)?function(r){return e+r*(n-e)}:function(){return n}};function ax(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ni(r,e))===n})}var Fpe=function(e,n){return J(e)&&J(n)?e-n:nu(e)&&nu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function jd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function WA(t){"@babel/helpers - typeof";return WA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WA(t)}var Bpe=["viewBox","children"],zpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],DR=["points","pathLength"],qC={svg:Bpe,polygon:DR,polyline:DR},$M=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lx=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),!ch(r))return null;var i={};return Object.keys(r).forEach(function(o){$M.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Vpe=function(e,n,r){return function(i){return e(n,r,i),null}},ru=function(e,n,r){if(!ch(e)||WA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];$M.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Vpe(s,n,r))}),i},Wpe=["children"],Hpe=["children"];function LR(t,e){if(t==null)return{};var n=Upe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Upe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HA(t){"@babel/helpers - typeof";return HA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HA(t)}var FR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Is=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},BR=null,YC=null,IM=function t(e){if(e===BR&&Array.isArray(YC))return YC;var n=[];return w.Children.forEach(e,function(r){$e(r)||(Ope.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),YC=n,BR=e,n};function ri(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Is(i)}):r=[Is(e)],IM(t).forEach(function(i){var o=ni(i,"type.displayName")||ni(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Kr(t,e){var n=ri(t,e);return n&&n[0]}var zR=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!J(r)||r<=0||!J(i)||i<=0)},Kpe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gpe=function(e){return e&&e.type&&nu(e.type)&&Kpe.indexOf(e.type)>=0},s6=function(e){return e&&HA(e)==="object"&&"clipDot"in e},qpe=function(e,n,r,i){var o,s=(o=qC==null?void 0:qC[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Pe(e)&&(i&&s.includes(n)||zpe.includes(n))||r&&$M.includes(n)},we=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(w.isValidElement(e)&&(i=e.props),!ch(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;qpe((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},UA=function t(e,n){if(e===n)return!0;var r=w.Children.count(e);if(r!==w.Children.count(n))return!1;if(r===0)return!0;if(r===1)return VR(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!VR(o,s))return!1}return!0},VR=function(e,n){if($e(e)&&$e(n))return!0;if(!$e(e)&&!$e(n)){var r=e.props||{},i=r.children,o=LR(r,Wpe),s=n.props||{},a=s.children,l=LR(s,Hpe);return i&&a?jd(o,l)&&UA(i,a):!i&&!a?jd(o,l):!1}return!1},WR=function(e,n){var r=[],i={};return IM(e).forEach(function(o,s){if(Gpe(o))r.push(o);else if(o){var a=Is(o.type),l=n[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var d=c(o,a,s);r.push(d),i[a]=!0}}}),r},Ype=function(e){var n=e&&e.type;return n&&FR[n]?FR[n]:null},Xpe=function(e,n){return IM(n).indexOf(e)},Jpe=["children","width","height","viewBox","className","style","title","desc"];function KA(){return KA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KA.apply(this,arguments)}function Zpe(t,e){if(t==null)return{};var n=Qpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=Zpe(t,Jpe),u=i||{width:n,height:r,x:0,y:0},d=Ie("recharts-surface",o);return M.createElement("svg",KA({},we(c,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),M.createElement("title",null,a),M.createElement("desc",null,l),e)}var eme=["children","className"];function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qA.apply(this,arguments)}function tme(t,e){if(t==null)return{};var n=nme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ye=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=tme(t,eme),o=Ie("recharts-layer",r);return M.createElement("g",qA({className:o},we(i,!0),{ref:e}),n)}),lo=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function rme(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var ime=rme,ome=ime;function sme(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:ome(t,e,n)}var ame=sme,lme="\\ud800-\\udfff",cme="\\u0300-\\u036f",ume="\\ufe20-\\ufe2f",dme="\\u20d0-\\u20ff",fme=cme+ume+dme,hme="\\ufe0e\\ufe0f",pme="\\u200d",mme=RegExp("["+pme+lme+fme+hme+"]");function gme(t){return mme.test(t)}var a6=gme;function yme(t){return t.split("")}var vme=yme,l6="\\ud800-\\udfff",bme="\\u0300-\\u036f",xme="\\ufe20-\\ufe2f",wme="\\u20d0-\\u20ff",Sme=bme+xme+wme,Cme="\\ufe0e\\ufe0f",kme="["+l6+"]",YA="["+Sme+"]",XA="\\ud83c[\\udffb-\\udfff]",Eme="(?:"+YA+"|"+XA+")",c6="[^"+l6+"]",u6="(?:\\ud83c[\\udde6-\\uddff]){2}",d6="[\\ud800-\\udbff][\\udc00-\\udfff]",Ame="\\u200d",f6=Eme+"?",h6="["+Cme+"]?",Ome="(?:"+Ame+"(?:"+[c6,u6,d6].join("|")+")"+h6+f6+")*",Tme=h6+f6+Ome,Nme="(?:"+[c6+YA+"?",YA,u6,d6,kme].join("|")+")",Pme=RegExp(XA+"(?="+XA+")|"+Nme+Tme,"g");function Mme(t){return t.match(Pme)||[]}var _me=Mme,jme=vme,$me=a6,Ime=_me;function Rme(t){return $me(t)?Ime(t):jme(t)}var Dme=Rme,Lme=ame,Fme=a6,Bme=Dme,zme=e6;function Vme(t){return function(e){e=zme(e);var n=Fme(e)?Bme(e):void 0,r=n?n[0]:e.charAt(0),i=n?Lme(n,1).join(""):e.slice(1);return r[t]()+i}}var Wme=Vme,Hme=Wme,Ume=Hme("toUpperCase"),Kme=Ume;const z1=lt(Kme);function Ct(t){return function(){return t}}const p6=Math.cos,cx=Math.sin,go=Math.sqrt,ux=Math.PI,V1=2*ux,JA=Math.PI,ZA=2*JA,ec=1e-6,Gme=ZA-ec;function m6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return m6;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Yme{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?m6:qme(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,c=i-n,u=s-e,d=a-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>ec)if(!(Math.abs(d*l-c*u)>ec)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-s,p=i-a,g=l*l+c*c,y=h*h+p*p,v=Math.sqrt(g),b=Math.sqrt(f),x=o*Math.tan((JA-Math.acos((g+f-y)/(2*v*b)))/2),C=x/b,S=x/v;Math.abs(C-1)>ec&&this._append`L${e+C*u},${n+C*d}`,this._append`A${o},${o},0,0,${+(d*h>u*p)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ec||Math.abs(this._y1-u)>ec)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%ZA+ZA),f>Gme?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>ec&&this._append`A${r},${r},0,${+(f>=JA)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function RM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Yme(e)}function DM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function g6(t){this._context=t}g6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function W1(t){return new g6(t)}function y6(t){return t[0]}function v6(t){return t[1]}function b6(t,e){var n=Ct(!0),r=null,i=W1,o=null,s=RM(a);t=typeof t=="function"?t:t===void 0?y6:Ct(t),e=typeof e=="function"?e:e===void 0?v6:Ct(e);function a(l){var c,u=(l=DM(l)).length,d,f=!1,h;for(r==null&&(o=i(h=s())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(d,c,l),+e(d,c,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ct(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ct(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ct(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Zy(t,e,n){var r=null,i=Ct(!0),o=null,s=W1,a=null,l=RM(c);t=typeof t=="function"?t:t===void 0?y6:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?v6:Ct(+n);function c(d){var f,h,p,g=(d=DM(d)).length,y,v=!1,b,x=new Array(g),C=new Array(g);for(o==null&&(a=s(b=l())),f=0;f<=g;++f){if(!(f<g&&i(y=d[f],f,d))===v)if(v=!v)h=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=f-1;p>=h;--p)a.point(x[p],C[p]);a.lineEnd(),a.areaEnd()}v&&(x[f]=+t(y,f,d),C[f]=+e(y,f,d),a.point(r?+r(y,f,d):x[f],n?+n(y,f,d):C[f]))}if(b)return a=null,b+""||null}function u(){return b6().defined(i).curve(s).context(o)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Ct(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Ct(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ct(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Ct(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Ct(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ct(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ct(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),c):s},c.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),c):o},c}class x6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Xme(t){return new x6(t,!0)}function Jme(t){return new x6(t,!1)}const LM={draw(t,e){const n=go(e/ux);t.moveTo(n,0),t.arc(0,0,n,0,V1)}},Zme={draw(t,e){const n=go(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},w6=go(1/3),Qme=w6*2,ege={draw(t,e){const n=go(e/Qme),r=n*w6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tge={draw(t,e){const n=go(e),r=-n/2;t.rect(r,r,n,n)}},nge=.8908130915292852,S6=cx(ux/10)/cx(7*ux/10),rge=cx(V1/10)*S6,ige=-p6(V1/10)*S6,oge={draw(t,e){const n=go(e*nge),r=rge*n,i=ige*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=V1*o/5,a=p6(s),l=cx(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},XC=go(3),sge={draw(t,e){const n=-go(e/(XC*3));t.moveTo(0,n*2),t.lineTo(-XC*n,-n),t.lineTo(XC*n,-n),t.closePath()}},hi=-.5,pi=go(3)/2,QA=1/go(12),age=(QA/2+1)*3,lge={draw(t,e){const n=go(e/age),r=n/2,i=n*QA,o=r,s=n*QA+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(hi*r-pi*i,pi*r+hi*i),t.lineTo(hi*o-pi*s,pi*o+hi*s),t.lineTo(hi*a-pi*l,pi*a+hi*l),t.lineTo(hi*r+pi*i,hi*i-pi*r),t.lineTo(hi*o+pi*s,hi*s-pi*o),t.lineTo(hi*a+pi*l,hi*l-pi*a),t.closePath()}};function cge(t,e){let n=null,r=RM(i);t=typeof t=="function"?t:Ct(t||LM),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ct(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function dx(){}function fx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function C6(t){this._context=t}C6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uge(t){return new C6(t)}function k6(t){this._context=t}k6.prototype={areaStart:dx,areaEnd:dx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dge(t){return new k6(t)}function E6(t){this._context=t}E6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:fx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function fge(t){return new E6(t)}function A6(t){this._context=t}A6.prototype={areaStart:dx,areaEnd:dx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function hge(t){return new A6(t)}function HR(t){return t<0?-1:1}function UR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(HR(o)+HR(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function KR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function JC(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function hx(t){this._context=t}hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:JC(this,this._t0,KR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,JC(this,KR(this,n=UR(this,t,e)),n);break;default:JC(this,this._t0,n=UR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function O6(t){this._context=new T6(t)}(O6.prototype=Object.create(hx.prototype)).point=function(t,e){hx.prototype.point.call(this,e,t)};function T6(t){this._context=t}T6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function pge(t){return new hx(t)}function mge(t){return new O6(t)}function N6(t){this._context=t}N6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=GR(t),i=GR(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function GR(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function gge(t){return new N6(t)}function H1(t,e){this._context=t,this._t=e}H1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function yge(t){return new H1(t,.5)}function vge(t){return new H1(t,0)}function bge(t){return new H1(t,1)}function lf(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function eO(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xge(t,e){return t[e]}function wge(t){const e=[];return e.key=t,e}function Sge(){var t=Ct([]),e=eO,n=lf,r=xge;function i(o){var s=Array.from(t.apply(this,arguments),wge),a,l=s.length,c=-1,u;for(const d of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(d,s[a].key,c,o)]).data=d;for(a=0,u=DM(e(s));a<l;++a)s[u[a]].index=a;return n(s,u),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ct(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ct(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?eO:typeof o=="function"?o:Ct(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??lf,i):n},i}function Cge(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}lf(t,e)}}function kge(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}lf(t,e)}}function Ege(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var u=t[e[a]],d=u[r][1]||0,f=u[r-1][1]||0,h=(d-f)/2,p=0;p<a;++p){var g=t[e[p]],y=g[r][1]||0,v=g[r-1][1]||0;h+=y-v}l+=d,c+=h*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,lf(t,e)}}function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}var Age=["type","size","sizeType"];function tO(){return tO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tO.apply(this,arguments)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Oge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oge(t,e,n){return e=Tge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tge(t){var e=Nge(t,"string");return Mm(e)=="symbol"?e:e+""}function Nge(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pge(t,e){if(t==null)return{};var n=Mge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var P6={symbolCircle:LM,symbolCross:Zme,symbolDiamond:ege,symbolSquare:tge,symbolStar:oge,symbolTriangle:sge,symbolWye:lge},_ge=Math.PI/180,jge=function(e){var n="symbol".concat(z1(e));return P6[n]||LM},$ge=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*_ge;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Ige=function(e,n){P6["symbol".concat(z1(e))]=n},FM=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Pge(e,Age),c=YR(YR({},l),{},{type:r,size:o,sizeType:a}),u=function(){var y=jge(r),v=cge().type(y).size($ge(o,a,r));return v()},d=c.className,f=c.cx,h=c.cy,p=we(c,!0);return f===+f&&h===+h&&o===+o?M.createElement("path",tO({},p,{className:Ie("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};FM.registerSymbol=Ige;function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function nO(){return nO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nO.apply(this,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){_m(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_6(r.key),r)}}function Lge(t,e,n){return e&&JR(t.prototype,e),n&&JR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fge(t,e,n){return e=px(e),Bge(t,M6()?Reflect.construct(e,n||[],px(t).constructor):e.apply(t,n))}function Bge(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zge(t)}function zge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M6=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},px(t)}function Vge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rO(t,e)}function rO(t,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rO(t,e)}function _m(t,e,n){return e=_6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _6(t){var e=Wge(t,"string");return cf(e)=="symbol"?e:e+""}function Wge(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mi=32,BM=function(t){function e(){return Dge(this,e),Fge(this,e,arguments)}return Vge(e,t),Lge(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=mi/2,s=mi/6,a=mi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:mi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(mi,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(mi/8,"h").concat(mi,"v").concat(mi*3/4,"h").concat(-mi,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var c=Rge({},r);return delete c.legendIcon,M.cloneElement(r.legendIcon,c)}return M.createElement(FM,{fill:l,cx:o,cy:o,size:mi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:mi,height:mi},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(h,p){var g=h.formatter||l,y=Ie(_m(_m({"recharts-legend-item":!0},"legend-item-".concat(p),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=Pe(h.value)?null:h.value;lo(!Pe(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?c:h.color;return M.createElement("li",nO({className:y,style:d,key:"legend-item-".concat(p)},ru(r.props,h,p)),M.createElement(GA,{width:s,height:s,viewBox:u,style:f},r.renderIcon(h)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},g?g(v,h,p):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(w.PureComponent);_m(BM,"displayName","Legend");_m(BM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Hge=T1;function Uge(){this.__data__=new Hge,this.size=0}var Kge=Uge;function Gge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var qge=Gge;function Yge(t){return this.__data__.get(t)}var Xge=Yge;function Jge(t){return this.__data__.has(t)}var Zge=Jge,Qge=T1,eye=OM,tye=TM,nye=200;function rye(t,e){var n=this.__data__;if(n instanceof Qge){var r=n.__data__;if(!eye||r.length<nye-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tye(r)}return n.set(t,e),this.size=n.size,this}var iye=rye,oye=T1,sye=Kge,aye=qge,lye=Xge,cye=Zge,uye=iye;function ph(t){var e=this.__data__=new oye(t);this.size=e.size}ph.prototype.clear=sye;ph.prototype.delete=aye;ph.prototype.get=lye;ph.prototype.has=cye;ph.prototype.set=uye;var j6=ph,dye="__lodash_hash_undefined__";function fye(t){return this.__data__.set(t,dye),this}var hye=fye;function pye(t){return this.__data__.has(t)}var mye=pye,gye=TM,yye=hye,vye=mye;function mx(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gye;++e<n;)this.add(t[e])}mx.prototype.add=mx.prototype.push=yye;mx.prototype.has=vye;var $6=mx;function bye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var I6=bye;function xye(t,e){return t.has(e)}var R6=xye,wye=$6,Sye=I6,Cye=R6,kye=1,Eye=2;function Aye(t,e,n,r,i,o){var s=n&kye,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&Eye?new wye:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],g=e[d];if(r)var y=s?r(g,p,d,e,t,o):r(p,g,d,t,e,o);if(y!==void 0){if(y)continue;f=!1;break}if(h){if(!Sye(e,function(v,b){if(!Cye(h,b)&&(p===v||i(p,v,n,r,o)))return h.push(b)})){f=!1;break}}else if(!(p===g||i(p,g,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var D6=Aye,Oye=ts,Tye=Oye.Uint8Array,Nye=Tye;function Pye(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Mye=Pye;function _ye(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var zM=_ye,ZR=ty,QR=Nye,jye=AM,$ye=D6,Iye=Mye,Rye=zM,Dye=1,Lye=2,Fye="[object Boolean]",Bye="[object Date]",zye="[object Error]",Vye="[object Map]",Wye="[object Number]",Hye="[object RegExp]",Uye="[object Set]",Kye="[object String]",Gye="[object Symbol]",qye="[object ArrayBuffer]",Yye="[object DataView]",eD=ZR?ZR.prototype:void 0,ZC=eD?eD.valueOf:void 0;function Xye(t,e,n,r,i,o,s){switch(n){case Yye:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case qye:return!(t.byteLength!=e.byteLength||!o(new QR(t),new QR(e)));case Fye:case Bye:case Wye:return jye(+t,+e);case zye:return t.name==e.name&&t.message==e.message;case Hye:case Kye:return t==e+"";case Vye:var a=Iye;case Uye:var l=r&Dye;if(a||(a=Rye),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;r|=Lye,s.set(t,e);var u=$ye(a(t),a(e),r,i,o,s);return s.delete(t),u;case Gye:if(ZC)return ZC.call(t)==ZC.call(e)}return!1}var Jye=Xye;function Zye(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var L6=Zye,Qye=L6,eve=Br;function tve(t,e,n){var r=e(t);return eve(t)?r:Qye(r,n(t))}var nve=tve;function rve(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var ive=rve;function ove(){return[]}var sve=ove,ave=ive,lve=sve,cve=Object.prototype,uve=cve.propertyIsEnumerable,tD=Object.getOwnPropertySymbols,dve=tD?function(t){return t==null?[]:(t=Object(t),ave(tD(t),function(e){return uve.call(t,e)}))}:lve,fve=dve;function hve(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var pve=hve,mve=ea,gve=ta,yve="[object Arguments]";function vve(t){return gve(t)&&mve(t)==yve}var bve=vve,nD=bve,xve=ta,F6=Object.prototype,wve=F6.hasOwnProperty,Sve=F6.propertyIsEnumerable,Cve=nD(function(){return arguments}())?nD:function(t){return xve(t)&&wve.call(t,"callee")&&!Sve.call(t,"callee")},VM=Cve,gx={exports:{}};function kve(){return!1}var Eve=kve;gx.exports;(function(t,e){var n=ts,r=Eve,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(gx,gx.exports);var B6=gx.exports,Ave=9007199254740991,Ove=/^(?:0|[1-9]\d*)$/;function Tve(t,e){var n=typeof t;return e=e??Ave,!!e&&(n=="number"||n!="symbol"&&Ove.test(t))&&t>-1&&t%1==0&&t<e}var WM=Tve,Nve=9007199254740991;function Pve(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Nve}var HM=Pve,Mve=ea,_ve=HM,jve=ta,$ve="[object Arguments]",Ive="[object Array]",Rve="[object Boolean]",Dve="[object Date]",Lve="[object Error]",Fve="[object Function]",Bve="[object Map]",zve="[object Number]",Vve="[object Object]",Wve="[object RegExp]",Hve="[object Set]",Uve="[object String]",Kve="[object WeakMap]",Gve="[object ArrayBuffer]",qve="[object DataView]",Yve="[object Float32Array]",Xve="[object Float64Array]",Jve="[object Int8Array]",Zve="[object Int16Array]",Qve="[object Int32Array]",ebe="[object Uint8Array]",tbe="[object Uint8ClampedArray]",nbe="[object Uint16Array]",rbe="[object Uint32Array]",Nt={};Nt[Yve]=Nt[Xve]=Nt[Jve]=Nt[Zve]=Nt[Qve]=Nt[ebe]=Nt[tbe]=Nt[nbe]=Nt[rbe]=!0;Nt[$ve]=Nt[Ive]=Nt[Gve]=Nt[Rve]=Nt[qve]=Nt[Dve]=Nt[Lve]=Nt[Fve]=Nt[Bve]=Nt[zve]=Nt[Vve]=Nt[Wve]=Nt[Hve]=Nt[Uve]=Nt[Kve]=!1;function ibe(t){return jve(t)&&_ve(t.length)&&!!Nt[Mve(t)]}var obe=ibe;function sbe(t){return function(e){return t(e)}}var z6=sbe,yx={exports:{}};yx.exports;(function(t,e){var n=qU,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(yx,yx.exports);var abe=yx.exports,lbe=obe,cbe=z6,rD=abe,iD=rD&&rD.isTypedArray,ube=iD?cbe(iD):lbe,V6=ube,dbe=pve,fbe=VM,hbe=Br,pbe=B6,mbe=WM,gbe=V6,ybe=Object.prototype,vbe=ybe.hasOwnProperty;function bbe(t,e){var n=hbe(t),r=!n&&fbe(t),i=!n&&!r&&pbe(t),o=!n&&!r&&!i&&gbe(t),s=n||r||i||o,a=s?dbe(t.length,String):[],l=a.length;for(var c in t)(e||vbe.call(t,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||mbe(c,l)))&&a.push(c);return a}var xbe=bbe,wbe=Object.prototype;function Sbe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||wbe;return t===n}var Cbe=Sbe;function kbe(t,e){return function(n){return t(e(n))}}var W6=kbe,Ebe=W6,Abe=Ebe(Object.keys,Object),Obe=Abe,Tbe=Cbe,Nbe=Obe,Pbe=Object.prototype,Mbe=Pbe.hasOwnProperty;function _be(t){if(!Tbe(t))return Nbe(t);var e=[];for(var n in Object(t))Mbe.call(t,n)&&n!="constructor"&&e.push(n);return e}var jbe=_be,$be=EM,Ibe=HM;function Rbe(t){return t!=null&&Ibe(t.length)&&!$be(t)}var ny=Rbe,Dbe=xbe,Lbe=jbe,Fbe=ny;function Bbe(t){return Fbe(t)?Dbe(t):Lbe(t)}var U1=Bbe,zbe=nve,Vbe=fve,Wbe=U1;function Hbe(t){return zbe(t,Wbe,Vbe)}var Ube=Hbe,oD=Ube,Kbe=1,Gbe=Object.prototype,qbe=Gbe.hasOwnProperty;function Ybe(t,e,n,r,i,o){var s=n&Kbe,a=oD(t),l=a.length,c=oD(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:qbe.call(e,f)))return!1}var h=o.get(t),p=o.get(e);if(h&&p)return h==e&&p==t;var g=!0;o.set(t,e),o.set(e,t);for(var y=s;++d<l;){f=a[d];var v=t[f],b=e[f];if(r)var x=s?r(b,v,f,e,t,o):r(v,b,f,t,e,o);if(!(x===void 0?v===b||i(v,b,n,r,o):x)){g=!1;break}y||(y=f=="constructor")}if(g&&!y){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var Xbe=Ybe,Jbe=Eu,Zbe=ts,Qbe=Jbe(Zbe,"DataView"),exe=Qbe,txe=Eu,nxe=ts,rxe=txe(nxe,"Promise"),ixe=rxe,oxe=Eu,sxe=ts,axe=oxe(sxe,"Set"),H6=axe,lxe=Eu,cxe=ts,uxe=lxe(cxe,"WeakMap"),dxe=uxe,iO=exe,oO=OM,sO=ixe,aO=H6,lO=dxe,U6=ea,mh=XU,sD="[object Map]",fxe="[object Object]",aD="[object Promise]",lD="[object Set]",cD="[object WeakMap]",uD="[object DataView]",hxe=mh(iO),pxe=mh(oO),mxe=mh(sO),gxe=mh(aO),yxe=mh(lO),tc=U6;(iO&&tc(new iO(new ArrayBuffer(1)))!=uD||oO&&tc(new oO)!=sD||sO&&tc(sO.resolve())!=aD||aO&&tc(new aO)!=lD||lO&&tc(new lO)!=cD)&&(tc=function(t){var e=U6(t),n=e==fxe?t.constructor:void 0,r=n?mh(n):"";if(r)switch(r){case hxe:return uD;case pxe:return sD;case mxe:return aD;case gxe:return lD;case yxe:return cD}return e});var vxe=tc,QC=j6,bxe=D6,xxe=Jye,wxe=Xbe,dD=vxe,fD=Br,hD=B6,Sxe=V6,Cxe=1,pD="[object Arguments]",mD="[object Array]",Qy="[object Object]",kxe=Object.prototype,gD=kxe.hasOwnProperty;function Exe(t,e,n,r,i,o){var s=fD(t),a=fD(e),l=s?mD:dD(t),c=a?mD:dD(e);l=l==pD?Qy:l,c=c==pD?Qy:c;var u=l==Qy,d=c==Qy,f=l==c;if(f&&hD(t)){if(!hD(e))return!1;s=!0,u=!1}if(f&&!u)return o||(o=new QC),s||Sxe(t)?bxe(t,e,n,r,i,o):xxe(t,e,l,n,r,i,o);if(!(n&Cxe)){var h=u&&gD.call(t,"__wrapped__"),p=d&&gD.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,y=p?e.value():e;return o||(o=new QC),i(g,y,n,r,o)}}return f?(o||(o=new QC),wxe(t,e,n,r,i,o)):!1}var Axe=Exe,Oxe=Axe,yD=ta;function K6(t,e,n,r,i){return t===e?!0:t==null||e==null||!yD(t)&&!yD(e)?t!==t&&e!==e:Oxe(t,e,n,r,K6,i)}var UM=K6,Txe=j6,Nxe=UM,Pxe=1,Mxe=2;function _xe(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new Txe;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?Nxe(u,c,Pxe|Mxe,r,d):f))return!1}}return!0}var jxe=_xe,$xe=Il;function Ixe(t){return t===t&&!$xe(t)}var G6=Ixe,Rxe=G6,Dxe=U1;function Lxe(t){for(var e=Dxe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Rxe(i)]}return e}var Fxe=Lxe;function Bxe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var q6=Bxe,zxe=jxe,Vxe=Fxe,Wxe=q6;function Hxe(t){var e=Vxe(t);return e.length==1&&e[0][2]?Wxe(e[0][0],e[0][1]):function(n){return n===t||zxe(n,t,e)}}var Uxe=Hxe;function Kxe(t,e){return t!=null&&e in Object(t)}var Gxe=Kxe,qxe=t6,Yxe=VM,Xxe=Br,Jxe=WM,Zxe=HM,Qxe=P1;function e0e(t,e,n){e=qxe(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Qxe(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Zxe(i)&&Jxe(s,i)&&(Xxe(t)||Yxe(t)))}var t0e=e0e,n0e=Gxe,r0e=t0e;function i0e(t,e){return t!=null&&r0e(t,e,n0e)}var o0e=i0e,s0e=UM,a0e=n6,l0e=o0e,c0e=kM,u0e=G6,d0e=q6,f0e=P1,h0e=1,p0e=2;function m0e(t,e){return c0e(t)&&u0e(e)?d0e(f0e(t),e):function(n){var r=a0e(n,t);return r===void 0&&r===e?l0e(n,t):s0e(e,r,h0e|p0e)}}var g0e=m0e;function y0e(t){return t}var gh=y0e;function v0e(t){return function(e){return e==null?void 0:e[t]}}var b0e=v0e,x0e=MM;function w0e(t){return function(e){return x0e(e,t)}}var S0e=w0e,C0e=b0e,k0e=S0e,E0e=kM,A0e=P1;function O0e(t){return E0e(t)?C0e(A0e(t)):k0e(t)}var T0e=O0e,N0e=Uxe,P0e=g0e,M0e=gh,_0e=Br,j0e=T0e;function $0e(t){return typeof t=="function"?t:t==null?M0e:typeof t=="object"?_0e(t)?P0e(t[0],t[1]):N0e(t):j0e(t)}var ns=$0e;function I0e(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Y6=I0e;function R0e(t){return t!==t}var D0e=R0e;function L0e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var F0e=L0e,B0e=Y6,z0e=D0e,V0e=F0e;function W0e(t,e,n){return e===e?V0e(t,e,n):B0e(t,z0e,n)}var H0e=W0e,U0e=H0e;function K0e(t,e){var n=t==null?0:t.length;return!!n&&U0e(t,e,0)>-1}var G0e=K0e;function q0e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Y0e=q0e;function X0e(){}var J0e=X0e,ek=H6,Z0e=J0e,Q0e=zM,ewe=1/0,twe=ek&&1/Q0e(new ek([,-0]))[1]==ewe?function(t){return new ek(t)}:Z0e,nwe=twe,rwe=$6,iwe=G0e,owe=Y0e,swe=R6,awe=nwe,lwe=zM,cwe=200;function uwe(t,e,n){var r=-1,i=iwe,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=owe;else if(o>=cwe){var c=e?null:awe(t);if(c)return lwe(c);s=!1,i=swe,l=new rwe}else l=e?[]:a;e:for(;++r<o;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),a.push(u)}else i(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}var dwe=uwe,fwe=ns,hwe=dwe;function pwe(t,e){return t&&t.length?hwe(t,fwe(e)):[]}var mwe=pwe;const vD=lt(mwe);function X6(t,e,n){return e===!0?vD(t,n):Pe(e)?vD(t,e):t}function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var gwe=["ref"];function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){K1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ywe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z6(r.key),r)}}function vwe(t,e,n){return e&&xD(t.prototype,e),n&&xD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bwe(t,e,n){return e=vx(e),xwe(t,J6()?Reflect.construct(e,n||[],vx(t).constructor):e.apply(t,n))}function xwe(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wwe(t)}function wwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J6=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vx(t)}function Swe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cO(t,e)}function cO(t,e){return cO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cO(t,e)}function K1(t,e,n){return e=Z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z6(t){var e=Cwe(t,"string");return uf(e)=="symbol"?e:e+""}function Cwe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kwe(t,e){if(t==null)return{};var n=Ewe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ewe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Awe(t){return t.value}function Owe(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=kwe(e,gwe);return M.createElement(BM,n)}var wD=1,_c=function(t){function e(){var n;ywe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=bwe(this,e,[].concat(i)),K1(n,"lastBoundingBox",{width:-1,height:-1}),n}return Swe(e,t),vwe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>wD||Math.abs(i.height-this.lastBoundingBox.height)>wD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var h=this.getBBoxSnapshot();d={left:((c||0)-h.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var p=this.getBBoxSnapshot();f={top:((u||0)-p.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return cs(cs({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=cs(cs({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){r.wrapperNode=h}},Owe(o,cs(cs({},this.props),{},{payload:X6(u,c,Awe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=cs(cs({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&J(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(w.PureComponent);K1(_c,"displayName","Legend");K1(_c,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var SD=ty,Twe=VM,Nwe=Br,CD=SD?SD.isConcatSpreadable:void 0;function Pwe(t){return Nwe(t)||Twe(t)||!!(CD&&t&&t[CD])}var Mwe=Pwe,_we=L6,jwe=Mwe;function Q6(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=jwe),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Q6(a,e-1,n,r,i):_we(i,a):r||(i[i.length]=a)}return i}var e8=Q6;function $we(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Iwe=$we,Rwe=Iwe,Dwe=Rwe(),Lwe=Dwe,Fwe=Lwe,Bwe=U1;function zwe(t,e){return t&&Fwe(t,e,Bwe)}var t8=zwe,Vwe=ny;function Wwe(t,e){return function(n,r){if(n==null)return n;if(!Vwe(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Hwe=Wwe,Uwe=t8,Kwe=Hwe,Gwe=Kwe(Uwe),KM=Gwe,qwe=KM,Ywe=ny;function Xwe(t,e){var n=-1,r=Ywe(t)?Array(t.length):[];return qwe(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var n8=Xwe;function Jwe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Zwe=Jwe,kD=lh;function Qwe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=kD(t),s=e!==void 0,a=e===null,l=e===e,c=kD(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var e1e=Qwe,t1e=e1e;function n1e(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=t1e(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var r1e=n1e,tk=PM,i1e=MM,o1e=ns,s1e=n8,a1e=Zwe,l1e=z6,c1e=r1e,u1e=gh,d1e=Br;function f1e(t,e,n){e.length?e=tk(e,function(o){return d1e(o)?function(s){return i1e(s,o.length===1?o[0]:o)}:o}):e=[u1e];var r=-1;e=tk(e,l1e(o1e));var i=s1e(t,function(o,s,a){var l=tk(e,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return a1e(i,function(o,s){return c1e(o,s,n)})}var h1e=f1e;function p1e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var m1e=p1e,g1e=m1e,ED=Math.max;function y1e(t,e,n){return e=ED(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=ED(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),g1e(t,this,a)}}var v1e=y1e;function b1e(t){return function(){return t}}var x1e=b1e,w1e=Eu,S1e=function(){try{var t=w1e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),r8=S1e,C1e=x1e,AD=r8,k1e=gh,E1e=AD?function(t,e){return AD(t,"toString",{configurable:!0,enumerable:!1,value:C1e(e),writable:!0})}:k1e,A1e=E1e,O1e=800,T1e=16,N1e=Date.now;function P1e(t){var e=0,n=0;return function(){var r=N1e(),i=T1e-(r-n);if(n=r,i>0){if(++e>=O1e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var M1e=P1e,_1e=A1e,j1e=M1e,$1e=j1e(_1e),I1e=$1e,R1e=gh,D1e=v1e,L1e=I1e;function F1e(t,e){return L1e(D1e(t,e,R1e),t+"")}var B1e=F1e,z1e=AM,V1e=ny,W1e=WM,H1e=Il;function U1e(t,e,n){if(!H1e(n))return!1;var r=typeof e;return(r=="number"?V1e(n)&&W1e(e,n.length):r=="string"&&e in n)?z1e(n[e],t):!1}var G1=U1e,K1e=e8,G1e=h1e,q1e=B1e,OD=G1,Y1e=q1e(function(t,e){if(t==null)return[];var n=e.length;return n>1&&OD(t,e[0],e[1])?e=[]:n>2&&OD(e[0],e[1],e[2])&&(e=[e[0]]),G1e(t,K1e(e,1),[])}),X1e=Y1e;const GM=lt(X1e);function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function uO(){return uO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uO.apply(this,arguments)}function J1e(t,e){return tSe(t)||eSe(t,e)||Q1e(t,e)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q1e(t,e){if(t){if(typeof t=="string")return TD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TD(t,e)}}function TD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function tSe(t){if(Array.isArray(t))return t}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){nSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nSe(t,e,n){return e=rSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rSe(t){var e=iSe(t,"string");return jm(e)=="symbol"?e:e+""}function iSe(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oSe(t){return Array.isArray(t)&&wn(t[0])&&wn(t[1])?t.join(" ~ "):t}var sSe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,p=e.labelClassName,g=e.label,y=e.labelFormatter,v=e.accessibilityLayer,b=v===void 0?!1:v,x=function(){if(u&&u.length){var N={padding:0,margin:0},$=(f?GM(u,f):u).map(function(_,I){if(_.type==="none")return null;var R=nk({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},a),F=_.formatter||d||oSe,j=_.value,L=_.name,V=j,U=L;if(F&&V!=null&&U!=null){var G=F(j,L,_,I,u);if(Array.isArray(G)){var ie=J1e(G,2);V=ie[0],U=ie[1]}else V=G}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:R},wn(U)?M.createElement("span",{className:"recharts-tooltip-item-name"},U):null,wn(U)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},V),M.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:N},$)}return null},C=nk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=nk({margin:0},c),k=!$e(g),E=k?g:"",A=Ie("recharts-default-tooltip",h),O=Ie("recharts-tooltip-label",p);k&&y&&u!==void 0&&u!==null&&(E=y(g,u));var P=b?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",uO({className:A,style:C},P),M.createElement("p",{className:O,style:S},M.isValidElement(E)?E:"".concat(E)),x())};function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function ev(t,e,n){return e=aSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aSe(t){var e=lSe(t,"string");return $m(e)=="symbol"?e:e+""}function lSe(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zh="recharts-tooltip-wrapper",cSe={visibility:"hidden"};function uSe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ie(zh,ev(ev(ev(ev({},"".concat(zh,"-right"),J(n)&&e&&J(e.x)&&n>=e.x),"".concat(zh,"-left"),J(n)&&e&&J(e.x)&&n<e.x),"".concat(zh,"-bottom"),J(r)&&e&&J(e.y)&&r>=e.y),"".concat(zh,"-top"),J(r)&&e&&J(e.y)&&r<e.y))}function PD(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&J(o[r]))return o[r];var u=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?u:d;if(s[r]){var f=u,h=l[r];return f<h?Math.max(d,l[r]):Math.max(u,l[r])}var p=d+a,g=l[r]+c;return p>g?Math.max(u,l[r]):Math.max(d,l[r])}function dSe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fSe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,d;return s.height>0&&s.width>0&&n?(u=PD({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=PD({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=dSe({translateX:u,translateY:d,useTranslate3d:a})):c=cSe,{cssProperties:c,cssClasses:uSe({translateX:u,translateY:d,coordinate:n})}}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _D(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){fO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o8(r.key),r)}}function pSe(t,e,n){return e&&jD(t.prototype,e),n&&jD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mSe(t,e,n){return e=bx(e),gSe(t,i8()?Reflect.construct(e,n||[],bx(t).constructor):e.apply(t,n))}function gSe(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ySe(t)}function ySe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i8=function(){return!!t})()}function bx(t){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bx(t)}function vSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dO(t,e)}function dO(t,e){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dO(t,e)}function fO(t,e,n){return e=o8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o8(t){var e=bSe(t,"string");return df(e)=="symbol"?e:e+""}function bSe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $D=1,xSe=function(t){function e(){var n;hSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mSe(this,e,[].concat(i)),fO(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fO(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return vSe(e,t),pSe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$D||Math.abs(r.height-this.state.lastBoundingBox.height)>$D)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,h=i.offset,p=i.position,g=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,b=i.wrapperStyle,x=fSe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:h,position:p,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),C=x.cssClasses,S=x.cssProperties,k=_D(_D({transition:f&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return M.createElement("div",{tabIndex:-1,className:C,style:k,ref:function(A){r.wrapperNode=A}},c)}}])}(w.PureComponent),wSe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},co={isSsr:wSe(),get:function(e){return co[e]},set:function(e,n){if(typeof e=="string")co[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){co[i]=e[i]})}}};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){qM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a8(r.key),r)}}function CSe(t,e,n){return e&&DD(t.prototype,e),n&&DD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kSe(t,e,n){return e=xx(e),ESe(t,s8()?Reflect.construct(e,n||[],xx(t).constructor):e.apply(t,n))}function ESe(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ASe(t)}function ASe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s8=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xx(t)}function OSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hO(t,e)}function hO(t,e){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hO(t,e)}function qM(t,e,n){return e=a8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a8(t){var e=TSe(t,"string");return ff(e)=="symbol"?e:e+""}function TSe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NSe(t){return t.dataKey}function PSe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(sSe,e)}var Gr=function(t){function e(){return SSe(this,e),kSe(this,e,arguments)}return OSe(e,t),CSe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,h=i.offset,p=i.payload,g=i.payloadUniqBy,y=i.position,v=i.reverseDirection,b=i.useTranslate3d,x=i.viewBox,C=i.wrapperStyle,S=p??[];d&&S.length&&(S=X6(p.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),g,NSe));var k=S.length>0;return M.createElement(xSe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:o,coordinate:u,hasPayload:k,offset:h,position:y,reverseDirection:v,useTranslate3d:b,viewBox:x,wrapperStyle:C},PSe(c,RD(RD({},this.props),{},{payload:S})))}}])}(w.PureComponent);qM(Gr,"displayName","Tooltip");qM(Gr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!co.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var MSe=ts,_Se=function(){return MSe.Date.now()},jSe=_Se,$Se=/\s/;function ISe(t){for(var e=t.length;e--&&$Se.test(t.charAt(e)););return e}var RSe=ISe,DSe=RSe,LSe=/^\s+/;function FSe(t){return t&&t.slice(0,DSe(t)+1).replace(LSe,"")}var BSe=FSe,zSe=BSe,LD=Il,VSe=lh,FD=0/0,WSe=/^[-+]0x[0-9a-f]+$/i,HSe=/^0b[01]+$/i,USe=/^0o[0-7]+$/i,KSe=parseInt;function GSe(t){if(typeof t=="number")return t;if(VSe(t))return FD;if(LD(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=LD(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zSe(t);var n=HSe.test(t);return n||USe.test(t)?KSe(t.slice(2),n?2:8):WSe.test(t)?FD:+t}var l8=GSe,qSe=Il,rk=jSe,BD=l8,YSe="Expected a function",XSe=Math.max,JSe=Math.min;function ZSe(t,e,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(YSe);e=BD(e)||0,qSe(n)&&(u=!!n.leading,d="maxWait"in n,o=d?XSe(BD(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function h(k){var E=r,A=i;return r=i=void 0,c=k,s=t.apply(A,E),s}function p(k){return c=k,a=setTimeout(v,e),u?h(k):s}function g(k){var E=k-l,A=k-c,O=e-E;return d?JSe(O,o-A):O}function y(k){var E=k-l,A=k-c;return l===void 0||E>=e||E<0||d&&A>=o}function v(){var k=rk();if(y(k))return b(k);a=setTimeout(v,g(k))}function b(k){return a=void 0,f&&r?h(k):(r=i=void 0,s)}function x(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function C(){return a===void 0?s:b(rk())}function S(){var k=rk(),E=y(k);if(r=arguments,i=this,l=k,E){if(a===void 0)return p(l);if(d)return clearTimeout(a),a=setTimeout(v,e),h(l)}return a===void 0&&(a=setTimeout(v,e)),s}return S.cancel=x,S.flush=C,S}var QSe=ZSe,eCe=QSe,tCe=Il,nCe="Expected a function";function rCe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(nCe);return tCe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),eCe(t,e,{leading:r,maxWait:e,trailing:i})}var iCe=rCe;const c8=lt(iCe);function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){oCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oCe(t,e,n){return e=sCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sCe(t){var e=aCe(t,"string");return Im(e)=="symbol"?e:e+""}function aCe(t,e){if(Im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lCe(t,e){return fCe(t)||dCe(t,e)||uCe(t,e)||cCe()}function cCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uCe(t,e){if(t){if(typeof t=="string")return VD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VD(t,e)}}function VD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function fCe(t){if(Array.isArray(t))return t}var wx=w.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,f=t.maxHeight,h=t.children,p=t.debounce,g=p===void 0?0:p,y=t.id,v=t.className,b=t.onResize,x=t.style,C=x===void 0?{}:x,S=w.useRef(null),k=w.useRef();k.current=b,w.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=w.useState({containerWidth:i.width,containerHeight:i.height}),A=lCe(E,2),O=A[0],P=A[1],T=w.useCallback(function($,_){P(function(I){var R=Math.round($),F=Math.round(_);return I.containerWidth===R&&I.containerHeight===F?I:{containerWidth:R,containerHeight:F}})},[]);w.useEffect(function(){var $=function(L){var V,U=L[0].contentRect,G=U.width,ie=U.height;T(G,ie),(V=k.current)===null||V===void 0||V.call(k,G,ie)};g>0&&($=c8($,g,{trailing:!0,leading:!1}));var _=new ResizeObserver($),I=S.current.getBoundingClientRect(),R=I.width,F=I.height;return T(R,F),_.observe(S.current),function(){_.disconnect()}},[T,g]);var N=w.useMemo(function(){var $=O.containerWidth,_=O.containerHeight;if($<0||_<0)return null;lo(hc(s)||hc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),lo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var I=hc(s)?$:s,R=hc(l)?_:l;n&&n>0&&(I?R=I/n:R&&(I=R*n),f&&R>f&&(R=f)),lo(I>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,R,s,l,u,d,n);var F=!Array.isArray(h)&&Is(h.type).endsWith("Chart");return M.Children.map(h,function(j){return M.isValidElement(j)?w.cloneElement(j,tv({width:I,height:R},F?{style:tv({height:"100%",width:"100%",maxHeight:R,maxWidth:I},j.props.style)}:{})):j})},[n,h,l,f,d,u,O,s]);return M.createElement("div",{id:y?"".concat(y):void 0,className:Ie("recharts-responsive-container",v),style:tv(tv({},C),{},{width:s,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:S},N)}),ry=function(e){return null};ry.displayName="Cell";function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){hCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hCe(t,e,n){return e=pCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pCe(t){var e=mCe(t,"string");return Rm(e)=="symbol"?e:e+""}function mCe(t,e){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lu={widthCache:{},cacheCount:0},gCe=2e3,yCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HD="recharts_measurement_span";function vCe(t){var e=pO({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Dp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||co.isSsr)return{width:0,height:0};var r=vCe(n),i=JSON.stringify({text:e,copyStyle:r});if(Lu.widthCache[i])return Lu.widthCache[i];try{var o=document.getElementById(HD);o||(o=document.createElement("span"),o.setAttribute("id",HD),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=pO(pO({},yCe),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Lu.widthCache[i]=l,++Lu.cacheCount>gCe&&(Lu.cacheCount=0,Lu.widthCache={}),l}catch{return{width:0,height:0}}},bCe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function Sx(t,e){return CCe(t)||SCe(t,e)||wCe(t,e)||xCe()}function xCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wCe(t,e){if(t){if(typeof t=="string")return UD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UD(t,e)}}function UD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function CCe(t){if(Array.isArray(t))return t}function kCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ACe(r.key),r)}}function ECe(t,e,n){return e&&KD(t.prototype,e),n&&KD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ACe(t){var e=OCe(t,"string");return Dm(e)=="symbol"?e:e+""}function OCe(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,u8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},PCe=Object.keys(u8),vd="NaN";function MCe(t,e){return t*u8[e]}var nv=function(){function t(e,n){kCe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!TCe.test(n)&&(this.num=NaN,this.unit=""),PCe.includes(n)&&(this.num=MCe(e,n),this.unit="px")}return ECe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=NCe.exec(n))!==null&&r!==void 0?r:[],o=Sx(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function d8(t){if(t.includes(vd))return vd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=GD.exec(e))!==null&&n!==void 0?n:[],i=Sx(r,4),o=i[1],s=i[2],a=i[3],l=nv.parse(o??""),c=nv.parse(a??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return vd;e=e.replace(GD,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=qD.exec(e))!==null&&d!==void 0?d:[],h=Sx(f,4),p=h[1],g=h[2],y=h[3],v=nv.parse(p??""),b=nv.parse(y??""),x=g==="+"?v.add(b):v.subtract(b);if(x.isNaN())return vd;e=e.replace(qD,x.toString())}return e}var YD=/\(([^()]*)\)/;function _Ce(t){for(var e=t;e.includes("(");){var n=YD.exec(e),r=Sx(n,2),i=r[1];e=e.replace(YD,d8(i))}return e}function jCe(t){var e=t.replace(/\s+/g,"");return e=_Ce(e),e=d8(e),e}function $Ce(t){try{return jCe(t)}catch{return vd}}function ik(t){var e=$Ce(t.slice(5,-1));return e===vd?"":e}var ICe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],RCe=["dx","dy","angle","className","breakAll"];function mO(){return mO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mO.apply(this,arguments)}function XD(t,e){if(t==null)return{};var n=DCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JD(t,e){return zCe(t)||BCe(t,e)||FCe(t,e)||LCe()}function LCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FCe(t,e){if(t){if(typeof t=="string")return ZD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZD(t,e)}}function ZD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function zCe(t){if(Array.isArray(t))return t}var f8=/[ \f\n\r\t\v\u2028\u2029]+/,h8=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];$e(n)||(r?o=n.toString().split(""):o=n.toString().split(f8));var s=o.map(function(l){return{word:l,width:Dp(l,i).width}}),a=r?0:Dp("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},VCe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=J(s),d=a,f=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(R,F){var j=F.word,L=F.width,V=R[R.length-1];if(V&&(i==null||o||V.width+L+r<Number(i)))V.words.push(j),V.width+=L+r;else{var U={words:[j],width:L};R.push(U)}return R},[])},h=f(n),p=function(I){return I.reduce(function(R,F){return R.width>F.width?R:F})};if(!u)return h;for(var g="",y=function(I){var R=d.slice(0,I),F=h8({breakAll:c,style:l,children:R+g}).wordsWithComputedWidth,j=f(F),L=j.length>s||p(j).width>Number(i);return[L,j]},v=0,b=d.length-1,x=0,C;v<=b&&x<=d.length-1;){var S=Math.floor((v+b)/2),k=S-1,E=y(k),A=JD(E,2),O=A[0],P=A[1],T=y(S),N=JD(T,1),$=N[0];if(!O&&!$&&(v=S+1),O&&$&&(b=S-1),!O&&$){C=P;break}x++}return C||h},QD=function(e){var n=$e(e)?[]:e.toString().split(f8);return[{words:n}]},WCe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!co.isSsr){var l,c,u=h8({breakAll:s,children:i,style:o});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return QD(i);return VCe({breakAll:s,children:i,maxLines:a,style:o},l,c,n,r)}return QD(i)},e2="#808080",iu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,h=f===void 0?"start":f,p=e.verticalAnchor,g=p===void 0?"end":p,y=e.fill,v=y===void 0?e2:y,b=XD(e,ICe),x=w.useMemo(function(){return WCe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),C=b.dx,S=b.dy,k=b.angle,E=b.className,A=b.breakAll,O=XD(b,RCe);if(!wn(r)||!wn(o))return null;var P=r+(J(C)?C:0),T=o+(J(S)?S:0),N;switch(g){case"start":N=ik("calc(".concat(c,")"));break;case"middle":N=ik("calc(".concat((x.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:N=ik("calc(".concat(x.length-1," * -").concat(a,")"));break}var $=[];if(d){var _=x[0].width,I=b.width;$.push("scale(".concat((J(I)?I/_:1)/_,")"))}return k&&$.push("rotate(".concat(k,", ").concat(P,", ").concat(T,")")),$.length&&(O.transform=$.join(" ")),M.createElement("text",mO({},we(O,!0),{x:P,y:T,className:Ie("recharts-text",E),textAnchor:h,fill:v.includes("url")?e2:v}),x.map(function(R,F){var j=R.words.join(A?"":" ");return M.createElement("tspan",{x:P,dy:F===0?N:a,key:"".concat(j,"-").concat(F)},j)}))};function sl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HCe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YM(t){let e,n,r;t.length!==2?(e=sl,n=(a,l)=>sl(t(a),l),r=(a,l)=>t(a)-l):(e=t===sl||t===HCe?t:UCe,n=t,r=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function UCe(){return 0}function p8(t){return t===null?NaN:+t}function*KCe(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const GCe=YM(sl),qCe=GCe.right;YM(p8).center;const iy=qCe;class t2 extends Map{constructor(e,n=JCe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(n2(this,e))}has(e){return super.has(n2(this,e))}set(e,n){return super.set(YCe(this,e),n)}delete(e){return super.delete(XCe(this,e))}}function n2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function YCe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function XCe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function JCe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ZCe(t=sl){if(t===sl)return m8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function m8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const QCe=Math.sqrt(50),eke=Math.sqrt(10),tke=Math.sqrt(2);function Cx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=QCe?10:o>=eke?5:o>=tke?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?Cx(t,e,n*2):[a,l,c]}function gO(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Cx(e,t,n):Cx(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function yO(t,e,n){return e=+e,t=+t,n=+n,Cx(t,e,n)[2]}function vO(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?yO(e,t,n):yO(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function r2(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function i2(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function g8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?m8:ZCe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*d/l+f)),p=Math.min(r,Math.floor(e+(l-c)*d/l+f));g8(t,e,h,p,i)}const o=t[e];let s=n,a=r;for(Vh(t,n,e),i(t[r],o)>0&&Vh(t,n,r);s<a;){for(Vh(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Vh(t,n,a):(++a,Vh(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Vh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nke(t,e,n){if(t=Float64Array.from(KCe(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return i2(t);if(e>=1)return r2(t);var r,i=(r-1)*e,o=Math.floor(i),s=r2(g8(t,o).subarray(0,o+1)),a=i2(t.subarray(o+1));return s+(a-s)*(i-o)}}function rke(t,e,n=p8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function ike(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function zi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function na(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bO=Symbol("implicit");function XM(){var t=new t2,e=[],n=[],r=bO;function i(o){let s=t.get(o);if(s===void 0){if(r!==bO)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new t2;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return XM(e,n).unknown(r)},zi.apply(i,arguments),i}function Lm(){var t=XM().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var f=e().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,f-l+c*2),a&&(o=Math.floor(o)),p+=(g-p-o*(f-l))*u,s=o*(1-l),a&&(p=Math.round(p),s=Math.round(s));var y=ike(f).map(function(v){return p+o*v});return n(h?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(f){return arguments.length?(a=!!f,d()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return Lm(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},zi.apply(d(),arguments)}function y8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return y8(e())},t}function Lp(){return y8(Lm.apply(null,arguments).paddingInner(1))}function JM(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function v8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function oy(){}var Fm=.7,kx=1/Fm,$d="\\s*([+-]?\\d+)\\s*",Bm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oke=/^#([0-9a-f]{3,8})$/,ske=new RegExp(`^rgb\\(${$d},${$d},${$d}\\)$`),ake=new RegExp(`^rgb\\(${Ho},${Ho},${Ho}\\)$`),lke=new RegExp(`^rgba\\(${$d},${$d},${$d},${Bm}\\)$`),cke=new RegExp(`^rgba\\(${Ho},${Ho},${Ho},${Bm}\\)$`),uke=new RegExp(`^hsl\\(${Bm},${Ho},${Ho}\\)$`),dke=new RegExp(`^hsla\\(${Bm},${Ho},${Ho},${Bm}\\)$`),o2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JM(oy,zm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:s2,formatHex:s2,formatHex8:fke,formatHsl:hke,formatRgb:a2,toString:a2});function s2(){return this.rgb().formatHex()}function fke(){return this.rgb().formatHex8()}function hke(){return b8(this).formatHsl()}function a2(){return this.rgb().formatRgb()}function zm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oke.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?l2(e):n===3?new jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ske.exec(t))?new jr(e[1],e[2],e[3],1):(e=ake.exec(t))?new jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lke.exec(t))?rv(e[1],e[2],e[3],e[4]):(e=cke.exec(t))?rv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uke.exec(t))?d2(e[1],e[2]/100,e[3]/100,1):(e=dke.exec(t))?d2(e[1],e[2]/100,e[3]/100,e[4]):o2.hasOwnProperty(t)?l2(o2[t]):t==="transparent"?new jr(NaN,NaN,NaN,0):null}function l2(t){return new jr(t>>16&255,t>>8&255,t&255,1)}function rv(t,e,n,r){return r<=0&&(t=e=n=NaN),new jr(t,e,n,r)}function pke(t){return t instanceof oy||(t=zm(t)),t?(t=t.rgb(),new jr(t.r,t.g,t.b,t.opacity)):new jr}function xO(t,e,n,r){return arguments.length===1?pke(t):new jr(t,e,n,r??1)}function jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}JM(jr,xO,v8(oy,{brighter(t){return t=t==null?kx:Math.pow(kx,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fm:Math.pow(Fm,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jr(jc(this.r),jc(this.g),jc(this.b),Ex(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c2,formatHex:c2,formatHex8:mke,formatRgb:u2,toString:u2}));function c2(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}`}function mke(){return`#${pc(this.r)}${pc(this.g)}${pc(this.b)}${pc((isNaN(this.opacity)?1:this.opacity)*255)}`}function u2(){const t=Ex(this.opacity);return`${t===1?"rgb(":"rgba("}${jc(this.r)}, ${jc(this.g)}, ${jc(this.b)}${t===1?")":`, ${t})`}`}function Ex(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pc(t){return t=jc(t),(t<16?"0":"")+t.toString(16)}function d2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new eo(t,e,n,r)}function b8(t){if(t instanceof eo)return new eo(t.h,t.s,t.l,t.opacity);if(t instanceof oy||(t=zm(t)),!t)return new eo;if(t instanceof eo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new eo(s,a,l,t.opacity)}function gke(t,e,n,r){return arguments.length===1?b8(t):new eo(t,e,n,r??1)}function eo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}JM(eo,gke,v8(oy,{brighter(t){return t=t==null?kx:Math.pow(kx,t),new eo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fm:Math.pow(Fm,t),new eo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new jr(ok(t>=240?t-240:t+120,i,r),ok(t,i,r),ok(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new eo(f2(this.h),iv(this.s),iv(this.l),Ex(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ex(this.opacity);return`${t===1?"hsl(":"hsla("}${f2(this.h)}, ${iv(this.s)*100}%, ${iv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function f2(t){return t=(t||0)%360,t<0?t+360:t}function iv(t){return Math.max(0,Math.min(1,t||0))}function ok(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ZM=t=>()=>t;function yke(t,e){return function(n){return t+n*e}}function vke(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function bke(t){return(t=+t)==1?x8:function(e,n){return n-e?vke(e,n,t):ZM(isNaN(e)?n:e)}}function x8(t,e){var n=e-t;return n?yke(t,n):ZM(isNaN(t)?e:t)}const h2=function t(e){var n=bke(e);function r(i,o){var s=n((i=xO(i)).r,(o=xO(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=x8(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function xke(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function wke(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ske(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=yh(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Cke(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ax(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kke(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yh(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sk=new RegExp(wO.source,"g");function Eke(t){return function(){return t}}function Ake(t){return function(e){return t(e)+""}}function Oke(t,e){var n=wO.lastIndex=sk.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=wO.exec(t))&&(i=sk.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Ax(r,i)})),n=sk.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Ake(l[0].x):Eke(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function yh(t,e){var n=typeof e,r;return e==null||n==="boolean"?ZM(e):(n==="number"?Ax:n==="string"?(r=zm(e))?(e=r,h2):Oke:e instanceof zm?h2:e instanceof Date?Cke:wke(e)?xke:Array.isArray(e)?Ske:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kke:Ax)(t,e)}function QM(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Tke(t,e){e===void 0&&(e=t,t=yh);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Nke(t){return function(){return t}}function Ox(t){return+t}var p2=[0,1];function br(t){return t}function SO(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Nke(isNaN(e)?NaN:.5)}function Pke(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Mke(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=SO(i,r),o=n(s,o)):(r=SO(r,i),o=n(o,s)),function(a){return o(r(a))}}function _ke(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=SO(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=iy(t,a,1,r)-1;return o[l](i[l](a))}}function sy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function q1(){var t=p2,e=p2,n=yh,r,i,o,s=br,a,l,c;function u(){var f=Math.min(t.length,e.length);return s!==br&&(s=Pke(t[0],t[f-1])),a=f>2?_ke:Mke,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((c||(c=a(e,t.map(r),Ax)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Ox),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=QM,u()},d.clamp=function(f){return arguments.length?(s=f?!0:br,u()):s!==br},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,u()}}function e_(){return q1()(br,br)}function jke(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tx(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function hf(t){return t=Tx(Math.abs(t)),t?t[1]:NaN}function $ke(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Ike(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Rke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vm(t){if(!(e=Rke.exec(t)))throw new Error("invalid format: "+t);var e;return new t_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vm.prototype=t_.prototype;function t_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}t_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Dke(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var w8;function Lke(t,e){var n=Tx(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(w8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Tx(t,Math.max(0,e+o-1))[0]}function m2(t,e){var n=Tx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const g2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jke,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>m2(t*100,e),r:m2,s:Lke,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function y2(t){return t}var v2=Array.prototype.map,b2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Fke(t){var e=t.grouping===void 0||t.thousands===void 0?y2:$ke(v2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?y2:Ike(v2.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Vm(d);var f=d.fill,h=d.align,p=d.sign,g=d.symbol,y=d.zero,v=d.width,b=d.comma,x=d.precision,C=d.trim,S=d.type;S==="n"?(b=!0,S="g"):g2[S]||(x===void 0&&(x=12),C=!0,S="g"),(y||f==="0"&&h==="=")&&(y=!0,f="0",h="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=g==="$"?r:/[%p]/.test(S)?s:"",A=g2[S],O=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function P(T){var N=k,$=E,_,I,R;if(S==="c")$=A(T)+$,T="";else{T=+T;var F=T<0||1/T<0;if(T=isNaN(T)?l:A(Math.abs(T),x),C&&(T=Dke(T)),F&&+T==0&&p!=="+"&&(F=!1),N=(F?p==="("?p:a:p==="-"||p==="("?"":p)+N,$=(S==="s"?b2[8+w8/3]:"")+$+(F&&p==="("?")":""),O){for(_=-1,I=T.length;++_<I;)if(R=T.charCodeAt(_),48>R||R>57){$=(R===46?i+T.slice(_+1):T.slice(_))+$,T=T.slice(0,_);break}}}b&&!y&&(T=e(T,1/0));var j=N.length+T.length+$.length,L=j<v?new Array(v-j+1).join(f):"";switch(b&&y&&(T=e(L+T,L.length?v-$.length:1/0),L=""),h){case"<":T=N+T+$+L;break;case"=":T=N+L+T+$;break;case"^":T=L.slice(0,j=L.length>>1)+N+T+$+L.slice(j);break;default:T=L+N+T+$;break}return o(T)}return P.toString=function(){return d+""},P}function u(d,f){var h=c((d=Vm(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(hf(f)/3)))*3,g=Math.pow(10,-p),y=b2[8+p/3];return function(v){return h(g*v)+y}}return{format:c,formatPrefix:u}}var ov,n_,S8;Bke({thousands:",",grouping:[3],currency:["$",""]});function Bke(t){return ov=Fke(t),n_=ov.format,S8=ov.formatPrefix,ov}function zke(t){return Math.max(0,-hf(Math.abs(t)))}function Vke(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hf(e)/3)))*3-hf(Math.abs(t)))}function Wke(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hf(e)-hf(t))+1}function C8(t,e,n,r){var i=vO(t,e,n),o;switch(r=Vm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Vke(i,s))&&(r.precision=o),S8(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Wke(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=zke(i))&&(r.precision=o-(r.type==="%")*2);break}}return n_(r)}function Rl(t){var e=t.domain;return t.ticks=function(n){var r=e();return gO(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return C8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=yO(s,a,n),c===l)return r[i]=s,r[o]=a,e(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function Nx(){var t=e_();return t.copy=function(){return sy(t,Nx())},zi.apply(t,arguments),Rl(t)}function k8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ox),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return k8(t).unknown(e)},t=arguments.length?Array.from(t,Ox):[0,1],Rl(n)}function E8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function x2(t){return Math.log(t)}function w2(t){return Math.exp(t)}function Hke(t){return-Math.log(-t)}function Uke(t){return-Math.exp(-t)}function Kke(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gke(t){return t===10?Kke:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qke(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function S2(t){return(e,n)=>-t(-e,n)}function r_(t){const e=t(x2,w2),n=e.domain;let r=10,i,o;function s(){return i=qke(r),o=Gke(r),n()[0]<0?(i=S2(i),o=S2(o),t(Hke,Uke)):t(x2,w2),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),h=i(u),p,g;const y=a==null?10:+a;let v=[];if(!(r%1)&&h-f<y){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(p=1;p<r;++p)if(g=f<0?p/o(-f):p*o(f),!(g<c)){if(g>u)break;v.push(g)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(g=f>0?p/o(-f):p*o(f),!(g<c)){if(g>u)break;v.push(g)}v.length*2<y&&(v=gO(c,u,y))}else v=gO(f,h,Math.min(h-f,y)).map(o);return d?v.reverse():v},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Vm(l)).precision==null&&(l.trim=!0),l=n_(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(E8(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function A8(){const t=r_(q1()).domain([1,10]);return t.copy=()=>sy(t,A8()).base(t.base()),zi.apply(t,arguments),t}function C2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function k2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function i_(t){var e=1,n=t(C2(e),k2(e));return n.constant=function(r){return arguments.length?t(C2(e=+r),k2(e)):e},Rl(n)}function O8(){var t=i_(q1());return t.copy=function(){return sy(t,O8()).constant(t.constant())},zi.apply(t,arguments)}function E2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yke(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xke(t){return t<0?-t*t:t*t}function o_(t){var e=t(br,br),n=1;function r(){return n===1?t(br,br):n===.5?t(Yke,Xke):t(E2(n),E2(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Rl(e)}function s_(){var t=o_(q1());return t.copy=function(){return sy(t,s_()).exponent(t.exponent())},zi.apply(t,arguments),t}function Jke(){return s_.apply(null,arguments).exponent(.5)}function A2(t){return Math.sign(t)*t*t}function Zke(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function T8(){var t=e_(),e=[0,1],n=!1,r;function i(o){var s=Zke(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(A2(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ox)).map(A2)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return T8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},zi.apply(i,arguments),Rl(i)}function N8(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=rke(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[iy(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(sl),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return N8().domain(t).range(e).unknown(r)},zi.apply(o,arguments)}function P8(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[iy(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return P8().domain([t,e]).range(i).unknown(o)},zi.apply(Rl(s),arguments)}function M8(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[iy(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return M8().domain(t).range(e).unknown(n)},zi.apply(i,arguments)}const ak=new Date,lk=new Date;function Cn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>Cn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(ak.setTime(+o),lk.setTime(+s),t(ak),t(lk),Math.floor(n(ak,lk))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Px=Cn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Px.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Cn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Px);Px.range;const Os=1e3,Oi=Os*60,Ts=Oi*60,Ks=Ts*24,a_=Ks*7,O2=Ks*30,ck=Ks*365,mc=Cn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCSeconds());mc.range;const l_=Cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getMinutes());l_.range;const c_=Cn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Oi)},(t,e)=>(e-t)/Oi,t=>t.getUTCMinutes());c_.range;const u_=Cn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Os-t.getMinutes()*Oi)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getHours());u_.range;const d_=Cn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCHours());d_.range;const ay=Cn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Oi)/Ks,t=>t.getDate()-1);ay.range;const Y1=Cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>t.getUTCDate()-1);Y1.range;const _8=Cn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>Math.floor(t/Ks));_8.range;function Ou(t){return Cn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Oi)/a_)}const X1=Ou(0),Mx=Ou(1),Qke=Ou(2),eEe=Ou(3),pf=Ou(4),tEe=Ou(5),nEe=Ou(6);X1.range;Mx.range;Qke.range;eEe.range;pf.range;tEe.range;nEe.range;function Tu(t){return Cn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/a_)}const J1=Tu(0),_x=Tu(1),rEe=Tu(2),iEe=Tu(3),mf=Tu(4),oEe=Tu(5),sEe=Tu(6);J1.range;_x.range;rEe.range;iEe.range;mf.range;oEe.range;sEe.range;const f_=Cn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());f_.range;const h_=Cn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());h_.range;const Gs=Cn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Gs.range;const qs=Cn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qs.range;function j8(t,e,n,r,i,o){const s=[[mc,1,Os],[mc,5,5*Os],[mc,15,15*Os],[mc,30,30*Os],[o,1,Oi],[o,5,5*Oi],[o,15,15*Oi],[o,30,30*Oi],[i,1,Ts],[i,3,3*Ts],[i,6,6*Ts],[i,12,12*Ts],[r,1,Ks],[r,2,2*Ks],[n,1,a_],[e,1,O2],[e,3,3*O2],[t,1,ck]];function a(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),p=h?h.range(c,+u+1):[];return f?p.reverse():p}function l(c,u,d){const f=Math.abs(u-c)/d,h=YM(([,,y])=>y).right(s,f);if(h===s.length)return t.every(vO(c/ck,u/ck,d));if(h===0)return Px.every(Math.max(vO(c,u,d),1));const[p,g]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return p.every(g)}return[a,l]}const[aEe,lEe]=j8(qs,h_,J1,_8,d_,c_),[cEe,uEe]=j8(Gs,f_,X1,ay,u_,l_);function uk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dk(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dEe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Hh(i),u=Uh(i),d=Hh(o),f=Uh(o),h=Hh(s),p=Uh(s),g=Hh(a),y=Uh(a),v=Hh(l),b=Uh(l),x={a:F,A:j,b:L,B:V,c:null,d:j2,e:j2,f:$Ee,g:HEe,G:KEe,H:MEe,I:_Ee,j:jEe,L:$8,m:IEe,M:REe,p:U,q:G,Q:R2,s:D2,S:DEe,u:LEe,U:FEe,V:BEe,w:zEe,W:VEe,x:null,X:null,y:WEe,Y:UEe,Z:GEe,"%":I2},C={a:ie,A:Ce,b:Fe,B:Be,c:null,d:$2,e:$2,f:JEe,g:aAe,G:cAe,H:qEe,I:YEe,j:XEe,L:R8,m:ZEe,M:QEe,p:ae,q:Ae,Q:R2,s:D2,S:eAe,u:tAe,U:nAe,V:rAe,w:iAe,W:oAe,x:null,X:null,y:sAe,Y:lAe,Z:uAe,"%":I2},S={a:P,A:T,b:N,B:$,c:_,d:M2,e:M2,f:OEe,g:P2,G:N2,H:_2,I:_2,j:CEe,L:AEe,m:SEe,M:kEe,p:O,q:wEe,Q:NEe,s:PEe,S:EEe,u:gEe,U:yEe,V:vEe,w:mEe,W:bEe,x:I,X:R,y:P2,Y:N2,Z:xEe,"%":TEe};x.x=k(n,x),x.X=k(r,x),x.c=k(e,x),C.x=k(n,C),C.X=k(r,C),C.c=k(e,C);function k(q,re){return function(le){var z=[],Oe=-1,Te=0,ot=q.length,ct,jt,Vr;for(le instanceof Date||(le=new Date(+le));++Oe<ot;)q.charCodeAt(Oe)===37&&(z.push(q.slice(Te,Oe)),(jt=T2[ct=q.charAt(++Oe)])!=null?ct=q.charAt(++Oe):jt=ct==="e"?" ":"0",(Vr=re[ct])&&(ct=Vr(le,jt)),z.push(ct),Te=Oe+1);return z.push(q.slice(Te,Oe)),z.join("")}}function E(q,re){return function(le){var z=Wh(1900,void 0,1),Oe=A(z,q,le+="",0),Te,ot;if(Oe!=le.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(re&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(Te=dk(Wh(z.y,0,1)),ot=Te.getUTCDay(),Te=ot>4||ot===0?_x.ceil(Te):_x(Te),Te=Y1.offset(Te,(z.V-1)*7),z.y=Te.getUTCFullYear(),z.m=Te.getUTCMonth(),z.d=Te.getUTCDate()+(z.w+6)%7):(Te=uk(Wh(z.y,0,1)),ot=Te.getDay(),Te=ot>4||ot===0?Mx.ceil(Te):Mx(Te),Te=ay.offset(Te,(z.V-1)*7),z.y=Te.getFullYear(),z.m=Te.getMonth(),z.d=Te.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),ot="Z"in z?dk(Wh(z.y,0,1)).getUTCDay():uk(Wh(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(ot+5)%7:z.w+z.U*7-(ot+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,dk(z)):uk(z)}}function A(q,re,le,z){for(var Oe=0,Te=re.length,ot=le.length,ct,jt;Oe<Te;){if(z>=ot)return-1;if(ct=re.charCodeAt(Oe++),ct===37){if(ct=re.charAt(Oe++),jt=S[ct in T2?re.charAt(Oe++):ct],!jt||(z=jt(q,le,z))<0)return-1}else if(ct!=le.charCodeAt(z++))return-1}return z}function O(q,re,le){var z=c.exec(re.slice(le));return z?(q.p=u.get(z[0].toLowerCase()),le+z[0].length):-1}function P(q,re,le){var z=h.exec(re.slice(le));return z?(q.w=p.get(z[0].toLowerCase()),le+z[0].length):-1}function T(q,re,le){var z=d.exec(re.slice(le));return z?(q.w=f.get(z[0].toLowerCase()),le+z[0].length):-1}function N(q,re,le){var z=v.exec(re.slice(le));return z?(q.m=b.get(z[0].toLowerCase()),le+z[0].length):-1}function $(q,re,le){var z=g.exec(re.slice(le));return z?(q.m=y.get(z[0].toLowerCase()),le+z[0].length):-1}function _(q,re,le){return A(q,e,re,le)}function I(q,re,le){return A(q,n,re,le)}function R(q,re,le){return A(q,r,re,le)}function F(q){return s[q.getDay()]}function j(q){return o[q.getDay()]}function L(q){return l[q.getMonth()]}function V(q){return a[q.getMonth()]}function U(q){return i[+(q.getHours()>=12)]}function G(q){return 1+~~(q.getMonth()/3)}function ie(q){return s[q.getUTCDay()]}function Ce(q){return o[q.getUTCDay()]}function Fe(q){return l[q.getUTCMonth()]}function Be(q){return a[q.getUTCMonth()]}function ae(q){return i[+(q.getUTCHours()>=12)]}function Ae(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var re=k(q+="",x);return re.toString=function(){return q},re},parse:function(q){var re=E(q+="",!1);return re.toString=function(){return q},re},utcFormat:function(q){var re=k(q+="",C);return re.toString=function(){return q},re},utcParse:function(q){var re=E(q+="",!0);return re.toString=function(){return q},re}}}var T2={"-":"",_:" ",0:"0"},$n=/^\s*\d+/,fEe=/^%/,hEe=/[\\^$*+?|[\]().{}]/g;function it(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function pEe(t){return t.replace(hEe,"\\$&")}function Hh(t){return new RegExp("^(?:"+t.map(pEe).join("|")+")","i")}function Uh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function mEe(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function gEe(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yEe(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function vEe(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function bEe(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function N2(t,e,n){var r=$n.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function P2(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function xEe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wEe(t,e,n){var r=$n.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function SEe(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function M2(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function CEe(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _2(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function kEe(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function EEe(t,e,n){var r=$n.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function AEe(t,e,n){var r=$n.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function OEe(t,e,n){var r=$n.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function TEe(t,e,n){var r=fEe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function NEe(t,e,n){var r=$n.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function PEe(t,e,n){var r=$n.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function j2(t,e){return it(t.getDate(),e,2)}function MEe(t,e){return it(t.getHours(),e,2)}function _Ee(t,e){return it(t.getHours()%12||12,e,2)}function jEe(t,e){return it(1+ay.count(Gs(t),t),e,3)}function $8(t,e){return it(t.getMilliseconds(),e,3)}function $Ee(t,e){return $8(t,e)+"000"}function IEe(t,e){return it(t.getMonth()+1,e,2)}function REe(t,e){return it(t.getMinutes(),e,2)}function DEe(t,e){return it(t.getSeconds(),e,2)}function LEe(t){var e=t.getDay();return e===0?7:e}function FEe(t,e){return it(X1.count(Gs(t)-1,t),e,2)}function I8(t){var e=t.getDay();return e>=4||e===0?pf(t):pf.ceil(t)}function BEe(t,e){return t=I8(t),it(pf.count(Gs(t),t)+(Gs(t).getDay()===4),e,2)}function zEe(t){return t.getDay()}function VEe(t,e){return it(Mx.count(Gs(t)-1,t),e,2)}function WEe(t,e){return it(t.getFullYear()%100,e,2)}function HEe(t,e){return t=I8(t),it(t.getFullYear()%100,e,2)}function UEe(t,e){return it(t.getFullYear()%1e4,e,4)}function KEe(t,e){var n=t.getDay();return t=n>=4||n===0?pf(t):pf.ceil(t),it(t.getFullYear()%1e4,e,4)}function GEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+it(e/60|0,"0",2)+it(e%60,"0",2)}function $2(t,e){return it(t.getUTCDate(),e,2)}function qEe(t,e){return it(t.getUTCHours(),e,2)}function YEe(t,e){return it(t.getUTCHours()%12||12,e,2)}function XEe(t,e){return it(1+Y1.count(qs(t),t),e,3)}function R8(t,e){return it(t.getUTCMilliseconds(),e,3)}function JEe(t,e){return R8(t,e)+"000"}function ZEe(t,e){return it(t.getUTCMonth()+1,e,2)}function QEe(t,e){return it(t.getUTCMinutes(),e,2)}function eAe(t,e){return it(t.getUTCSeconds(),e,2)}function tAe(t){var e=t.getUTCDay();return e===0?7:e}function nAe(t,e){return it(J1.count(qs(t)-1,t),e,2)}function D8(t){var e=t.getUTCDay();return e>=4||e===0?mf(t):mf.ceil(t)}function rAe(t,e){return t=D8(t),it(mf.count(qs(t),t)+(qs(t).getUTCDay()===4),e,2)}function iAe(t){return t.getUTCDay()}function oAe(t,e){return it(_x.count(qs(t)-1,t),e,2)}function sAe(t,e){return it(t.getUTCFullYear()%100,e,2)}function aAe(t,e){return t=D8(t),it(t.getUTCFullYear()%100,e,2)}function lAe(t,e){return it(t.getUTCFullYear()%1e4,e,4)}function cAe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?mf(t):mf.ceil(t),it(t.getUTCFullYear()%1e4,e,4)}function uAe(){return"+0000"}function I2(){return"%"}function R2(t){return+t}function D2(t){return Math.floor(+t/1e3)}var Fu,L8,F8;dAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dAe(t){return Fu=dEe(t),L8=Fu.format,Fu.parse,F8=Fu.utcFormat,Fu.utcParse,Fu}function fAe(t){return new Date(t)}function hAe(t){return t instanceof Date?+t:+new Date(+t)}function p_(t,e,n,r,i,o,s,a,l,c){var u=e_(),d=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),x=c("%B"),C=c("%Y");function S(k){return(l(k)<k?h:a(k)<k?p:s(k)<k?g:o(k)<k?y:r(k)<k?i(k)<k?v:b:n(k)<k?x:C)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?f(Array.from(k,hAe)):f().map(fAe)},u.ticks=function(k){var E=f();return t(E[0],E[E.length-1],k??10)},u.tickFormat=function(k,E){return E==null?S:c(E)},u.nice=function(k){var E=f();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?f(E8(E,k)):u},u.copy=function(){return sy(u,p_(t,e,n,r,i,o,s,a,l,c))},u}function pAe(){return zi.apply(p_(cEe,uEe,Gs,f_,X1,ay,u_,l_,mc,L8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mAe(){return zi.apply(p_(aEe,lEe,qs,h_,J1,Y1,d_,c_,mc,F8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Z1(){var t=0,e=1,n,r,i,o,s=br,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(f){var h,p;return arguments.length?([h,p]=f,s=d(h,p),c):[s(0),s(1)]}}return c.range=u(yh),c.rangeRound=u(QM),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function Dl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function B8(){var t=Rl(Z1()(br));return t.copy=function(){return Dl(t,B8())},na.apply(t,arguments)}function z8(){var t=r_(Z1()).domain([1,10]);return t.copy=function(){return Dl(t,z8()).base(t.base())},na.apply(t,arguments)}function V8(){var t=i_(Z1());return t.copy=function(){return Dl(t,V8()).constant(t.constant())},na.apply(t,arguments)}function m_(){var t=o_(Z1());return t.copy=function(){return Dl(t,m_()).exponent(t.exponent())},na.apply(t,arguments)}function gAe(){return m_.apply(null,arguments).exponent(.5)}function W8(){var t=[],e=br;function n(r){if(r!=null&&!isNaN(r=+r))return e((iy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>nke(t,o/r))},n.copy=function(){return W8(e).domain(t)},na.apply(n,arguments)}function Q1(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,c=br,u,d=!1,f;function h(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-o)*(r*g<r*o?a:l),c(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,n]=g,i=u(t=+t),o=u(e=+e),s=u(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(y){var v,b,x;return arguments.length?([v,b,x]=y,c=Tke(g,[v,b,x]),h):[c(0),c(.5),c(1)]}}return h.range=p(yh),h.rangeRound=p(QM),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return u=g,i=g(t),o=g(e),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function H8(){var t=Rl(Q1()(br));return t.copy=function(){return Dl(t,H8())},na.apply(t,arguments)}function U8(){var t=r_(Q1()).domain([.1,1,10]);return t.copy=function(){return Dl(t,U8()).base(t.base())},na.apply(t,arguments)}function K8(){var t=i_(Q1());return t.copy=function(){return Dl(t,K8()).constant(t.constant())},na.apply(t,arguments)}function g_(){var t=o_(Q1());return t.copy=function(){return Dl(t,g_()).exponent(t.exponent())},na.apply(t,arguments)}function yAe(){return g_.apply(null,arguments).exponent(.5)}const L2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lm,scaleDiverging:H8,scaleDivergingLog:U8,scaleDivergingPow:g_,scaleDivergingSqrt:yAe,scaleDivergingSymlog:K8,scaleIdentity:k8,scaleImplicit:bO,scaleLinear:Nx,scaleLog:A8,scaleOrdinal:XM,scalePoint:Lp,scalePow:s_,scaleQuantile:N8,scaleQuantize:P8,scaleRadial:T8,scaleSequential:B8,scaleSequentialLog:z8,scaleSequentialPow:m_,scaleSequentialQuantile:W8,scaleSequentialSqrt:gAe,scaleSequentialSymlog:V8,scaleSqrt:Jke,scaleSymlog:O8,scaleThreshold:M8,scaleTime:pAe,scaleUtc:mAe,tickFormat:C8},Symbol.toStringTag,{value:"Module"}));var vAe=lh;function bAe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!vAe(s):n(s,a)))var a=s,l=o}return l}var eS=bAe;function xAe(t,e){return t>e}var G8=xAe,wAe=eS,SAe=G8,CAe=gh;function kAe(t){return t&&t.length?wAe(t,CAe,SAe):void 0}var EAe=kAe;const Wa=lt(EAe);function AAe(t,e){return t<e}var q8=AAe,OAe=eS,TAe=q8,NAe=gh;function PAe(t){return t&&t.length?OAe(t,NAe,TAe):void 0}var MAe=PAe;const tS=lt(MAe);var _Ae=PM,jAe=ns,$Ae=n8,IAe=Br;function RAe(t,e){var n=IAe(t)?_Ae:$Ae;return n(t,jAe(e))}var DAe=RAe,LAe=e8,FAe=DAe;function BAe(t,e){return LAe(FAe(t,e),1)}var zAe=BAe;const VAe=lt(zAe);var WAe=UM;function HAe(t,e){return WAe(t,e)}var UAe=HAe;const ou=lt(UAe);var vh=1e9,KAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},v_,Dt=!0,Li="[DecimalError] ",$c=Li+"Invalid argument: ",y_=Li+"Exponent out of range: ",bh=Math.floor,nc=Math.pow,GAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yr,En=1e7,Mt=7,Y8=9007199254740991,jx=bh(Y8/Mt),me={};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};me.comparedTo=me.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};me.decimalPlaces=me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(t){return Rs(this,new this.constructor(t))};me.dividedToIntegerBy=me.idiv=function(t){var e=this,n=e.constructor;return xt(Rs(e,new n(t),0,1),n.precision)};me.equals=me.eq=function(t){return!this.cmp(t)};me.exponent=function(){return fn(this)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){return this.cmp(t)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Yr))throw Error(Li+"NaN");if(n.s<1)throw Error(Li+(n.s?"NaN":"-Infinity"));return n.eq(Yr)?new r(0):(Dt=!1,e=Rs(Wm(n,o),Wm(t,o),o),Dt=!0,xt(e,i))};me.minus=me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z8(e,t):X8(e,(t.s=-t.s,t))};me.modulo=me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Li+"NaN");return n.s?(Dt=!1,e=Rs(n,t,0,1).times(t),Dt=!0,n.minus(e)):xt(new r(n),i)};me.naturalExponential=me.exp=function(){return J8(this)};me.naturalLogarithm=me.ln=function(){return Wm(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};me.plus=me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?X8(e,t):Z8(e,(t.s=-t.s,t))};me.precision=me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($c+t);if(e=fn(i)+1,r=i.d.length-1,n=r*Mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};me.squareRoot=me.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Li+"NaN")}for(t=fn(a),Dt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Io(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=bh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Rs(a,o,s+2)).times(.5),Io(o.d).slice(0,s)===(e=Io(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(xt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return Dt=!0,xt(r,n)};me.times=me.mul=function(t){var e,n,r,i,o,s,a,l,c,u=this,d=u.constructor,f=u.d,h=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=h.length,l<c&&(o=f,f=h,h=o,s=l,l=c,c=s),o=[],s=l+c,r=s;r--;)o.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+h[r]*f[i-r-1]+e,o[i--]=a%En|0,e=a/En|0;o[i]=(o[i]+e)%En|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Dt?xt(t,d.precision):t};me.toDecimalPlaces=me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Xo(t,0,vh),e===void 0?e=r.rounding:Xo(e,0,8),xt(n,t+fn(n)+1,e))};me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=su(r,!0):(Xo(t,0,vh),e===void 0?e=i.rounding:Xo(e,0,8),r=xt(new i(r),t+1,e),n=su(r,!0,t+1)),n};me.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?su(i):(Xo(t,0,vh),e===void 0?e=o.rounding:Xo(e,0,8),r=xt(new o(i),t+fn(i)+1,e),n=su(r.abs(),!1,t+fn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var t=this,e=t.constructor;return xt(new e(t),fn(t)+1,e.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Yr);if(a=new l(a),!a.s){if(t.s<1)throw Error(Li+"Infinity");return a}if(a.eq(Yr))return a;if(r=l.precision,t.eq(Yr))return xt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=u<0?-u:u)<=Y8){for(i=new l(Yr),e=Math.ceil(r/Mt+4),Dt=!1;n%2&&(i=i.times(a),B2(i.d,e)),n=bh(n/2),n!==0;)a=a.times(a),B2(a.d,e);return Dt=!0,t.s<0?new l(Yr).div(i):xt(i,r)}}else if(o<0)throw Error(Li+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Dt=!1,i=t.times(Wm(a,r+c)),Dt=!0,i=J8(i),i.s=o,i};me.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=fn(i),r=su(i,n<=o.toExpNeg||n>=o.toExpPos)):(Xo(t,1,vh),e===void 0?e=o.rounding:Xo(e,0,8),i=xt(new o(i),t,e),n=fn(i),r=su(i,t<=n||n<=o.toExpNeg,t)),r};me.toSignificantDigits=me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Xo(t,1,vh),e===void 0?e=r.rounding:Xo(e,0,8)),xt(new r(n),t,e)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fn(t),n=t.constructor;return su(t,e<=n.toExpNeg||e>=n.toExpPos)};function X8(t,e){var n,r,i,o,s,a,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Dt?xt(e,d):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=c.length):(r=c,i=s,a=l.length),s=Math.ceil(d/Mt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,r=c,c=l,l=r),n=0;o;)n=(l[--o]=l[o]+c[o]+n)/En|0,l[o]%=En;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Dt?xt(e,d):e}function Xo(t,e,n){if(t!==~~t||t<e||t>n)throw Error($c+t)}function Io(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Mt-r.length,n&&(o+=Sa(n)),o+=r;s=t[e],r=s+"",n=Mt-r.length,n&&(o+=Sa(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Rs=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%En|0,s=o/En|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*En+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,c,u,d,f,h,p,g,y,v,b,x,C,S,k,E,A,O=r.constructor,P=r.s==i.s?1:-1,T=r.d,N=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Li+"Division by zero");for(l=r.e-i.e,E=N.length,S=T.length,h=new O(P),p=h.d=[],c=0;N[c]==(T[c]||0);)++c;if(N[c]>(T[c]||0)&&--l,o==null?b=o=O.precision:s?b=o+(fn(r)-fn(i))+1:b=o,b<0)return new O(0);if(b=b/Mt+2|0,c=0,E==1)for(u=0,N=N[0],b++;(c<S||u)&&b--;c++)x=u*En+(T[c]||0),p[c]=x/N|0,u=x%N|0;else{for(u=En/(N[0]+1)|0,u>1&&(N=t(N,u),T=t(T,u),E=N.length,S=T.length),C=E,g=T.slice(0,E),y=g.length;y<E;)g[y++]=0;A=N.slice(),A.unshift(0),k=N[0],N[1]>=En/2&&++k;do u=0,a=e(N,g,E,y),a<0?(v=g[0],E!=y&&(v=v*En+(g[1]||0)),u=v/k|0,u>1?(u>=En&&(u=En-1),d=t(N,u),f=d.length,y=g.length,a=e(d,g,f,y),a==1&&(u--,n(d,E<f?A:N,f))):(u==0&&(a=u=1),d=N.slice()),f=d.length,f<y&&d.unshift(0),n(g,d,y),a==-1&&(y=g.length,a=e(N,g,E,y),a<1&&(u++,n(g,E<y?A:N,y))),y=g.length):a===0&&(u++,g=[0]),p[c++]=u,a&&g[0]?g[y++]=T[C]||0:(g=[T[C]],y=1);while((C++<S||g[0]!==void 0)&&b--)}return p[0]||p.shift(),h.e=l,xt(h,s?o+fn(h)+1:o)}}();function J8(t,e){var n,r,i,o,s,a,l=0,c=0,u=t.constructor,d=u.precision;if(fn(t)>16)throw Error(y_+fn(t));if(!t.s)return new u(Yr);for(e==null?(Dt=!1,a=d):a=e,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(r=Math.log(nc(2,c))/Math.LN10*2+5|0,a+=r,n=i=o=new u(Yr),u.precision=a;;){if(i=xt(i.times(t),a),n=n.times(++l),s=o.plus(Rs(i,n,a)),Io(s.d).slice(0,a)===Io(o.d).slice(0,a)){for(;c--;)o=xt(o.times(o),a);return u.precision=d,e==null?(Dt=!0,xt(o,d)):o}o=s}}function fn(t){for(var e=t.e*Mt,n=t.d[0];n>=10;n/=10)e++;return e}function fk(t,e,n){if(e>t.LN10.sd())throw Dt=!0,n&&(t.precision=n),Error(Li+"LN10 precision limit exceeded");return xt(new t(t.LN10),e)}function Sa(t){for(var e="";t--;)e+="0";return e}function Wm(t,e){var n,r,i,o,s,a,l,c,u,d=1,f=10,h=t,p=h.d,g=h.constructor,y=g.precision;if(h.s<1)throw Error(Li+(h.s?"NaN":"-Infinity"));if(h.eq(Yr))return new g(0);if(e==null?(Dt=!1,c=y):c=e,h.eq(10))return e==null&&(Dt=!0),fk(g,c);if(c+=f,g.precision=c,n=Io(p),r=n.charAt(0),o=fn(h),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Io(h.d),r=n.charAt(0),d++;o=fn(h),r>1?(h=new g("0."+n),o++):h=new g(r+"."+n.slice(1))}else return l=fk(g,c+2,y).times(o+""),h=Wm(new g(r+"."+n.slice(1)),c-f).plus(l),g.precision=y,e==null?(Dt=!0,xt(h,y)):h;for(a=s=h=Rs(h.minus(Yr),h.plus(Yr),c),u=xt(h.times(h),c),i=3;;){if(s=xt(s.times(u),c),l=a.plus(Rs(s,new g(i),c)),Io(l.d).slice(0,c)===Io(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(fk(g,c+2,y).times(o+""))),a=Rs(a,new g(d),c),g.precision=y,e==null?(Dt=!0,xt(a,y)):a;a=l,i+=2}}function F2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=bh(n/Mt),t.d=[],r=(n+1)%Mt,n<0&&(r+=Mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mt;r<i;)t.d.push(+e.slice(r,r+=Mt));e=e.slice(r),r=Mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dt&&(t.e>jx||t.e<-jx))throw Error(y_+n)}else t.s=0,t.e=0,t.d=[0];return t}function xt(t,e,n){var r,i,o,s,a,l,c,u,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Mt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Mt),o=d.length,u>=o)return t;for(c=o=d[u],s=1;o>=10;o/=10)s++;r%=Mt,i=r-Mt+s}if(n!==void 0&&(o=nc(10,s-i-1),a=c/o%10|0,l=e<0||d[u+1]!==void 0||c%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/nc(10,s-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=fn(t),d.length=1,e=e-o-1,d[0]=nc(10,(Mt-e%Mt)%Mt),t.e=bh(-e/Mt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,o=1,u--):(d.length=u+1,o=nc(10,Mt-r),d[u]=i>0?(c/nc(10,s-i)%nc(10,i)|0)*o:0),l)for(;;)if(u==0){(d[0]+=o)==En&&(d[0]=1,++t.e);break}else{if(d[u]+=o,d[u]!=En)break;d[u--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(Dt&&(t.e>jx||t.e<-jx))throw Error(y_+fn(t));return t}function Z8(t,e){var n,r,i,o,s,a,l,c,u,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Dt?xt(e,h):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),s=c-r,s){for(u=s<0,u?(n=l,s=-s,a=d.length):(n=d,r=c,a=l.length),i=Math.max(Math.ceil(h/Mt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}s=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=En-1;--l[o],l[i]+=En}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Dt?xt(e,h):e):new f(0)}function su(t,e,n){var r,i=fn(t),o=Io(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Sa(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Sa(-i-1)+o,n&&(r=n-s)>0&&(o+=Sa(r))):i>=s?(o+=Sa(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Sa(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Sa(r))),t.s<0?"-"+o:o}function B2(t,e){if(t.length>e)return t.length=e,!0}function Q8(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error($c+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return F2(s,o.toString())}else if(typeof o!="string")throw Error($c+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,GAe.test(o))F2(s,o);else throw Error($c+o)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Q8,i.config=i.set=qAe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function qAe(t){if(!t||typeof t!="object")throw Error(Li+"Object expected");var e,n,r,i=["precision",1,vh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(bh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($c+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($c+n+": "+r);return this}var v_=Q8(KAe);Yr=new v_(1);const gt=v_;function YAe(t){return QAe(t)||ZAe(t)||JAe(t)||XAe()}function XAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JAe(t,e){if(t){if(typeof t=="string")return CO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CO(t,e)}}function ZAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function QAe(t){if(Array.isArray(t))return CO(t)}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var eOe=function(e){return e},e9={"@@functional/placeholder":!0},t9=function(e){return e===e9},z2=function(e){return function n(){return arguments.length===0||arguments.length===1&&t9(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},tOe=function t(e,n){return e===1?n:z2(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==e9}).length;return s>=e?n.apply(void 0,i):t(e-s,z2(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(d){return t9(d)?l.shift():d});return n.apply(void 0,YAe(u).concat(l))}))})},nS=function(e){return tOe(e.length,e)},kO=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},nOe=nS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),rOe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return eOe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},EO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},n9=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function iOe(t){var e;return t===0?e=1:e=Math.floor(new gt(t).abs().log(10).toNumber())+1,e}function oOe(t,e,n){for(var r=new gt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var sOe=nS(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),aOe=nS(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),lOe=nS(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const rS={rangeStep:oOe,getDigitCount:iOe,interpolateNumber:sOe,uninterpolateNumber:aOe,uninterpolateTruncation:lOe};function AO(t){return dOe(t)||uOe(t)||r9(t)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uOe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dOe(t){if(Array.isArray(t))return OO(t)}function Hm(t,e){return pOe(t)||hOe(t,e)||r9(t,e)||fOe()}function fOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r9(t,e){if(t){if(typeof t=="string")return OO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OO(t,e)}}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hOe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function pOe(t){if(Array.isArray(t))return t}function i9(t){var e=Hm(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function o9(t,e,n){if(t.lte(0))return new gt(0);var r=rS.getDigitCount(t.toNumber()),i=new gt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new gt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new gt(Math.ceil(l))}function mOe(t,e,n){var r=1,i=new gt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new gt(10).pow(rS.getDigitCount(t)-1),i=new gt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new gt(Math.floor(t)))}else t===0?i=new gt(Math.floor((e-1)/2)):n||(i=new gt(Math.floor(t)));var s=Math.floor((e-1)/2),a=rOe(nOe(function(l){return i.add(new gt(l-s).mul(r)).toNumber()}),kO);return a(0,e)}function s9(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var o=o9(new gt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new gt(0):(s=new gt(t).add(e).div(2),s=s.sub(new gt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new gt(e).sub(s).div(o).toNumber()),c=a+l+1;return c>n?s9(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:o,tickMin:s.sub(new gt(a).mul(o)),tickMax:s.add(new gt(l).mul(o))})}function gOe(t){var e=Hm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=i9([n,r]),l=Hm(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(AO(kO(0,i-1).map(function(){return 1/0}))):[].concat(AO(kO(0,i-1).map(function(){return-1/0})),[u]);return n>r?EO(d):d}if(c===u)return mOe(c,i,o);var f=s9(c,u,s,o),h=f.step,p=f.tickMin,g=f.tickMax,y=rS.rangeStep(p,g.add(new gt(.1).mul(h)),h);return n>r?EO(y):y}function yOe(t,e){var n=Hm(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=i9([r,i]),a=Hm(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=o9(new gt(c).sub(l).div(u-1),o,0),f=[].concat(AO(rS.rangeStep(new gt(l),new gt(c).sub(new gt(.99).mul(d)),d)),[c]);return r>i?EO(f):f}var vOe=n9(gOe),bOe=n9(yOe),xOe=!0,hk="Invariant failed";function xl(t,e){if(!t){if(xOe)throw new Error(hk);var n=typeof e=="function"?e():e,r=n?"".concat(hk,": ").concat(n):hk;throw new Error(r)}}var wOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function $x(){return $x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$x.apply(this,arguments)}function SOe(t,e){return AOe(t)||EOe(t,e)||kOe(t,e)||COe()}function COe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kOe(t,e){if(t){if(typeof t=="string")return V2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V2(t,e)}}function V2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EOe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function AOe(t){if(Array.isArray(t))return t}function OOe(t,e){if(t==null)return{};var n=TOe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c9(r.key),r)}}function POe(t,e,n){return e&&W2(t.prototype,e),n&&W2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MOe(t,e,n){return e=Ix(e),_Oe(t,a9()?Reflect.construct(e,n||[],Ix(t).constructor):e.apply(t,n))}function _Oe(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jOe(t)}function jOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(t)}function $Oe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TO(t,e)}function TO(t,e){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TO(t,e)}function l9(t,e,n){return e=c9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c9(t){var e=IOe(t,"string");return gf(e)=="symbol"?e:e+""}function IOe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ly=function(t){function e(){return NOe(this,e),MOe(this,e,arguments)}return $Oe(e,t),POe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=OOe(r,wOe),h=we(f,!1);this.props.direction==="x"&&u.type!=="number"&&xl(!1);var p=l.map(function(g){var y=c(g,a),v=y.x,b=y.y,x=y.value,C=y.errorVal;if(!C)return null;var S=[],k,E;if(Array.isArray(C)){var A=SOe(C,2);k=A[0],E=A[1]}else k=E=C;if(o==="vertical"){var O=u.scale,P=b+i,T=P+s,N=P-s,$=O(x-k),_=O(x+E);S.push({x1:_,y1:T,x2:_,y2:N}),S.push({x1:$,y1:P,x2:_,y2:P}),S.push({x1:$,y1:T,x2:$,y2:N})}else if(o==="horizontal"){var I=d.scale,R=v+i,F=R-s,j=R+s,L=I(x-k),V=I(x+E);S.push({x1:F,y1:V,x2:j,y2:V}),S.push({x1:R,y1:L,x2:R,y2:V}),S.push({x1:F,y1:L,x2:j,y2:L})}return M.createElement(Ye,$x({className:"recharts-errorBar",key:"bar-".concat(S.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},h),S.map(function(U){return M.createElement("line",$x({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return M.createElement(Ye,{className:"recharts-errorBars"},p)}}])}(M.Component);l9(ly,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});l9(ly,"displayName","ErrorBar");function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){ROe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ROe(t,e,n){return e=DOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DOe(t){var e=LOe(t,"string");return Um(e)=="symbol"?e:e+""}function LOe(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u9=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Kr(n,_c);if(!s)return null;var a=_c.defaultProps,l=a!==void 0?Ul(Ul({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(r||[]).reduce(function(u,d){var f=d.item,h=d.props,p=h.sectors||h.data||[];return u.concat(p.map(function(g){return{type:s.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,h=f!==void 0?Ul(Ul({},f),d.props):{},p=h.dataKey,g=h.name,y=h.legendType,v=h.hide;return{inactive:v,dataKey:p,type:l.iconType||y||"square",color:b_(d),value:g||p,payload:h}}),Ul(Ul(Ul({},l),_c.getWithHeight(s,i)),{},{payload:c,item:s})};function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function U2(t){return VOe(t)||zOe(t)||BOe(t)||FOe()}function FOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BOe(t,e){if(t){if(typeof t=="string")return NO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NO(t,e)}}function zOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VOe(t){if(Array.isArray(t))return NO(t)}function NO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function K2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K2(Object(n),!0).forEach(function(r){Id(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Id(t,e,n){return e=WOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WOe(t){var e=HOe(t,"string");return Km(e)=="symbol"?e:e+""}function HOe(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tn(t,e,n){return $e(t)||$e(e)?n:wn(e)?ni(t,e,n):Pe(e)?e(t):n}function Fp(t,e,n,r){var i=VAe(t,function(a){return tn(a,e)});if(n==="number"){var o=i.filter(function(a){return J(a)||parseFloat(a)});return o.length?[tS(o),Wa(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!$e(a)}):i;return s.map(function(a){return wn(a)||a instanceof Date?a:""})}var UOe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,d=i[c].coordinate,f=c>=a-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(yr(d-u)!==yr(f-d)){var p=[];if(yr(f-d)===yr(l[1]-l[0])){h=f;var g=d+l[1]-l[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{h=u;var y=f+l[1]-l[0];p[0]=Math.min(d,(y+d)/2),p[1]=Math.max(d,(y+d)/2)}var v=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){s=i[c].index;break}}else{var b=Math.min(u,f),x=Math.max(u,f);if(e>(b+d)/2&&e<=(x+d)/2){s=i[c].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},b_=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},KOe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var u=o[a[l]].stackGroups,d=Object.keys(u),f=0,h=d.length;f<h;f++){var p=u[d[f]],g=p.items,y=p.cateAxisId,v=g.filter(function(E){return Is(E.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,x=b!==void 0?Yt(Yt({},b),v[0].props):v[0].props,C=x.barSize,S=x[y];s[S]||(s[S]=[]);var k=$e(C)?n:C;s[S].push({item:v[0],stackList:v.slice(1),barSize:$e(k)?void 0:vr(k,r,0)})}}return s},GOe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=vr(n,i,0,!0),u,d=[];if(s[0].barSize===+s[0].barSize){var f=!1,h=i/l,p=s.reduce(function(C,S){return C+S.barSize||0},0);p+=(l-1)*c,p>=i&&(p-=(l-1)*c,c=0),p>=i&&h>0&&(f=!0,h*=.9,p=l*h);var g=(i-p)/2>>0,y={offset:g-c,size:0};u=s.reduce(function(C,S){var k={item:S.item,position:{offset:y.offset+y.size+c,size:f?h:S.barSize}},E=[].concat(U2(C),[k]);return y=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:y})}),E},d)}else{var v=vr(r,i,0,!0);i-2*v-(l-1)*c<=0&&(c=0);var b=(i-2*v-(l-1)*c)/l;b>1&&(b>>=0);var x=a===+a?Math.min(b,a):b;u=s.reduce(function(C,S,k){var E=[].concat(U2(C),[{item:S.item,position:{offset:v+(b+c)*k+(b-x)/2,size:x}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},d)}return u},qOe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),c=u9({children:o,legendWidth:l});if(c){var u=i||{},d=u.width,f=u.height,h=c.align,p=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&p==="middle")&&h!=="center"&&J(e[h]))return Yt(Yt({},e),{},Id({},h,e[h]+(d||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&p!=="middle"&&J(e[p]))return Yt(Yt({},e),{},Id({},p,e[p]+(f||0)))}return e},YOe=function(e,n,r){return $e(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},d9=function(e,n,r,i,o){var s=n.props.children,a=ri(s,ly).filter(function(c){return YOe(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=tn(u,r);if($e(d))return c;var f=Array.isArray(d)?[tS(d),Wa(d)]:[d,d],h=l.reduce(function(p,g){var y=tn(u,g,0),v=f[0]-Math.abs(Array.isArray(y)?y[0]:y),b=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,p[0]),Math.max(b,p[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},XOe=function(e,n,r,i,o){var s=n.map(function(a){return d9(e,a,r,o,i)}).filter(function(a){return!$e(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},f9=function(e,n,r,i,o){var s=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&d9(e,l,c,i)||Fp(e,c,r,o)});if(r==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},h9=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},p9=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},Ns=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?yr(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=o?o.indexOf(d):d;return{coordinate:i(f)+c,value:d,offset:c}});return u.filter(function(d){return!hh(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+c,value:d,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,f){return{coordinate:i(d)+c,value:o?o[d]:d,index:f,offset:c}})},pk=new WeakMap,sv=function(e,n){if(typeof n!="function")return e;pk.has(e)||pk.set(e,new WeakMap);var r=pk.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},m9=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Lm(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Nx(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lp(),realScaleType:"point"}:o==="category"?{scale:Lm(),realScaleType:"band"}:{scale:Nx(),realScaleType:"linear"};if(nu(i)){var l="scale".concat(z1(i));return{scale:(L2[l]||Lp)(),realScaleType:L2[l]?l:"point"}}return Pe(i)?{scale:i}:{scale:Lp(),realScaleType:"point"}},G2=1e-4,g9=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-G2,s=Math.max(i[0],i[1])+G2,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},JOe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ZOe=function(e,n){if(!n||n.length!==2||!J(n[0])||!J(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!J(e[0])||e[0]<r)&&(o[0]=r),(!J(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},QOe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=hh(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},eTe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=hh(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},tTe={sign:QOe,expand:Cge,none:lf,silhouette:kge,wiggle:Ege,positive:eTe},nTe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=tTe[r],s=Sge().keys(i).value(function(a,l){return+tn(a,l,0)}).order(eO).offset(o);return s(e)},rTe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},c=a.reduce(function(d,f){var h,p=(h=f.type)!==null&&h!==void 0&&h.defaultProps?Yt(Yt({},f.type.defaultProps),f.props):f.props,g=p.stackId,y=p.hide;if(y)return d;var v=p[r],b=d[v]||{hasStack:!1,stackGroups:{}};if(wn(g)){var x=b.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(f),b.hasStack=!0,b.stackGroups[g]=x}else b.stackGroups[Au("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Yt(Yt({},d),{},Id({},v,b))},l),u={};return Object.keys(c).reduce(function(d,f){var h=c[f];if(h.hasStack){var p={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,y){var v=h.stackGroups[y];return Yt(Yt({},g),{},Id({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:nTe(e,v.items,o)}))},p)}return Yt(Yt({},d),{},Id({},f,h))},u)},y9=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=vOe(c,o,a);return e.domain([tS(u),Wa(u)]),{niceTicks:u}}if(o&&i==="number"){var d=e.domain(),f=bOe(d,o,a);return{niceTicks:f}}return null};function Rx(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$e(i[e.dataKey])){var a=ax(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=tn(i,$e(s)?e.dataKey:s);return $e(l)?null:e.scale(l)}var q2=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=tn(s,n.dataKey,n.domain[a]);return $e(l)?null:n.scale(l)-o/2+i},iTe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},oTe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(wn(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},sTe=function(e){return e.reduce(function(n,r){return[tS(r.concat([n[0]]).filter(J)),Wa(r.concat([n[1]]).filter(J))]},[1/0,-1/0])},v9=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,u){var d=sTe(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Y2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PO=function(e,n,r){if(Pe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(J(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Y2.test(e[0])){var o=+Y2.exec(e[0])[1];i[0]=n[0]-o}else Pe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(J(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(X2.test(e[1])){var s=+X2.exec(e[1])[1];i[1]=n[1]+s}else Pe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Dx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=GM(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],u=o[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},J2=function(e,n,r){return!e||!e.length||ou(e,ni(r,"type.defaultProps.domain"))?n:e},b9=function(e,n){var r=e.type.defaultProps?Yt(Yt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Yt(Yt({},we(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:b_(e),value:tn(n,i),type:l,payload:n,chartType:c,hide:u})};function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){x9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x9(t,e,n){return e=aTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aTe(t){var e=lTe(t,"string");return Gm(e)=="symbol"?e:e+""}function lTe(t,e){if(Gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cTe(t,e){return hTe(t)||fTe(t,e)||dTe(t,e)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dTe(t,e){if(t){if(typeof t=="string")return Q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q2(t,e)}}function Q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function hTe(t){if(Array.isArray(t))return t}var Lx=Math.PI/180,pTe=function(e){return e*180/Math.PI},Et=function(e,n,r,i){return{x:e+Math.cos(-Lx*i)*r,y:n+Math.sin(-Lx*i)*r}},w9=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},mTe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,c=e.endAngle,u=vr(e.cx,s,s/2),d=vr(e.cy,a,a/2),f=w9(s,a,r),h=vr(e.innerRadius,f,0),p=vr(e.outerRadius,f,f*.8),g=Object.keys(n);return g.reduce(function(y,v){var b=n[v],x=b.domain,C=b.reversed,S;if($e(b.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[h,p]),C&&(S=[S[1],S[0]]);else{S=b.range;var k=S,E=cTe(k,2);l=E[0],c=E[1]}var A=m9(b,o),O=A.realScaleType,P=A.scale;P.domain(x).range(S),g9(P);var T=y9(P,bs(bs({},b),{},{realScaleType:O})),N=bs(bs(bs({},b),T),{},{range:S,radius:p,realScaleType:O,scale:P,cx:u,cy:d,innerRadius:h,outerRadius:p,startAngle:l,endAngle:c});return bs(bs({},y),{},x9({},v,N))},{})},gTe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},yTe=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=gTe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:pTe(c),angleInRadian:c}},vTe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},bTe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},eL=function(e,n){var r=e.x,i=e.y,o=yTe({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,c=n.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=vTe(n),d=u.startAngle,f=u.endAngle,h=a,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?bs(bs({},n),{},{radius:s,angle:bTe(h,n)}):null},S9=function(e){return!w.isValidElement(e)&&!Pe(e)&&typeof e!="boolean"?e.className:""};function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}var xTe=["offset"];function wTe(t){return ETe(t)||kTe(t)||CTe(t)||STe()}function STe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CTe(t,e){if(t){if(typeof t=="string")return MO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(t,e)}}function kTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ETe(t){if(Array.isArray(t))return MO(t)}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ATe(t,e){if(t==null)return{};var n=OTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){TTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TTe(t,e,n){return e=NTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NTe(t){var e=PTe(t,"string");return qm(e)=="symbol"?e:e+""}function PTe(t,e){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ym.apply(this,arguments)}var MTe=function(e){var n=e.value,r=e.formatter,i=$e(e.children)?n:e.children;return Pe(r)?r(i):i},_Te=function(e,n){var r=yr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},jTe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,h=l.startAngle,p=l.endAngle,g=l.clockWise,y=(d+f)/2,v=_Te(h,p),b=v>=0?1:-1,x,C;i==="insideStart"?(x=h+b*s,C=g):i==="insideEnd"?(x=p-b*s,C=!g):i==="end"&&(x=p+b*s,C=g),C=v<=0?C:!C;var S=Et(c,u,y,x),k=Et(c,u,y,x+(C?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),A=$e(e.id)?Au("recharts-radial-line-"):e.id;return M.createElement("text",Ym({},r,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",a)}),M.createElement("defs",null,M.createElement("path",{id:A,d:E})),M.createElement("textPath",{xlinkHref:"#".concat(A)},n))},$Te=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,d=o.endAngle,f=(u+d)/2;if(i==="outside"){var h=Et(s,a,c+r,f),p=h.x,g=h.y;return{x:p,y:g,textAnchor:p>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,v=Et(s,a,y,f),b=v.x,x=v.y;return{x:b,y:x,textAnchor:"middle",verticalAnchor:"middle"}},ITe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,c=s.width,u=s.height,d=u>=0?1:-1,f=d*i,h=d>0?"end":"start",p=d>0?"start":"end",g=c>=0?1:-1,y=g*i,v=g>0?"end":"start",b=g>0?"start":"end";if(o==="top"){var x={x:a+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:h};return yn(yn({},x),r?{height:Math.max(l-r.y,0),width:c}:{})}if(o==="bottom"){var C={x:a+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:p};return yn(yn({},C),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(o==="left"){var S={x:a-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return yn(yn({},S),r?{width:Math.max(S.x-r.x,0),height:u}:{})}if(o==="right"){var k={x:a+c+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return yn(yn({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:u}:{})}var E=r?{width:c,height:u}:{};return o==="insideLeft"?yn({x:a+y,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):o==="insideRight"?yn({x:a+c-y,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},E):o==="insideTop"?yn({x:a+c/2,y:l+f,textAnchor:"middle",verticalAnchor:p},E):o==="insideBottom"?yn({x:a+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},E):o==="insideTopLeft"?yn({x:a+y,y:l+f,textAnchor:b,verticalAnchor:p},E):o==="insideTopRight"?yn({x:a+c-y,y:l+f,textAnchor:v,verticalAnchor:p},E):o==="insideBottomLeft"?yn({x:a+y,y:l+u-f,textAnchor:b,verticalAnchor:h},E):o==="insideBottomRight"?yn({x:a+c-y,y:l+u-f,textAnchor:v,verticalAnchor:h},E):ch(o)&&(J(o.x)||hc(o.x))&&(J(o.y)||hc(o.y))?yn({x:a+vr(o.x,c),y:l+vr(o.y,u),textAnchor:"end",verticalAnchor:"end"},E):yn({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},RTe=function(e){return"cx"in e&&J(e.cx)};function On(t){var e=t.offset,n=e===void 0?5:e,r=ATe(t,xTe),i=yn({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!o||$e(a)&&$e(l)&&!w.isValidElement(c)&&!Pe(c))return null;if(w.isValidElement(c))return w.cloneElement(c,i);var h;if(Pe(c)){if(h=w.createElement(c,i),w.isValidElement(h))return h}else h=MTe(i);var p=RTe(o),g=we(i,!0);if(p&&(s==="insideStart"||s==="insideEnd"||s==="end"))return jTe(i,h,g);var y=p?$Te(i):ITe(i);return M.createElement(iu,Ym({className:Ie("recharts-label",d)},g,y,{breakAll:f}),h)}On.displayName="Label";var C9=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,h=e.top,p=e.left,g=e.width,y=e.height,v=e.clockWise,b=e.labelViewBox;if(b)return b;if(J(g)&&J(y)){if(J(d)&&J(f))return{x:d,y:f,width:g,height:y};if(J(h)&&J(p))return{x:h,y:p,width:g,height:y}}return J(d)&&J(f)?{x:d,y:f,width:0,height:0}:J(n)&&J(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:v}:e.viewBox?e.viewBox:{}},DTe=function(e,n){return e?e===!0?M.createElement(On,{key:"label-implicit",viewBox:n}):wn(e)?M.createElement(On,{key:"label-implicit",viewBox:n,value:e}):w.isValidElement(e)?e.type===On?w.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(On,{key:"label-implicit",content:e,viewBox:n}):Pe(e)?M.createElement(On,{key:"label-implicit",content:e,viewBox:n}):ch(e)?M.createElement(On,Ym({viewBox:n},e,{key:"label-implicit"})):null:null},LTe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=C9(e),s=ri(i,On).map(function(l,c){return w.cloneElement(l,{viewBox:n||o,key:"label-".concat(c)})});if(!r)return s;var a=DTe(e.label,n||o);return[a].concat(wTe(s))};On.parseViewBox=C9;On.renderCallByParent=LTe;function FTe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var BTe=FTe;const zTe=lt(BTe);function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}var VTe=["valueAccessor"],WTe=["data","dataKey","clockWise","id","textBreakAll"];function HTe(t){return qTe(t)||GTe(t)||KTe(t)||UTe()}function UTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KTe(t,e){if(t){if(typeof t=="string")return _O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(t,e)}}function GTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qTe(t){if(Array.isArray(t))return _O(t)}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fx(){return Fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fx.apply(this,arguments)}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){YTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YTe(t,e,n){return e=XTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XTe(t){var e=JTe(t,"string");return Xm(e)=="symbol"?e:e+""}function JTe(t,e){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iL(t,e){if(t==null)return{};var n=ZTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var QTe=function(e){return Array.isArray(e.value)?zTe(e.value):e.value};function Uo(t){var e=t.valueAccessor,n=e===void 0?QTe:e,r=iL(t,VTe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,c=iL(r,WTe);return!i||!i.length?null:M.createElement(Ye,{className:"recharts-label-list"},i.map(function(u,d){var f=$e(o)?n(u,d):tn(u&&u.payload,o),h=$e(a)?{}:{id:"".concat(a,"-").concat(d)};return M.createElement(On,Fx({},we(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:On.parseViewBox($e(s)?u:rL(rL({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Uo.displayName="LabelList";function eNe(t,e){return t?t===!0?M.createElement(Uo,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Pe(t)?M.createElement(Uo,{key:"labelList-implicit",data:e,content:t}):ch(t)?M.createElement(Uo,Fx({data:e},t,{key:"labelList-implicit"})):null:null}function tNe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ri(r,Uo).map(function(s,a){return w.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=eNe(t.label,e);return[o].concat(HTe(i))}Uo.renderCallByParent=tNe;function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function jO(){return jO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jO.apply(this,arguments)}function oL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(n),!0).forEach(function(r){nNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nNe(t,e,n){return e=rNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rNe(t){var e=iNe(t,"string");return Jm(e)=="symbol"?e:e+""}function iNe(t,e){if(Jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oNe=function(e,n){var r=yr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},av=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,d=Math.asin(l/u)/Lx,f=c?o:o+s*d,h=Et(n,r,u,f),p=Et(n,r,i,f),g=c?o-s*d:o,y=Et(n,r,u*Math.cos(d*Lx),g);return{center:h,circleTangency:p,lineTangency:y,theta:d}},k9=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=oNe(s,a),c=s+l,u=Et(n,r,o,s),d=Et(n,r,o,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=Et(n,r,i,s),p=Et(n,r,i,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},sNe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=yr(u-c),f=av({cx:n,cy:r,radius:o,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),h=f.circleTangency,p=f.lineTangency,g=f.theta,y=av({cx:n,cy:r,radius:o,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),v=y.circleTangency,b=y.lineTangency,x=y.theta,C=l?Math.abs(c-u):Math.abs(c-u)-g-x;if(C<0)return a?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):k9({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var S="M ".concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var k=av({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=k.circleTangency,A=k.lineTangency,O=k.theta,P=av({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=P.circleTangency,N=P.lineTangency,$=P.theta,_=l?Math.abs(c-u):Math.abs(c-u)-O-$;if(_<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(A.x,",").concat(A.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},aNe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},E9=function(e){var n=sL(sL({},aNe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,f=n.className;if(s<o||u===d)return null;var h=Ie("recharts-sector",f),p=s-o,g=vr(a,p,0,!0),y;return g>0&&Math.abs(u-d)<360?y=sNe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=k9({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:d}),M.createElement("path",jO({},we(n,!0),{className:h,d:y,role:"img"}))};function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function $O(){return $O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$O.apply(this,arguments)}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){lNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lNe(t,e,n){return e=cNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cNe(t){var e=uNe(t,"string");return Zm(e)=="symbol"?e:e+""}function uNe(t,e){if(Zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cL={curveBasisClosed:dge,curveBasisOpen:fge,curveBasis:uge,curveBumpX:Xme,curveBumpY:Jme,curveLinearClosed:hge,curveLinear:W1,curveMonotoneX:pge,curveMonotoneY:mge,curveNatural:gge,curveStep:yge,curveStepAfter:bge,curveStepBefore:vge},lv=function(e){return e.x===+e.x&&e.y===+e.y},Kh=function(e){return e.x},Gh=function(e){return e.y},dNe=function(e,n){if(Pe(e))return e;var r="curve".concat(z1(e));return(r==="curveMonotone"||r==="curveBump")&&n?cL["".concat(r).concat(n==="vertical"?"Y":"X")]:cL[r]||W1},fNe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=dNe(r,a),d=c?o.filter(function(g){return lv(g)}):o,f;if(Array.isArray(s)){var h=c?s.filter(function(g){return lv(g)}):s,p=d.map(function(g,y){return lL(lL({},g),{},{base:h[y]})});return a==="vertical"?f=Zy().y(Gh).x1(Kh).x0(function(g){return g.base.x}):f=Zy().x(Kh).y1(Gh).y0(function(g){return g.base.y}),f.defined(lv).curve(u),f(p)}return a==="vertical"&&J(s)?f=Zy().y(Gh).x1(Kh).x0(s):J(s)?f=Zy().x(Kh).y1(Gh).y0(s):f=b6().x(Kh).y(Gh),f.defined(lv).curve(u),f(d)},Ic=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?fNe(e):i;return w.createElement("path",$O({},we(e,!1),lx(e),{className:Ie("recharts-curve",n),d:s,ref:o}))},A9={exports:{}},hNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pNe=hNe,mNe=pNe;function O9(){}function T9(){}T9.resetWarningCache=O9;var gNe=function(){function t(r,i,o,s,a,l){if(l!==mNe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:T9,resetWarningCache:O9};return n.PropTypes=n,n};A9.exports=gNe();var yNe=A9.exports;const st=lt(yNe),{getOwnPropertyNames:vNe,getOwnPropertySymbols:bNe}=Object,{hasOwnProperty:xNe}=Object.prototype;function mk(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function cv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function wNe(t){return t!=null?t[Symbol.toStringTag]:void 0}function uL(t){return vNe(t).concat(bNe(t))}const SNe=Object.hasOwn||((t,e)=>xNe.call(t,e));function Nu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const CNe="__v",kNe="__o",ENe="_owner",{getOwnPropertyDescriptor:dL,keys:fL}=Object;function ANe(t,e){return t.byteLength===e.byteLength&&Bx(new Uint8Array(t),new Uint8Array(e))}function ONe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function TNe(t,e){return t.byteLength===e.byteLength&&Bx(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function NNe(t,e){return Nu(t.getTime(),e.getTime())}function PNe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function MNe(t,e){return t===e}function hL(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const c=e.entries();let u=!1,d=0;for(;(a=c.next())&&!a.done;){if(i[d]){d++;continue}const f=s.value,h=a.value;if(n.equals(f[0],h[0],l,d,t,e,n)&&n.equals(f[1],h[1],f[0],h[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const _Ne=Nu;function jNe(t,e,n){const r=fL(t);let i=r.length;if(fL(e).length!==i)return!1;for(;i-- >0;)if(!N9(t,e,n,r[i]))return!1;return!0}function qh(t,e,n){const r=uL(t);let i=r.length;if(uL(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!N9(t,e,n,o)||(s=dL(t,o),a=dL(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function $Ne(t,e){return Nu(t.valueOf(),e.valueOf())}function INe(t,e){return t.source===e.source&&t.flags===e.flags}function pL(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(a=l.next())&&!a.done;){if(!i[u]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Bx(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function RNe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function N9(t,e,n,r){return(r===ENe||r===kNe||r===CNe)&&(t.$$typeof||e.$$typeof)?!0:SNe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const DNe="[object ArrayBuffer]",LNe="[object Arguments]",FNe="[object Boolean]",BNe="[object DataView]",zNe="[object Date]",VNe="[object Error]",WNe="[object Map]",HNe="[object Number]",UNe="[object Object]",KNe="[object RegExp]",GNe="[object Set]",qNe="[object String]",YNe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},XNe="[object URL]",JNe=Object.prototype.toString;function ZNe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:f,areUrlsEqual:h,unknownTagComparators:p}){return function(y,v,b){if(y===v)return!0;if(y==null||v==null)return!1;const x=typeof y;if(x!==typeof v)return!1;if(x!=="object")return x==="number"?a(y,v,b):x==="function"?o(y,v,b):!1;const C=y.constructor;if(C!==v.constructor)return!1;if(C===Object)return l(y,v,b);if(Array.isArray(y))return e(y,v,b);if(C===Date)return r(y,v,b);if(C===RegExp)return u(y,v,b);if(C===Map)return s(y,v,b);if(C===Set)return d(y,v,b);const S=JNe.call(y);if(S===zNe)return r(y,v,b);if(S===KNe)return u(y,v,b);if(S===WNe)return s(y,v,b);if(S===GNe)return d(y,v,b);if(S===UNe)return typeof y.then!="function"&&typeof v.then!="function"&&l(y,v,b);if(S===XNe)return h(y,v,b);if(S===VNe)return i(y,v,b);if(S===LNe)return l(y,v,b);if(YNe[S])return f(y,v,b);if(S===DNe)return t(y,v,b);if(S===BNe)return n(y,v,b);if(S===FNe||S===HNe||S===qNe)return c(y,v,b);if(p){let k=p[S];if(!k){const E=wNe(y);E&&(k=p[E])}if(k)return k(y,v,b)}return!1}}function QNe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:ANe,areArraysEqual:n?qh:ONe,areDataViewsEqual:TNe,areDatesEqual:NNe,areErrorsEqual:PNe,areFunctionsEqual:MNe,areMapsEqual:n?mk(hL,qh):hL,areNumbersEqual:_Ne,areObjectsEqual:n?qh:jNe,arePrimitiveWrappersEqual:$Ne,areRegExpsEqual:INe,areSetsEqual:n?mk(pL,qh):pL,areTypedArraysEqual:n?mk(Bx,qh):Bx,areUrlsEqual:RNe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=cv(r.areArraysEqual),o=cv(r.areMapsEqual),s=cv(r.areObjectsEqual),a=cv(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function ePe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function tPe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:c=t?new WeakMap:void 0,meta:u}=n();return e(a,l,{cache:c,equals:r,meta:u,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const P9=Ll();Ll({strict:!0});Ll({circular:!0});Ll({circular:!0,strict:!0});Ll({createInternalComparator:()=>Nu});Ll({strict:!0,createInternalComparator:()=>Nu});Ll({circular:!0,createInternalComparator:()=>Nu});Ll({circular:!0,createInternalComparator:()=>Nu,strict:!0});function Ll(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=QNe(t),s=ZNe(o),a=n?n(s):ePe(s);return tPe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function nPe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function mL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):nPe(i)};requestAnimationFrame(r)}function IO(t){"@babel/helpers - typeof";return IO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IO(t)}function rPe(t){return aPe(t)||sPe(t)||oPe(t)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(t,e){if(t){if(typeof t=="string")return gL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gL(t,e)}}function gL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aPe(t){if(Array.isArray(t))return t}function lPe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=rPe(s),l=a[0],c=a.slice(1);if(typeof l=="number"){mL(i.bind(null,c),l);return}i(l),mL(i.bind(null,c));return}IO(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Qm(t){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qm(t)}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){M9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M9(t,e,n){return e=cPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cPe(t){var e=uPe(t,"string");return Qm(e)==="symbol"?e:String(e)}function uPe(t,e){if(Qm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dPe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},fPe=function(e){return e},hPe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bp=function(e,n){return Object.keys(n).reduce(function(r,i){return vL(vL({},r),{},M9({},i,e(i,n[i])))},{})},bL=function(e,n,r){return e.map(function(i){return"".concat(hPe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function pPe(t,e){return yPe(t)||gPe(t,e)||_9(t,e)||mPe()}function mPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function yPe(t){if(Array.isArray(t))return t}function vPe(t){return wPe(t)||xPe(t)||_9(t)||bPe()}function bPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9(t,e){if(t){if(typeof t=="string")return RO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RO(t,e)}}function xPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wPe(t){if(Array.isArray(t))return RO(t)}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zx=1e-4,j9=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},$9=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},xL=function(e,n){return function(r){var i=j9(e,n);return $9(i,r)}},SPe=function(e,n){return function(r){var i=j9(e,n),o=[].concat(vPe(i.map(function(s,a){return s*a}).slice(1)),[0]);return $9(o,r)}},wL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=pPe(c,4);i=u[0],o=u[1],s=u[2],a=u[3]}}}var d=xL(i,s),f=xL(o,a),h=SPe(i,s),p=function(v){return v>1?1:v<0?0:v},g=function(v){for(var b=v>1?1:v,x=b,C=0;C<8;++C){var S=d(x)-b,k=h(x);if(Math.abs(S-b)<zx||k<zx)return f(x);x=p(x-S/k)}return f(x)};return g.isStepper=!1,g},CPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(u,d,f){var h=-(u-d)*r,p=f*o,g=f+(h-p)*a/1e3,y=f*a/1e3+u;return Math.abs(y-d)<zx&&Math.abs(g)<zx?[d,0]:[y,g]};return l.isStepper=!0,l.dt=a,l},kPe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wL(i);case"spring":return CPe();default:if(i.split("(")[0]==="cubic-bezier")return wL(i)}return typeof i=="function"?i:null};function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function SL(t){return OPe(t)||APe(t)||I9(t)||EPe()}function EPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function APe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OPe(t){if(Array.isArray(t))return LO(t)}function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){DO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DO(t,e,n){return e=TPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TPe(t){var e=NPe(t,"string");return eg(e)==="symbol"?e:String(e)}function NPe(t,e){if(eg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PPe(t,e){return jPe(t)||_Pe(t,e)||I9(t,e)||MPe()}function MPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I9(t,e){if(t){if(typeof t=="string")return LO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Pe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function jPe(t){if(Array.isArray(t))return t}var Vx=function(e,n,r){return e+(n-e)*r},FO=function(e){var n=e.from,r=e.to;return n!==r},$Pe=function t(e,n,r){var i=Bp(function(o,s){if(FO(s)){var a=e(s.from,s.to,s.velocity),l=PPe(a,2),c=l[0],u=l[1];return In(In({},s),{},{from:c,velocity:u})}return s},n);return r<1?Bp(function(o,s){return FO(s)?In(In({},s),{},{velocity:Vx(s.velocity,i[o].velocity,r),from:Vx(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const IPe=function(t,e,n,r,i){var o=dPe(t,e),s=o.reduce(function(y,v){return In(In({},y),{},DO({},v,[t[v],e[v]]))},{}),a=o.reduce(function(y,v){return In(In({},y),{},DO({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,c,u,d=function(){return null},f=function(){return Bp(function(v,b){return b.from},a)},h=function(){return!Object.values(a).filter(FO).length},p=function(v){c||(c=v);var b=v-c,x=b/n.dt;a=$Pe(n,a,x),i(In(In(In({},t),e),f())),c=v,h()||(l=requestAnimationFrame(d))},g=function(v){u||(u=v);var b=(v-u)/r,x=Bp(function(S,k){return Vx.apply(void 0,SL(k).concat([n(b)]))},s);if(i(In(In(In({},t),e),x)),b<1)l=requestAnimationFrame(d);else{var C=Bp(function(S,k){return Vx.apply(void 0,SL(k).concat([n(1)]))},s);i(In(In(In({},t),e),C))}};return d=n.isStepper?p:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}var RPe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function DPe(t,e){if(t==null)return{};var n=LPe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LPe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gk(t){return VPe(t)||zPe(t)||BPe(t)||FPe()}function FPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BPe(t,e){if(t){if(typeof t=="string")return BO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BO(t,e)}}function zPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VPe(t){if(Array.isArray(t))return BO(t)}function BO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){ap(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ap(t,e,n){return e=R9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R9(r.key),r)}}function HPe(t,e,n){return e&&EL(t.prototype,e),n&&EL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R9(t){var e=UPe(t,"string");return yf(e)==="symbol"?e:String(e)}function UPe(t,e){if(yf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zO(t,e)}function zO(t,e){return zO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zO(t,e)}function GPe(t){var e=qPe();return function(){var r=Wx(t),i;if(e){var o=Wx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return VO(this,i)}}function VO(t,e){if(e&&(yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WO(t)}function WO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wx(t){return Wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wx(t)}var iS=function(t){KPe(n,t);var e=GPe(n);function n(r,i){var o;WPe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,u=s.to,d=s.steps,f=s.children,h=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(WO(o)),o.changeStyle=o.changeStyle.bind(WO(o)),!a||h<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:u}),VO(o);if(d&&d.length)o.state={style:d[0].style};else if(c){if(typeof f=="function")return o.state={style:c},VO(o);o.state={style:l?ap({},l,c):c}}else o.state={style:{}};return o}return HPe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,d=o.from,f=this.state.style;if(a){if(!s){var h={style:l?ap({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(h);return}if(!(P9(i.to,u)&&i.canBegin&&i.isActive)){var p=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=p||c?d:i.to;if(this.state&&f){var y={style:l?ap({},l,g):g};(l&&f[l]!==g||!l&&f!==g)&&this.setState(y)}this.runAnimation(Hi(Hi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,h=IPe(s,a,kPe(c),l,this.changeStyle),p=function(){o.stopJSAnimation=h()};this.manager.start([f,u,p,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,d=c.duration,f=d===void 0?0:d,h=function(g,y,v){if(v===0)return g;var b=y.duration,x=y.easing,C=x===void 0?"ease":x,S=y.style,k=y.properties,E=y.onAnimationEnd,A=v>0?s[v-1]:y,O=k||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(gk(g),[o.runJSAnimation.bind(o,{from:A.style,to:S,duration:b,easing:C}),b]);var P=bL(O,b,C),T=Hi(Hi(Hi({},A.style),S),{},{transition:P});return[].concat(gk(g),[T,b,E]).filter(fPe)};return this.manager.start([l].concat(gk(s.reduce(h,[u,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lPe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,h=i.children,p=this.manager;if(this.unSubscribe=p.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=a?ap({},a,l):l,y=bL(Object.keys(g),s,c);p.start([u,o,Hi(Hi({},g),{},{transition:y}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=DPe(i,RPe),c=w.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!a||c===0||s<=0)return o;var d=function(h){var p=h.props,g=p.style,y=g===void 0?{}:g,v=p.className,b=w.cloneElement(h,Hi(Hi({},l),{},{style:Hi(Hi({},y),u),className:v}));return b};return c===1?d(w.Children.only(o)):M.createElement("div",null,w.Children.map(o,function(f){return d(f)}))}}]),n}(w.PureComponent);iS.displayName="Animate";iS.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};iS.propTypes={from:st.oneOfType([st.object,st.string]),to:st.oneOfType([st.object,st.string]),attributeName:st.string,duration:st.number,begin:st.number,easing:st.oneOfType([st.string,st.func]),steps:st.arrayOf(st.shape({duration:st.number.isRequired,style:st.object.isRequired,easing:st.oneOfType([st.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),st.func]),properties:st.arrayOf("string"),onAnimationEnd:st.func})),children:st.oneOfType([st.node,st.func]),isActive:st.bool,canBegin:st.bool,onAnimationEnd:st.func,shouldReAnimate:st.bool,onAnimationStart:st.func,onAnimationReStart:st.func};const wl=iS;function Hx(){return Hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hx.apply(null,arguments)}function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function Ux(){return Ux=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ux.apply(this,arguments)}function YPe(t,e){return QPe(t)||ZPe(t,e)||JPe(t,e)||XPe()}function XPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JPe(t,e){if(t){if(typeof t=="string")return AL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AL(t,e)}}function AL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function QPe(t){if(Array.isArray(t))return t}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){eMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eMe(t,e,n){return e=tMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tMe(t){var e=nMe(t,"string");return tg(e)=="symbol"?e:e+""}function nMe(t,e){if(tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NL=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=o[f]>s?s:o[f];u="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*d[1])),u+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*d[3])),u+="Z"}else if(s>0&&o===+o&&o>0){var p=Math.min(s,o);u="M ".concat(e,",").concat(n+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(n,`
            L `).concat(e+r-l*p,",").concat(n,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*p,`
            L `).concat(e+r,",").concat(n+i-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(n+i,`
            L `).concat(e+l*p,",").concat(n+i,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*p," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},rMe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),u=Math.max(o,o+a),d=Math.min(s,s+l),f=Math.max(s,s+l);return r>=c&&r<=u&&i>=d&&i<=f}return!1},iMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x_=function(e){var n=TL(TL({},iMe),e),r=w.useRef(),i=w.useState(-1),o=YPe(i,2),s=o[0],a=o[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,f=n.radius,h=n.className,p=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var x=Ie("recharts-rectangle",h);return b?M.createElement(wl,{canBegin:s>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:g,animationEasing:p,isActive:b},function(C){var S=C.width,k=C.height,E=C.x,A=C.y;return M.createElement(wl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:p},M.createElement("path",Ux({},we(n,!0),{className:x,d:NL(E,A,S,k,f),ref:r})))}):M.createElement("path",Ux({},we(n,!0),{className:x,d:NL(l,c,u,d,f)}))},oMe=["points","className","baseLinePoints","connectNulls"];function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bd.apply(this,arguments)}function sMe(t,e){if(t==null)return{};var n=aMe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PL(t){return dMe(t)||uMe(t)||cMe(t)||lMe()}function lMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cMe(t,e){if(t){if(typeof t=="string")return HO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HO(t,e)}}function uMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dMe(t){if(Array.isArray(t))return HO(t)}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ML=function(e){return e&&e.x===+e.x&&e.y===+e.y},fMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){ML(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),ML(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},zp=function(e,n){var r=fMe(e);n&&(r=[r.reduce(function(o,s){return[].concat(PL(o),PL(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},hMe=function(e,n,r){var i=zp(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(zp(n.reverse(),r).slice(1))},pMe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=sMe(e,oMe);if(!n||!n.length)return null;var a=Ie("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",c=hMe(n,i,o);return M.createElement("g",{className:a},M.createElement("path",bd({},we(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?M.createElement("path",bd({},we(s,!0),{fill:"none",d:zp(n,o)})):null,l?M.createElement("path",bd({},we(s,!0),{fill:"none",d:zp(i,o)})):null)}var u=zp(n,o);return M.createElement("path",bd({},we(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function UO(){return UO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UO.apply(this,arguments)}var cy=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ie("recharts-dot",o);return n===+n&&r===+r&&i===+i?w.createElement("circle",UO({},we(e,!1),lx(e),{className:s,cx:n,cy:r,r:i})):null};function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}var mMe=["x","y","top","left","width","height","className"];function KO(){return KO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KO.apply(this,arguments)}function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gMe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){yMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yMe(t,e,n){return e=vMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vMe(t){var e=bMe(t,"string");return ng(e)=="symbol"?e:e+""}function bMe(t,e){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xMe(t,e){if(t==null)return{};var n=wMe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var SMe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},CMe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,h=f===void 0?0:f,p=e.className,g=xMe(e,mMe),y=gMe({x:r,y:o,top:a,left:c,width:d,height:h},g);return!J(r)||!J(o)||!J(d)||!J(h)||!J(a)||!J(c)?null:M.createElement("path",KO({},we(y,!0),{className:Ie("recharts-cross",p),d:SMe(r,o,d,h,a,c)}))},kMe=eS,EMe=G8,AMe=ns;function OMe(t,e){return t&&t.length?kMe(t,AMe(e),EMe):void 0}var TMe=OMe;const NMe=lt(TMe);var PMe=eS,MMe=ns,_Me=q8;function jMe(t,e){return t&&t.length?PMe(t,MMe(e),_Me):void 0}var $Me=jMe;const IMe=lt($Me);var RMe=["cx","cy","angle","ticks","axisLine"],DMe=["ticks","tick","angle","tickFormatter","stroke"];function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){oS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $L(t,e){if(t==null)return{};var n=LMe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L9(r.key),r)}}function BMe(t,e,n){return e&&IL(t.prototype,e),n&&IL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zMe(t,e,n){return e=Kx(e),VMe(t,D9()?Reflect.construct(e,n||[],Kx(t).constructor):e.apply(t,n))}function VMe(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WMe(t)}function WMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D9=function(){return!!t})()}function Kx(t){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kx(t)}function HMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GO(t,e)}function GO(t,e){return GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GO(t,e)}function oS(t,e,n){return e=L9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L9(t){var e=UMe(t,"string");return vf(e)=="symbol"?e:e+""}function UMe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sS=function(t){function e(){return FMe(this,e),zMe(this,e,arguments)}return HMe(e,t),BMe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Et(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=NMe(a,function(u){return u.coordinate||0}),c=IMe(a,function(u){return u.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,c=$L(r,RMe),u=a.reduce(function(p,g){return[Math.min(p[0],g.coordinate),Math.max(p[1],g.coordinate)]},[1/0,-1/0]),d=Et(i,o,u[0],s),f=Et(i,o,u[1],s),h=Kl(Kl(Kl({},we(c,!1)),{},{fill:"none"},we(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return M.createElement("line",Vp({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,u=$L(i,DMe),d=this.getTickTextAnchor(),f=we(u,!1),h=we(s,!1),p=o.map(function(g,y){var v=r.getTickValueCoord(g),b=Kl(Kl(Kl(Kl({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(v.x,", ").concat(v.y,")")},f),{},{stroke:"none",fill:c},h),{},{index:y},v),{},{payload:g});return M.createElement(Ye,Vp({className:Ie("recharts-polar-radius-axis-tick",S9(s)),key:"tick-".concat(g.coordinate)},ru(r.props,g,y)),e.renderTickItem(s,b,l?l(g.value,y):g.value))});return M.createElement(Ye,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:M.createElement(Ye,{className:Ie("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),On.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Pe(r)?s=r(i):s=M.createElement(iu,Vp({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(w.PureComponent);oS(sS,"displayName","PolarRadiusAxis");oS(sS,"axisType","radiusAxis");oS(sS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){aS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B9(r.key),r)}}function GMe(t,e,n){return e&&DL(t.prototype,e),n&&DL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qMe(t,e,n){return e=Gx(e),YMe(t,F9()?Reflect.construct(e,n||[],Gx(t).constructor):e.apply(t,n))}function YMe(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XMe(t)}function XMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F9=function(){return!!t})()}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gx(t)}function JMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qO(t,e)}function qO(t,e){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qO(t,e)}function aS(t,e,n){return e=B9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B9(t){var e=ZMe(t,"string");return bf(e)=="symbol"?e:e+""}function ZMe(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QMe=Math.PI/180,LL=1e-5,lS=function(t){function e(){return KMe(this,e),qMe(this,e,arguments)}return JMe(e,t),GMe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=Et(o,s,a,r.coordinate),f=Et(o,s,a+(l==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*QMe),s;return o>LL?s=i==="outer"?"start":"end":o<-LL?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,c=Gl(Gl({},we(this.props,!1)),{},{fill:"none"},we(a,!1));if(l==="circle")return M.createElement(cy,ac({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:o,r:s}));var u=this.props.ticks,d=u.map(function(f){return Et(i,o,s,f.coordinate)});return M.createElement(pMe,ac({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,u=we(this.props,!1),d=we(s,!1),f=Gl(Gl({},u),{},{fill:"none"},we(a,!1)),h=o.map(function(p,g){var y=r.getTickLineCoord(p),v=r.getTickTextAnchor(p),b=Gl(Gl(Gl({textAnchor:v},u),{},{stroke:"none",fill:c},d),{},{index:g,payload:p,x:y.x2,y:y.y2});return M.createElement(Ye,ac({className:Ie("recharts-polar-angle-axis-tick",S9(s)),key:"tick-".concat(p.coordinate)},ru(r.props,p,g)),a&&M.createElement("line",ac({className:"recharts-polar-angle-axis-tick-line"},f,y)),s&&e.renderTickItem(s,b,l?l(p.value,g):p.value))});return M.createElement(Ye,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:M.createElement(Ye,{className:Ie("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return M.isValidElement(r)?s=M.cloneElement(r,i):Pe(r)?s=r(i):s=M.createElement(iu,ac({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(w.PureComponent);aS(lS,"displayName","PolarAngleAxis");aS(lS,"axisType","angleAxis");aS(lS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var e_e=W6,t_e=e_e(Object.getPrototypeOf,Object),n_e=t_e,r_e=ea,i_e=n_e,o_e=ta,s_e="[object Object]",a_e=Function.prototype,l_e=Object.prototype,z9=a_e.toString,c_e=l_e.hasOwnProperty,u_e=z9.call(Object);function d_e(t){if(!o_e(t)||r_e(t)!=s_e)return!1;var e=i_e(t);if(e===null)return!0;var n=c_e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&z9.call(n)==u_e}var f_e=d_e;const h_e=lt(f_e);var p_e=ea,m_e=ta,g_e="[object Boolean]";function y_e(t){return t===!0||t===!1||m_e(t)&&p_e(t)==g_e}var v_e=y_e;const b_e=lt(v_e);function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function qx(){return qx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qx.apply(this,arguments)}function x_e(t,e){return k_e(t)||C_e(t,e)||S_e(t,e)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S_e(t,e){if(t){if(typeof t=="string")return FL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FL(t,e)}}function FL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function k_e(t){if(Array.isArray(t))return t}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){E_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_e(t,e,n){return e=A_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A_e(t){var e=O_e(t,"string");return rg(e)=="symbol"?e:e+""}function O_e(t,e){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VL=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},T_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},N_e=function(e){var n=zL(zL({},T_e),e),r=w.useRef(),i=w.useState(-1),o=x_e(i,2),s=o[0],a=o[1];w.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&a(x)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,f=n.height,h=n.className,p=n.animationEasing,g=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var b=Ie("recharts-trapezoid",h);return v?M.createElement(wl,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:g,animationEasing:p,isActive:v},function(x){var C=x.upperWidth,S=x.lowerWidth,k=x.height,E=x.x,A=x.y;return M.createElement(wl,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:p},M.createElement("path",qx({},we(n,!0),{className:b,d:VL(E,A,C,S,k),ref:r})))}):M.createElement("g",null,M.createElement("path",qx({},we(n,!0),{className:b,d:VL(l,c,u,d,f)})))},P_e=["option","shapeType","propTransformer","activeClassName","isActive"];function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function M_e(t,e){if(t==null)return{};var n=__e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function __e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){j_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_e(t,e,n){return e=$_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $_e(t){var e=I_e(t,"string");return ig(e)=="symbol"?e:e+""}function I_e(t,e){if(ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R_e(t,e){return Yx(Yx({},e),t)}function D_e(t,e){return t==="symbols"}function HL(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(x_,n);case"trapezoid":return M.createElement(N_e,n);case"sector":return M.createElement(E9,n);case"symbols":if(D_e(e))return M.createElement(FM,n);break;default:return null}}function L_e(t){return w.isValidElement(t)?t.props:t}function V9(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?R_e:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=M_e(t,P_e),c;if(w.isValidElement(e))c=w.cloneElement(e,Yx(Yx({},l),L_e(e)));else if(Pe(e))c=e(l);else if(h_e(e)&&!b_e(e)){var u=i(e,l);c=M.createElement(HL,{shapeType:n,elementProps:u})}else{var d=l;c=M.createElement(HL,{shapeType:n,elementProps:d})}return a?M.createElement(Ye,{className:s},c):c}function cS(t,e){return e!=null&&"trapezoids"in t.props}function uS(t,e){return e!=null&&"sectors"in t.props}function og(t,e){return e!=null&&"points"in t.props}function F_e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function B_e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function z_e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function V_e(t,e){var n;return cS(t,e)?n=F_e:uS(t,e)?n=B_e:og(t,e)&&(n=z_e),n}function W_e(t,e){var n;return cS(t,e)?n="trapezoids":uS(t,e)?n="sectors":og(t,e)&&(n="points"),n}function H_e(t,e){if(cS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(uS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return og(t,e)?e.payload:{}}function U_e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=W_e(n,e),o=H_e(n,e),s=r.filter(function(l,c){var u=ou(o,l),d=n.props[i].filter(function(p){var g=V_e(n,e);return g(p,e)}),f=n.props[i].indexOf(d[d.length-1]),h=c===f;return u&&h}),a=r.indexOf(s[s.length-1]);return a}var sb;function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xd.apply(this,arguments)}function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H9(r.key),r)}}function G_e(t,e,n){return e&&KL(t.prototype,e),n&&KL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function q_e(t,e,n){return e=Xx(e),Y_e(t,W9()?Reflect.construct(e,n||[],Xx(t).constructor):e.apply(t,n))}function Y_e(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X_e(t)}function X_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W9=function(){return!!t})()}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xx(t)}function J_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YO(t,e)}function YO(t,e){return YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YO(t,e)}function ki(t,e,n){return e=H9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H9(t){var e=Z_e(t,"string");return xf(e)=="symbol"?e:e+""}function Z_e(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ra=function(t){function e(n){var r;return K_e(this,e),r=q_e(this,e,[n]),ki(r,"pieRef",null),ki(r,"sectorRefs",[]),ki(r,"id",Au("recharts-pie-")),ki(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Pe(i)&&i()}),ki(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Pe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return J_e(e,t),G_e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,c=o.valueKey,u=we(this.props,!1),d=we(s,!1),f=we(a,!1),h=s&&s.offsetRadius||20,p=r.map(function(g,y){var v=(g.startAngle+g.endAngle)/2,b=Et(g.cx,g.cy,g.outerRadius+h,v),x=St(St(St(St({},u),g),{},{stroke:"none"},d),{},{index:y,textAnchor:e.getTextAnchor(b.x,g.cx)},b),C=St(St(St(St({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:y,points:[Et(g.cx,g.cy,g.outerRadius,v),b]}),S=l;return $e(l)&&$e(c)?S="value":$e(l)&&(S=c),M.createElement(Ye,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},a&&e.renderLabelLineItem(a,C,"line"),e.renderLabelItem(s,x,tn(g,S)))});return M.createElement(Ye,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(u),f=l&&i.hasActiveIndex()?l:null,h=d?s:f,p=St(St({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return M.createElement(Ye,xd({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},ru(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),M.createElement(V9,xd({option:h,isActive:d,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return M.createElement(wl,{begin:a,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var g=p.t,y=[],v=o&&o[0],b=v.startAngle;return o.forEach(function(x,C){var S=f&&f[C],k=C>0?ni(x,"paddingAngle",0):0;if(S){var E=bn(S.endAngle-S.startAngle,x.endAngle-x.startAngle),A=St(St({},x),{},{startAngle:b+k,endAngle:b+E(g)+k});y.push(A),b=A.endAngle}else{var O=x.endAngle,P=x.startAngle,T=bn(0,O-P),N=T(g),$=St(St({},x),{},{startAngle:b+k,endAngle:b+N+k});y.push($),b=$.endAngle}}),M.createElement(Ye,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!ou(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.isAnimationActive,p=this.state.isAnimationFinished;if(o||!s||!s.length||!J(c)||!J(u)||!J(d)||!J(f))return null;var g=Ie("recharts-pie",a);return M.createElement(Ye,{tabIndex:this.props.rootTabIndex,className:g,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(s),On.renderCallByParent(this.props,null,!1),(!h||p)&&Uo.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);if(Pe(r))return r(i);var s=Ie("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(Ic,xd({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(M.isValidElement(r))return M.cloneElement(r,i);var s=o;if(Pe(r)&&(s=r(i),M.isValidElement(s)))return s;var a=Ie("recharts-pie-label-text",typeof r!="boolean"&&!Pe(r)?r.className:"");return M.createElement(iu,xd({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(w.PureComponent);sb=ra;ki(ra,"displayName","Pie");ki(ra,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!co.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ki(ra,"parseDeltaAngle",function(t,e){var n=yr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ki(ra,"getRealPieData",function(t){var e=t.data,n=t.children,r=we(t,!1),i=ri(n,ry);return e&&e.length?e.map(function(o,s){return St(St(St({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return St(St({},r),o.props)}):[]});ki(ra,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=w9(i,o),a=r+vr(t.cx,i,i/2),l=n+vr(t.cy,o,o/2),c=vr(t.innerRadius,s,0),u=vr(t.outerRadius,s,s*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});ki(ra,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?St(St({},e.type.defaultProps),e.props):e.props,i=sb.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,f=r.tooltipType,h=Math.abs(r.minAngle),p=sb.parseCoordinateOfPie(r,n),g=sb.parseDeltaAngle(s,a),y=Math.abs(g),v=c;$e(c)&&$e(d)?(lo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):$e(c)&&(lo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=d);var b=i.filter(function(A){return tn(A,v,0)!==0}).length,x=(y>=360?b:b-1)*l,C=y-b*h-x,S=i.reduce(function(A,O){var P=tn(O,v,0);return A+(J(P)?P:0)},0),k;if(S>0){var E;k=i.map(function(A,O){var P=tn(A,v,0),T=tn(A,u,O),N=(J(P)?P:0)/S,$;O?$=E.endAngle+yr(g)*l*(P!==0?1:0):$=s;var _=$+yr(g)*((P!==0?h:0)+N*C),I=($+_)/2,R=(p.innerRadius+p.outerRadius)/2,F=[{name:T,value:P,payload:A,dataKey:v,type:f}],j=Et(p.cx,p.cy,R,I);return E=St(St(St({percent:N,cornerRadius:o,name:T,tooltipPayload:F,midAngle:I,middleRadius:R,tooltipPosition:j},A),p),{},{value:tn(A,v),startAngle:$,endAngle:_,payload:A,paddingAngle:yr(g)*l}),E})}return St(St({},p),{},{sectors:k,data:i})});var Q_e=Math.ceil,eje=Math.max;function tje(t,e,n,r){for(var i=-1,o=eje(Q_e((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var nje=tje,rje=l8,GL=1/0,ije=17976931348623157e292;function oje(t){if(!t)return t===0?t:0;if(t=rje(t),t===GL||t===-GL){var e=t<0?-1:1;return e*ije}return t===t?t:0}var U9=oje,sje=nje,aje=G1,yk=U9;function lje(t){return function(e,n,r){return r&&typeof r!="number"&&aje(e,n,r)&&(n=r=void 0),e=yk(e),n===void 0?(n=e,e=0):n=yk(n),r=r===void 0?e<n?1:-1:yk(r),sje(e,n,r,t)}}var cje=lje,uje=cje,dje=uje(),fje=dje;const Jx=lt(fje);function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){K9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K9(t,e,n){return e=hje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hje(t){var e=pje(t,"string");return sg(e)=="symbol"?e:e+""}function pje(t,e){if(sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mje=["Webkit","Moz","O","ms"],gje=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=mje.reduce(function(o,s){return YL(YL({},o),{},K9({},s+r,n))},{});return i[e]=n,i};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zx.apply(this,arguments)}function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){Hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q9(r.key),r)}}function vje(t,e,n){return e&&JL(t.prototype,e),n&&JL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bje(t,e,n){return e=Qx(e),xje(t,G9()?Reflect.construct(e,n||[],Qx(t).constructor):e.apply(t,n))}function xje(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wje(t)}function wje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G9=function(){return!!t})()}function Qx(t){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qx(t)}function Sje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XO(t,e)}function XO(t,e){return XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XO(t,e)}function Hr(t,e,n){return e=q9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q9(t){var e=Cje(t,"string");return wf(e)=="symbol"?e:e+""}function Cje(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kje=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Lp().domain(Jx(0,l)).range([o,o+s-a]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},ZL=function(e){return e.changedTouches&&!!e.changedTouches.length},Sf=function(t){function e(n){var r;return yje(this,e),r=bje(this,e,[n]),Hr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Hr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Hr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Hr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Hr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Hr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Hr(r,"handleSlideDragStart",function(i){var o=ZL(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Sje(e,t),vje(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,d=Math.min(i,o),f=Math.max(i,o),h=e.getIndexInRange(s,d),p=e.getIndexInRange(s,f);return{startIndex:h-h%l,endIndex:p===u?u:p-p%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=tn(o[r],a,r);return Pe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,h=l.endIndex,p=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,c+u-d-a,c+u-d-s):g<0&&(g=Math.max(g,c-s,c-a));var y=this.getIndex({startX:s+g,endX:a+g});(y.startIndex!==f||y.endIndex!==h)&&p&&p(y),this.setState({startX:s+g,endX:a+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=ZL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,p=u.onChange,g=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+f-h-c):b<0&&(b=Math.max(b,d-c)),v[s]=c+b;var x=this.getIndex(v),C=x.startIndex,S=x.endIndex,k=function(){var A=y.length-1;return s==="startX"&&(a>l?C%g===0:S%g===0)||a<l&&S===A||s==="endX"&&(a>l?S%g===0:C%g===0)||a>l&&S===A};this.setState(Hr(Hr({},s,c+b),"brushMoveStartX",r.pageX),function(){p&&k()&&p(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],d=a.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=a.length)){var h=a[f];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(Hr({},i,h),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,c=r.stroke;return M.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,c=r.children,u=r.padding,d=w.Children.only(c);return d?M.cloneElement(d,{x:i,y:o,width:s,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,h=l.ariaLabel,p=l.data,g=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),b=vk(vk({},we(this.props,!1)),{},{x:v,y:c,width:u,height:d}),x=h||"Min value: ".concat((o=p[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=p[y])===null||s===void 0?void 0:s.name);return M.createElement(Ye,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,f=u.endX,h=5,p={pointerEvents:"none",fill:c};return M.createElement(Ye,{className:"recharts-brush-texts"},M.createElement(iu,Zx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:s+a/2},p),this.getTextOfTick(i)),M.createElement(iu,Zx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+h,y:s+a/2},p),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,f=this.state,h=f.startX,p=f.endX,g=f.isTextActive,y=f.isSlideMoving,v=f.isTravellerMoving,b=f.isTravellerFocused;if(!i||!i.length||!J(a)||!J(l)||!J(c)||!J(u)||c<=0||u<=0)return null;var x=Ie("recharts-brush",o),C=M.Children.count(s)===1,S=gje("userSelect","none");return M.createElement(Ye,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(g||y||v||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,c=Math.floor(o+a/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Pe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return vk({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?kje({data:o,width:s,x:a,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(w.PureComponent);Hr(Sf,"displayName","Brush");Hr(Sf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Eje=KM;function Aje(t,e){var n;return Eje(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Oje=Aje,Tje=I6,Nje=ns,Pje=Oje,Mje=Br,_je=G1;function jje(t,e,n){var r=Mje(t)?Tje:Pje;return n&&_je(t,e,n)&&(e=void 0),r(t,Nje(e))}var $je=jje;const Ije=lt($je);var Ko=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},QL=r8;function Rje(t,e,n){e=="__proto__"&&QL?QL(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Dje=Rje,Lje=Dje,Fje=t8,Bje=ns;function zje(t,e){var n={};return e=Bje(e),Fje(t,function(r,i,o){Lje(n,i,e(r,i,o))}),n}var Vje=zje;const Wje=lt(Vje);function Hje(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Uje=Hje,Kje=KM;function Gje(t,e){var n=!0;return Kje(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var qje=Gje,Yje=Uje,Xje=qje,Jje=ns,Zje=Br,Qje=G1;function e$e(t,e,n){var r=Zje(t)?Yje:Xje;return n&&Qje(t,e,n)&&(e=void 0),r(t,Jje(e))}var t$e=e$e;const Y9=lt(t$e);var n$e=["x","y"];function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function JO(){return JO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JO.apply(this,arguments)}function eF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(n),!0).forEach(function(r){r$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r$e(t,e,n){return e=i$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$e(t){var e=o$e(t,"string");return ag(e)=="symbol"?e:e+""}function o$e(t,e){if(ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s$e(t,e){if(t==null)return{};var n=a$e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l$e(t,e){var n=t.x,r=t.y,i=s$e(t,n$e),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Yh(Yh(Yh(Yh(Yh({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function tF(t){return M.createElement(V9,JO({shapeType:"rectangle",propTransformer:l$e,activeClassName:"recharts-active-bar"},t))}var c$e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=J(r)||Rpe(r);return o?e(r,i):(o||xl(!1),n)}},u$e=["value","background"],X9;function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function d$e(t,e){if(t==null)return{};var n=f$e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e0(){return e0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e0.apply(this,arguments)}function nF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(n),!0).forEach(function(r){Ha(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z9(r.key),r)}}function p$e(t,e,n){return e&&rF(t.prototype,e),n&&rF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m$e(t,e,n){return e=t0(e),g$e(t,J9()?Reflect.construct(e,n||[],t0(t).constructor):e.apply(t,n))}function g$e(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y$e(t)}function y$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J9=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(t)}function v$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZO(t,e)}function ZO(t,e){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZO(t,e)}function Ha(t,e,n){return e=Z9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z9(t){var e=b$e(t,"string");return Cf(e)=="symbol"?e:e+""}function b$e(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pu=function(t){function e(){var n;h$e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=m$e(this,e,[].concat(i)),Ha(n,"state",{isAnimationFinished:!1}),Ha(n,"id",Au("recharts-bar-")),Ha(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Ha(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return v$e(e,t),p$e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,u=we(this.props,!1);return r&&r.map(function(d,f){var h=f===l,p=h?c:s,g=sn(sn(sn({},u),d),{},{isActive:h,option:p,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(Ye,e0({className:"recharts-bar-rectangle"},ru(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),M.createElement(tF,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return M.createElement(wl,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,g=o.map(function(y,v){var b=f&&f[v];if(b){var x=bn(b.x,y.x),C=bn(b.y,y.y),S=bn(b.width,y.width),k=bn(b.height,y.height);return sn(sn({},y),{},{x:x(p),y:C(p),width:S(p),height:k(p)})}if(s==="horizontal"){var E=bn(0,y.height),A=E(p);return sn(sn({},y),{},{y:y.y+y.height-A,height:A})}var O=bn(0,y.width),P=O(p);return sn(sn({},y),{},{width:P})});return M.createElement(Ye,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!ou(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=we(this.props.background,!1);return o.map(function(c,u){c.value;var d=c.background,f=d$e(c,u$e);if(!d)return null;var h=sn(sn(sn(sn(sn({},f),{},{fill:"#eee"},d),l),ru(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return M.createElement(tF,e0({key:"background-bar-".concat(u),option:r.props.background,isActive:u===a},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=ri(u,ly);if(!d)return null;var f=c==="vertical"?s[0].height/2:s[0].width/2,h=function(y,v){var b=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:b,errorVal:tn(y,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Ye,p,d.map(function(g){return M.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,f=r.height,h=r.isAnimationActive,p=r.background,g=r.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,v=Ie("recharts-bar",s),b=a&&a.allowDataOverflow,x=l&&l.allowDataOverflow,C=b||x,S=$e(g)?this.id:g;return M.createElement(Ye,{className:v},b||x?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:b?c:c-d/2,y:x?u:u-f/2,width:b?d:d*2,height:x?f:f*2}))):null,M.createElement(Ye,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!h||y)&&Uo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(w.PureComponent);X9=Pu;Ha(Pu,"displayName","Bar");Ha(Pu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!co.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ha(Pu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,h=JOe(r,n);if(!h)return null;var p=e.layout,g=n.type.defaultProps,y=g!==void 0?sn(sn({},g),n.props):n.props,v=y.dataKey,b=y.children,x=y.minPointSize,C=p==="horizontal"?s:o,S=c?C.scale.domain():null,k=iTe({numericAxis:C}),E=ri(b,ry),A=d.map(function(O,P){var T,N,$,_,I,R;c?T=ZOe(c[u+P],S):(T=tn(O,v),Array.isArray(T)||(T=[k,T]));var F=c$e(x,X9.defaultProps.minPointSize)(T[1],P);if(p==="horizontal"){var j,L=[s.scale(T[0]),s.scale(T[1])],V=L[0],U=L[1];N=q2({axis:o,ticks:a,bandSize:i,offset:h.offset,entry:O,index:P}),$=(j=U??V)!==null&&j!==void 0?j:void 0,_=h.size;var G=V-U;if(I=Number.isNaN(G)?0:G,R={x:N,y:s.y,width:_,height:s.height},Math.abs(F)>0&&Math.abs(I)<Math.abs(F)){var ie=yr(I||F)*(Math.abs(F)-Math.abs(I));$-=ie,I+=ie}}else{var Ce=[o.scale(T[0]),o.scale(T[1])],Fe=Ce[0],Be=Ce[1];if(N=Fe,$=q2({axis:s,ticks:l,bandSize:i,offset:h.offset,entry:O,index:P}),_=Be-Fe,I=h.size,R={x:o.x,y:$,width:o.width,height:I},Math.abs(F)>0&&Math.abs(_)<Math.abs(F)){var ae=yr(_||F)*(Math.abs(F)-Math.abs(_));_+=ae}}return sn(sn(sn({},O),{},{x:N,y:$,width:_,height:I,value:c?T:T[1],payload:O,background:R},E&&E[P]&&E[P].props),{},{tooltipPayload:[b9(n,O)],tooltipPosition:{x:N+_/2,y:$+I/2}})});return sn({data:A,layout:p},f)});function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function x$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q9(r.key),r)}}function w$e(t,e,n){return e&&iF(t.prototype,e),n&&iF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(n),!0).forEach(function(r){dS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dS(t,e,n){return e=Q9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q9(t){var e=S$e(t,"string");return lg(e)=="symbol"?e:e+""}function S$e(t,e){if(lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w_=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!Kr(c,Pu);return u.reduce(function(h,p){var g=n[p],y=g.orientation,v=g.domain,b=g.padding,x=b===void 0?{}:b,C=g.mirror,S=g.reversed,k="".concat(y).concat(C?"Mirror":""),E,A,O,P,T;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var N=v[1]-v[0],$=1/0,_=g.categoricalDomain.sort(Fpe);if(_.forEach(function(Ce,Fe){Fe>0&&($=Math.min((Ce||0)-(_[Fe-1]||0),$))}),Number.isFinite($)){var I=$/N,R=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(E=I*R/2),g.padding==="no-gap"){var F=vr(e.barCategoryGap,I*R),j=I*R/2;E=j-F-(j-F)/R*F}}}i==="xAxis"?A=[r.left+(x.left||0)+(E||0),r.left+r.width-(x.right||0)-(E||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(E||0),r.top+r.height-(x.bottom||0)-(E||0)]:A=g.range,S&&(A=[A[1],A[0]]);var L=m9(g,o,f),V=L.scale,U=L.realScaleType;V.domain(v).range(A),g9(V);var G=y9(V,Ji(Ji({},g),{},{realScaleType:U}));i==="xAxis"?(T=y==="top"&&!C||y==="bottom"&&C,O=r.left,P=d[k]-T*g.height):i==="yAxis"&&(T=y==="left"&&!C||y==="right"&&C,O=d[k]-T*g.width,P=r.top);var ie=Ji(Ji(Ji({},g),G),{},{realScaleType:U,x:O,y:P,scale:V,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return ie.bandSize=Dx(ie,G),!g.hide&&i==="xAxis"?d[k]+=(T?-1:1)*ie.height:g.hide||(d[k]+=(T?-1:1)*ie.width),Ji(Ji({},h),{},dS({},p,ie))},{})},eK=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},C$e=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return eK({x:n,y:r},{x:i,y:o})},tK=function(){function t(e){x$e(this,t),this.scale=e}return w$e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();dS(tK,"EPS",1e-4);var S_=function(e){var n=Object.keys(e).reduce(function(r,i){return Ji(Ji({},r),{},dS({},i,tK.create(e[i])))},{});return Ji(Ji({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Wje(i,function(l,c){return n[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return Y9(i,function(o,s){return n[s].isInRange(o)})}})};function k$e(t){return(t%180+180)%180}var E$e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=k$e(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},A$e=ns,O$e=ny,T$e=U1;function N$e(t){return function(e,n,r){var i=Object(e);if(!O$e(e)){var o=A$e(n);e=T$e(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var P$e=N$e,M$e=U9;function _$e(t){var e=M$e(t),n=e%1;return e===e?n?e-n:e:0}var j$e=_$e,$$e=Y6,I$e=ns,R$e=j$e,D$e=Math.max;function L$e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:R$e(n);return i<0&&(i=D$e(r+i,0)),$$e(t,I$e(e),i)}var F$e=L$e,B$e=P$e,z$e=F$e,V$e=B$e(z$e),W$e=V$e;const H$e=lt(W$e);var U$e=Bhe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),C_=w.createContext(void 0),k_=w.createContext(void 0),nK=w.createContext(void 0),rK=w.createContext({}),iK=w.createContext(void 0),oK=w.createContext(0),sK=w.createContext(0),sF=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,u=U$e(o);return M.createElement(C_.Provider,{value:r},M.createElement(k_.Provider,{value:i},M.createElement(rK.Provider,{value:o},M.createElement(nK.Provider,{value:u},M.createElement(iK.Provider,{value:s},M.createElement(oK.Provider,{value:c},M.createElement(sK.Provider,{value:l},a)))))))},K$e=function(){return w.useContext(iK)},aK=function(e){var n=w.useContext(C_);n==null&&xl(!1);var r=n[e];return r==null&&xl(!1),r},G$e=function(){var e=w.useContext(C_);return Ma(e)},q$e=function(){var e=w.useContext(k_),n=H$e(e,function(r){return Y9(r.domain,Number.isFinite)});return n||Ma(e)},lK=function(e){var n=w.useContext(k_);n==null&&xl(!1);var r=n[e];return r==null&&xl(!1),r},Y$e=function(){var e=w.useContext(nK);return e},X$e=function(){return w.useContext(rK)},E_=function(){return w.useContext(sK)},A_=function(){return w.useContext(oK)};function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function J$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uK(r.key),r)}}function Z$e(t,e,n){return e&&aF(t.prototype,e),n&&aF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q$e(t,e,n){return e=n0(e),eIe(t,cK()?Reflect.construct(e,n||[],n0(t).constructor):e.apply(t,n))}function eIe(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tIe(t)}function tIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cK=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n0(t)}function nIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QO(t,e)}function QO(t,e){return QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QO(t,e)}function lF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(n),!0).forEach(function(r){O_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O_(t,e,n){return e=uK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uK(t){var e=rIe(t,"string");return kf(e)=="symbol"?e:e+""}function rIe(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iIe(t,e){return lIe(t)||aIe(t,e)||sIe(t,e)||oIe()}function oIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sIe(t,e){if(t){if(typeof t=="string")return uF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uF(t,e)}}function uF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function lIe(t){if(Array.isArray(t))return t}function eT(){return eT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eT.apply(this,arguments)}var cIe=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Pe(e)?r=e(n):r=M.createElement("line",eT({},n,{className:"recharts-reference-line-line"})),r},uIe=function(e,n,r,i,o,s,a,l,c){var u=o.x,d=o.y,f=o.width,h=o.height;if(r){var p=c.y,g=e.y.apply(p,{position:s});if(Ko(c,"discard")&&!e.y.isInRange(g))return null;var y=[{x:u+f,y:g},{x:u,y:g}];return l==="left"?y.reverse():y}if(n){var v=c.x,b=e.x.apply(v,{position:s});if(Ko(c,"discard")&&!e.x.isInRange(b))return null;var x=[{x:b,y:d+h},{x:b,y:d}];return a==="top"?x.reverse():x}if(i){var C=c.segment,S=C.map(function(k){return e.apply(k,{position:s})});return Ko(c,"discard")&&Ije(S,function(k){return!e.isInRange(k)})?null:S}return null};function dIe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=K$e(),u=aK(i),d=lK(o),f=Y$e();if(!c||!f)return null;lo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=S_({x:u.scale,y:d.scale}),p=wn(e),g=wn(n),y=r&&r.length===2,v=uIe(h,p,g,y,f,t.position,u.orientation,d.orientation,t);if(!v)return null;var b=iIe(v,2),x=b[0],C=x.x,S=x.y,k=b[1],E=k.x,A=k.y,O=Ko(t,"hidden")?"url(#".concat(c,")"):void 0,P=cF(cF({clipPath:O},we(t,!0)),{},{x1:C,y1:S,x2:E,y2:A});return M.createElement(Ye,{className:Ie("recharts-reference-line",a)},cIe(s,P),On.renderCallByParent(t,C$e({x1:C,y1:S,x2:E,y2:A})))}var T_=function(t){function e(){return J$e(this,e),Q$e(this,e,arguments)}return nIe(e,t),Z$e(e,[{key:"render",value:function(){return M.createElement(dIe,this.props)}}])}(M.Component);O_(T_,"displayName","ReferenceLine");O_(T_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tT.apply(this,arguments)}function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function dF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(n),!0).forEach(function(r){fS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fK(r.key),r)}}function hIe(t,e,n){return e&&hF(t.prototype,e),n&&hF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pIe(t,e,n){return e=r0(e),mIe(t,dK()?Reflect.construct(e,n||[],r0(t).constructor):e.apply(t,n))}function mIe(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gIe(t)}function gIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(t)}function yIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nT(t,e)}function nT(t,e){return nT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nT(t,e)}function fS(t,e,n){return e=fK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fK(t){var e=vIe(t,"string");return Ef(e)=="symbol"?e:e+""}function vIe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bIe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=S_({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Ko(e,"discard")&&!s.isInRange(a)?null:a},hS=function(t){function e(){return fIe(this,e),pIe(this,e,arguments)}return yIe(e,t),hIe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,c=wn(i),u=wn(o);if(lo(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=bIe(this.props);if(!d)return null;var f=d.x,h=d.y,p=this.props,g=p.shape,y=p.className,v=Ko(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=fF(fF({clipPath:v},we(this.props,!0)),{},{cx:f,cy:h});return M.createElement(Ye,{className:Ie("recharts-reference-dot",y)},e.renderDot(g,b),On.renderCallByParent(this.props,{x:f-s,y:h-s,width:2*s,height:2*s}))}}])}(M.Component);fS(hS,"displayName","ReferenceDot");fS(hS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fS(hS,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Pe(t)?n=t(e):n=M.createElement(cy,tT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rT.apply(this,arguments)}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function pF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(n),!0).forEach(function(r){pS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pK(r.key),r)}}function wIe(t,e,n){return e&&gF(t.prototype,e),n&&gF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SIe(t,e,n){return e=i0(e),CIe(t,hK()?Reflect.construct(e,n||[],i0(t).constructor):e.apply(t,n))}function CIe(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kIe(t)}function kIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!t})()}function i0(t){return i0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i0(t)}function EIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iT(t,e)}function pS(t,e,n){return e=pK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pK(t){var e=AIe(t,"string");return Af(e)=="symbol"?e:e+""}function AIe(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OIe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,u=o.xAxis,d=o.yAxis;if(!u||!d)return null;var f=S_({x:u.scale,y:d.scale}),h={x:e?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},p={x:n?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return Ko(o,"discard")&&(!f.isInRange(h)||!f.isInRange(p))?null:eK(h,p)},mS=function(t){function e(){return xIe(this,e),SIe(this,e,arguments)}return EIe(e,t),wIe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;lo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=wn(i),f=wn(o),h=wn(s),p=wn(a),g=this.props.shape;if(!d&&!f&&!h&&!p&&!g)return null;var y=OIe(d,f,h,p,this.props);if(!y&&!g)return null;var v=Ko(this.props,"hidden")?"url(#".concat(u,")"):void 0;return M.createElement(Ye,{className:Ie("recharts-reference-area",l)},e.renderRect(g,mF(mF({clipPath:v},we(this.props,!0)),y)),On.renderCallByParent(this.props,y))}}])}(M.Component);pS(mS,"displayName","ReferenceArea");pS(mS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pS(mS,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Pe(t)?n=t(e):n=M.createElement(x_,rT({},e,{className:"recharts-reference-area-rect"})),n});function mK(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function TIe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return E$e(r,n)}function NIe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function o0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function PIe(t,e){return mK(t,e+1)}function MIe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,c=1,u=s,d=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:mK(r,c)};var g=l,y,v=function(){return y===void 0&&(y=n(p,g)),y},b=p.coordinate,x=l===0||o0(t,b,v,u,a);x||(l=0,u=s,c+=1),x&&(u=b+t*(v()/2+i),l+=c)},f;c<=o.length;)if(f=d(),f)return f.v;return[]}function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function yF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(n),!0).forEach(function(r){_Ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ie(t,e,n){return e=jIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jIe(t){var e=$Ie(t,"string");return cg(e)=="symbol"?e:e+""}function $Ie(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IIe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(f){var h=o[f],p,g=function(){return p===void 0&&(p=n(h,f)),p};if(f===s-1){var y=t*(h.coordinate+t*g()/2-l);o[f]=h=Jn(Jn({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate})}else o[f]=h=Jn(Jn({},h),{},{tickCoord:h.coordinate});var v=o0(t,h.tickCoord,g,a,l);v&&(l=h.tickCoord-t*(g()/2+i),o[f]=Jn(Jn({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return o}function RIe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var u=r[a-1],d=n(u,a-1),f=t*(u.coordinate+t*d/2-c);s[a-1]=u=Jn(Jn({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var h=o0(t,u.tickCoord,function(){return d},l,c);h&&(c=u.tickCoord-t*(d/2+i),s[a-1]=Jn(Jn({},u),{},{isShow:!0}))}for(var p=o?a-1:a,g=function(b){var x=s[b],C,S=function(){return C===void 0&&(C=n(x,b)),C};if(b===0){var k=t*(x.coordinate-t*S()/2-l);s[b]=x=Jn(Jn({},x),{},{tickCoord:k<0?x.coordinate-k*t:x.coordinate})}else s[b]=x=Jn(Jn({},x),{},{tickCoord:x.coordinate});var E=o0(t,x.tickCoord,S,l,c);E&&(l=x.tickCoord+t*(S()/2+i),s[b]=Jn(Jn({},x),{},{isShow:!0}))},y=0;y<p;y++)g(y);return s}function N_(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(J(l)||co.isSsr)return PIe(i,typeof l=="number"&&J(l)?l:0);var f=[],h=a==="top"||a==="bottom"?"width":"height",p=u&&h==="width"?Dp(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,C){var S=Pe(c)?c(x.value,C):x.value;return h==="width"?TIe(Dp(S,{fontSize:e,letterSpacing:n}),p,d):Dp(S,{fontSize:e,letterSpacing:n})[h]},y=i.length>=2?yr(i[1].coordinate-i[0].coordinate):1,v=NIe(o,y,h);return l==="equidistantPreserveStart"?MIe(y,v,g,i,s):(l==="preserveStart"||l==="preserveStartEnd"?f=RIe(y,v,g,i,s,l==="preserveStartEnd"):f=IIe(y,v,g,i,s),f.filter(function(b){return b.isShow}))}var DIe=["viewBox"],LIe=["viewBox"],FIe=["ticks"];function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wd.apply(this,arguments)}function vF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(n),!0).forEach(function(r){P_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bk(t,e){if(t==null)return{};var n=BIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yK(r.key),r)}}function VIe(t,e,n){return e&&bF(t.prototype,e),n&&bF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WIe(t,e,n){return e=s0(e),HIe(t,gK()?Reflect.construct(e,n||[],s0(t).constructor):e.apply(t,n))}function HIe(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UIe(t)}function UIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!t})()}function s0(t){return s0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},s0(t)}function KIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oT(t,e)}function oT(t,e){return oT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oT(t,e)}function P_(t,e,n){return e=yK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yK(t){var e=GIe(t,"string");return Of(e)=="symbol"?e:e+""}function GIe(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xh=function(t){function e(n){var r;return zIe(this,e),r=WIe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return KIe(e,t),VIe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=bk(r,DIe),a=this.props,l=a.viewBox,c=bk(a,LIe);return!jd(o,l)||!jd(s,c)||!jd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,h,p,g,y,v,b,x=d?-1:1,C=r.tickSize||u,S=J(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=p=r.coordinate,y=s+ +!d*l,g=y-x*C,b=g-x*f,v=S;break;case"left":g=y=r.coordinate,p=o+ +!d*a,h=p-x*C,v=h-x*f,b=S;break;case"right":g=y=r.coordinate,p=o+ +d*a,h=p+x*C,v=h+x*f,b=S;break;default:h=p=r.coordinate,y=s+ +d*l,g=y+x*C,b=g+x*f,v=S;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=mn(mn(mn({},we(this.props,!1)),we(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=mn(mn({},d),{},{x1:i,y1:o+f*a,x2:i+s,y2:o+f*a})}else{var h=+(l==="left"&&!c||l==="right"&&c);d=mn(mn({},d),{},{x1:i+h*s,y1:o,x2:i+h*s,y2:o+a})}return M.createElement("line",wd({},d,{className:Ie("recharts-cartesian-axis-line",ni(u,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,d=a.tickFormatter,f=a.unit,h=N_(mn(mn({},this.props),{},{ticks:r}),i,o),p=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=we(this.props,!1),v=we(u,!1),b=mn(mn({},y),{},{fill:"none"},we(l,!1)),x=h.map(function(C,S){var k=s.getTickLineCoord(C),E=k.line,A=k.tick,O=mn(mn(mn(mn({textAnchor:p,verticalAnchor:g},y),{},{stroke:"none",fill:c},v),A),{},{index:S,payload:C,visibleTicksCount:h.length,tickFormatter:d});return M.createElement(Ye,wd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},ru(s.props,C,S)),l&&M.createElement("line",wd({},b,E,{className:Ie("recharts-cartesian-axis-tick-line",ni(l,"className"))})),u&&e.renderTickItem(u,O,"".concat(Pe(d)?d(C.value,S):C.value).concat(f||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,h=bk(d,FIe),p=f;return Pe(l)&&(p=f&&f.length>0?l(this.props):l(h)),s<=0||a<=0||!p||!p.length?null:M.createElement(Ye,{className:Ie("recharts-cartesian-axis",c),ref:function(y){r.layerReference=y}},o&&this.renderAxisLine(),this.renderTicks(p,this.state.fontSize,this.state.letterSpacing),On.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ie(i.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?s=M.cloneElement(r,mn(mn({},i),{},{className:a})):Pe(r)?s=r(mn(mn({},i),{},{className:a})):s=M.createElement(iu,wd({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(w.Component);P_(xh,"displayName","CartesianAxis");P_(xh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qIe=["x1","y1","x2","y2","key"],YIe=["offset"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function xF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(n),!0).forEach(function(r){XIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XIe(t,e,n){return e=JIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JIe(t){var e=ZIe(t,"string");return au(e)=="symbol"?e:e+""}function ZIe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function wF(t,e){if(t==null)return{};var n=QIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var eRe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function vK(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=wF(e,qIe),c=we(l,!1);c.offset;var u=wF(c,YIe);n=M.createElement("line",gc({},u,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function tRe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=er(er({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return vK(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function nRe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=er(er({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return vK(i,c)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function rRe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var p=!u[h+1],g=p?i+s-f:u[h+1]-f;if(g<=0)return null;var y=h%e.length;return M.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:g,width:o,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function iRe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(f){return Math.round(f+o-o)}).sort(function(f,h){return f-h});o!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var p=!u[h+1],g=p?o+a-f:u[h+1]-f;if(g<=0)return null;var y=h%r.length;return M.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var oRe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return p9(N_(er(er(er({},xh.defaultProps),r),{},{ticks:Ns(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},sRe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return p9(N_(er(er(er({},xh.defaultProps),r),{},{ticks:Ns(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},Bu={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function a0(t){var e,n,r,i,o,s,a=E_(),l=A_(),c=X$e(),u=er(er({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bu.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Bu.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Bu.verticalFill,x:J(t.x)?t.x:c.left,y:J(t.y)?t.y:c.top,width:J(t.width)?t.width:c.width,height:J(t.height)?t.height:c.height}),d=u.x,f=u.y,h=u.width,p=u.height,g=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,b=G$e(),x=q$e();if(!J(h)||h<=0||!J(p)||p<=0||!J(d)||d!==+d||!J(f)||f!==+f)return null;var C=u.verticalCoordinatesGenerator||oRe,S=u.horizontalCoordinatesGenerator||sRe,k=u.horizontalPoints,E=u.verticalPoints;if((!k||!k.length)&&Pe(S)){var A=y&&y.length,O=S({yAxis:x?er(er({},x),{},{ticks:A?y:x.ticks}):void 0,width:a,height:l,offset:c},A?!0:g);lo(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(au(O),"]")),Array.isArray(O)&&(k=O)}if((!E||!E.length)&&Pe(C)){var P=v&&v.length,T=C({xAxis:b?er(er({},b),{},{ticks:P?v:b.ticks}):void 0,width:a,height:l,offset:c},P?!0:g);lo(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(au(T),"]")),Array.isArray(T)&&(E=T)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(eRe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),M.createElement(tRe,gc({},u,{offset:c,horizontalPoints:k,xAxis:b,yAxis:x})),M.createElement(nRe,gc({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:x})),M.createElement(rRe,gc({},u,{horizontalPoints:k})),M.createElement(iRe,gc({},u,{verticalPoints:E})))}a0.displayName="CartesianGrid";var aRe=["type","layout","connectNulls","ref"],lRe=["key"];function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function SF(t,e){if(t==null)return{};var n=cRe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(this,arguments)}function CF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(n),!0).forEach(function(r){Zi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zu(t){return hRe(t)||fRe(t)||dRe(t)||uRe()}function uRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dRe(t,e){if(t){if(typeof t=="string")return sT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sT(t,e)}}function fRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hRe(t){if(Array.isArray(t))return sT(t)}function sT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xK(r.key),r)}}function mRe(t,e,n){return e&&kF(t.prototype,e),n&&kF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gRe(t,e,n){return e=l0(e),yRe(t,bK()?Reflect.construct(e,n||[],l0(t).constructor):e.apply(t,n))}function yRe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vRe(t)}function vRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bK=function(){return!!t})()}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(t)}function bRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aT(t,e)}function aT(t,e){return aT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aT(t,e)}function Zi(t,e,n){return e=xK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xK(t){var e=xRe(t,"string");return Tf(e)=="symbol"?e:e+""}function xRe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ua=function(t){function e(){var n;pRe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gRe(this,e,[].concat(i)),Zi(n,"state",{isAnimationFinished:!0,totalLength:0}),Zi(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Zi(n,"getStrokeDasharray",function(s,a,l){var c=l.reduce(function(v,b){return v+b});if(!c)return n.generateSimpleStrokeDasharray(a,s);for(var u=Math.floor(s/c),d=s%c,f=a-s,h=[],p=0,g=0;p<l.length;g+=l[p],++p)if(g+l[p]>d){h=[].concat(zu(l.slice(0,p)),[d-g]);break}var y=h.length%2===0?[0,f]:[f];return[].concat(zu(e.repeat(l,u)),zu(h),y).map(function(v){return"".concat(v,"px")}).join(", ")}),Zi(n,"id",Au("recharts-line-")),Zi(n,"pathRef",function(s){n.mainCurve=s}),Zi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Zi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return bRe(e,t),mRe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,d=ri(u,ly);if(!d)return null;var f=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:tn(g.payload,y)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(Ye,h,d.map(function(p){return M.cloneElement(p,{key:"bar-".concat(p.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,u=a.dataKey,d=we(this.props,!1),f=we(l,!0),h=c.map(function(g,y){var v=Wr(Wr(Wr({key:"dot-".concat(y),r:3},d),f),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,v)}),p={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Ye,Wp({className:"recharts-line-dots",key:"dots"},p),h)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,c=a.layout,u=a.connectNulls;a.ref;var d=SF(a,aRe),f=Wr(Wr(Wr({},we(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:c,connectNulls:u});return M.createElement(Ic,Wp({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,p=s.animateNewValues,g=s.width,y=s.height,v=this.state,b=v.prevPoints,x=v.totalLength;return M.createElement(wl,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(b){var k=b.length/a.length,E=a.map(function(N,$){var _=Math.floor($*k);if(b[_]){var I=b[_],R=bn(I.x,N.x),F=bn(I.y,N.y);return Wr(Wr({},N),{},{x:R(S),y:F(S)})}if(p){var j=bn(g*2,N.x),L=bn(y/2,N.y);return Wr(Wr({},N),{},{x:j(S),y:L(S)})}return Wr(Wr({},N),{},{x:N.x,y:N.y})});return o.renderCurveStatically(E,r,i)}var A=bn(0,x),O=A(S),P;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});P=o.getStrokeDasharray(O,x,T)}else P=o.generateSimpleStrokeDasharray(x,O);return o.renderCurveStatically(a,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return a&&s&&s.length&&(!c&&u>0||!ou(c,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,f=i.left,h=i.width,p=i.height,g=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=a.length===1,x=Ie("recharts-line",l),C=c&&c.allowDataOverflow,S=u&&u.allowDataOverflow,k=C||S,E=$e(y)?this.id:y,A=(r=we(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=A.r,P=O===void 0?3:O,T=A.strokeWidth,N=T===void 0?2:T,$=s6(s)?s:{},_=$.clipDot,I=_===void 0?!0:_,R=P*2+N;return M.createElement(Ye,{className:x},C||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(E)},M.createElement("rect",{x:C?f:f-h/2,y:S?d:d-p/2,width:C?h:h*2,height:S?p:p*2})),!I&&M.createElement("clipPath",{id:"clipPath-dots-".concat(E)},M.createElement("rect",{x:f-R/2,y:d-R/2,width:h+R,height:p+R}))):null,!b&&this.renderCurve(k,E),this.renderErrorBar(k,E),(b||s)&&this.renderDots(k,I,E),(!g||v)&&Uo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(zu(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(zu(s),zu(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(M.isValidElement(r))o=M.cloneElement(r,i);else if(Pe(r))o=r(i);else{var s=i.key,a=SF(i,lRe),l=Ie("recharts-line-dot",typeof r!="boolean"?r.className:"");o=M.createElement(cy,Wp({key:s},a,{className:l}))}return o}}])}(w.PureComponent);Zi(Ua,"displayName","Line");Zi(Ua,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!co.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Zi(Ua,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(f,h){var p=tn(f,s);return u==="horizontal"?{x:Rx({axis:n,ticks:i,bandSize:a,entry:f,index:h}),y:$e(p)?null:r.scale(p),value:p,payload:f}:{x:$e(p)?null:n.scale(p),y:Rx({axis:r,ticks:o,bandSize:a,entry:f,index:h}),value:p,payload:f}});return Wr({points:d,layout:u},c)});var wRe=["layout","type","stroke","connectNulls","isRange","ref"],SRe=["key"],wK;function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function SK(t,e){if(t==null)return{};var n=CRe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}function EF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(n),!0).forEach(function(r){Ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kK(r.key),r)}}function ERe(t,e,n){return e&&AF(t.prototype,e),n&&AF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ARe(t,e,n){return e=c0(e),ORe(t,CK()?Reflect.construct(e,n||[],c0(t).constructor):e.apply(t,n))}function ORe(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TRe(t)}function TRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!t})()}function c0(t){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c0(t)}function NRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lT(t,e)}function lT(t,e){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lT(t,e)}function Ro(t,e,n){return e=kK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kK(t){var e=PRe(t,"string");return Nf(e)=="symbol"?e:e+""}function PRe(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ys=function(t){function e(){var n;kRe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ARe(this,e,[].concat(i)),Ro(n,"state",{isAnimationFinished:!0}),Ro(n,"id",Au("recharts-area-")),Ro(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pe(s)&&s()}),Ro(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pe(s)&&s()}),n}return NRe(e,t),ERe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=we(this.props,!1),h=we(c,!0),p=u.map(function(y,v){var b=ma(ma(ma({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:y.x,cy:y.y,dataKey:d,value:y.value,payload:y.payload,points:u});return e.renderDotItem(c,b)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return M.createElement(Ye,yc({className:"recharts-area-dots"},g),p)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=r*Math.abs(l-c),d=Wa(s.map(function(f){return f.y||0}));return J(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Wa(o.map(function(f){return f.y||0})),d)),J(d)?M.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=r*Math.abs(l-c),d=Wa(s.map(function(f){return f.x||0}));return J(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(Wa(o.map(function(f){return f.x||0})),d)),J(d)?M.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,c=a.type,u=a.stroke,d=a.connectNulls,f=a.isRange;a.ref;var h=SK(a,wRe);return M.createElement(Ye,{clipPath:o?"url(#clipPath-".concat(s,")"):null},M.createElement(Ic,yc({},we(h,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&M.createElement(Ic,yc({},we(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&f&&M.createElement(Ic,yc({},we(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,h=s.animationId,p=this.state,g=p.prevPoints,y=p.prevBaseLine;return M.createElement(wl,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t;if(g){var x=g.length/a.length,C=a.map(function(A,O){var P=Math.floor(O*x);if(g[P]){var T=g[P],N=bn(T.x,A.x),$=bn(T.y,A.y);return ma(ma({},A),{},{x:N(b),y:$(b)})}return A}),S;if(J(l)&&typeof l=="number"){var k=bn(y,l);S=k(b)}else if($e(l)||hh(l)){var E=bn(y,0);S=E(b)}else S=l.map(function(A,O){var P=Math.floor(O*x);if(y[P]){var T=y[P],N=bn(T.x,A.x),$=bn(T.y,A.y);return ma(ma({},A),{},{x:N(b),y:$(b)})}return A});return o.renderAreaStatically(C,S,r,i)}return M.createElement(Ye,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),M.createElement(Ye,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,f=c.totalLength;return l&&s&&s.length&&(!u&&f>0||!ou(u,s)||!ou(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.top,u=i.left,d=i.xAxis,f=i.yAxis,h=i.width,p=i.height,g=i.isAnimationActive,y=i.id;if(o||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=a.length===1,x=Ie("recharts-area",l),C=d&&d.allowDataOverflow,S=f&&f.allowDataOverflow,k=C||S,E=$e(y)?this.id:y,A=(r=we(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=A.r,P=O===void 0?3:O,T=A.strokeWidth,N=T===void 0?2:T,$=s6(s)?s:{},_=$.clipDot,I=_===void 0?!0:_,R=P*2+N;return M.createElement(Ye,{className:x},C||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(E)},M.createElement("rect",{x:C?u:u-h/2,y:S?c:c-p/2,width:C?h:h*2,height:S?p:p*2})),!I&&M.createElement("clipPath",{id:"clipPath-dots-".concat(E)},M.createElement("rect",{x:u-R/2,y:c-R/2,width:h+R,height:p+R}))):null,b?null:this.renderArea(k,E),(s||b)&&this.renderDots(k,I,E),(!g||v)&&Uo.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(w.PureComponent);wK=Ys;Ro(Ys,"displayName","Area");Ro(Ys,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!co.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ro(Ys,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(J(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return a==="dataMin"?d:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]});Ro(Ys,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,h=e.layout,p=c&&c.length,g=wK.getBaseValue(e,n,r,i),y=h==="horizontal",v=!1,b=d.map(function(C,S){var k;p?k=c[u+S]:(k=tn(C,l),Array.isArray(k)?v=!0:k=[g,k]);var E=k[1]==null||p&&tn(C,l)==null;return y?{x:Rx({axis:r,ticks:o,bandSize:a,entry:C,index:S}),y:E?null:i.scale(k[1]),value:k,payload:C}:{x:E?null:r.scale(k[1]),y:Rx({axis:i,ticks:s,bandSize:a,entry:C,index:S}),value:k,payload:C}}),x;return p||v?x=b.map(function(C){var S=Array.isArray(C.value)?C.value[0]:null;return y?{x:C.x,y:S!=null&&C.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:C.y}}):x=y?i.scale(g):r.scale(g),ma({points:b,baseLine:x,layout:h,isRange:v},f)});Ro(Ys,"renderDotItem",function(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=Ie("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=SK(e,SRe);n=M.createElement(cy,yc({},o,{key:i,className:r}))}return n});function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function MRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OK(r.key),r)}}function _Re(t,e,n){return e&&OF(t.prototype,e),n&&OF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jRe(t,e,n){return e=u0(e),$Re(t,EK()?Reflect.construct(e,n||[],u0(t).constructor):e.apply(t,n))}function $Re(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IRe(t)}function IRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EK=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},u0(t)}function RRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cT(t,e)}function cT(t,e){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cT(t,e)}function AK(t,e,n){return e=OK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OK(t){var e=DRe(t,"string");return Pf(e)=="symbol"?e:e+""}function DRe(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uT.apply(this,arguments)}function LRe(t){var e=t.xAxisId,n=E_(),r=A_(),i=aK(e);return i==null?null:w.createElement(xh,uT({},i,{className:Ie("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ns(s,!0)}}))}var Sl=function(t){function e(){return MRe(this,e),jRe(this,e,arguments)}return RRe(e,t),_Re(e,[{key:"render",value:function(){return w.createElement(LRe,this.props)}}])}(w.Component);AK(Sl,"displayName","XAxis");AK(Sl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function FRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PK(r.key),r)}}function BRe(t,e,n){return e&&TF(t.prototype,e),n&&TF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zRe(t,e,n){return e=d0(e),VRe(t,TK()?Reflect.construct(e,n||[],d0(t).constructor):e.apply(t,n))}function VRe(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WRe(t)}function WRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TK=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(t)}function HRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dT(t,e)}function NK(t,e,n){return e=PK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PK(t){var e=URe(t,"string");return Mf(e)=="symbol"?e:e+""}function URe(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fT(){return fT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fT.apply(this,arguments)}var KRe=function(e){var n=e.yAxisId,r=E_(),i=A_(),o=lK(n);return o==null?null:w.createElement(xh,fT({},o,{className:Ie("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Ns(a,!0)}}))},Cl=function(t){function e(){return FRe(this,e),zRe(this,e,arguments)}return HRe(e,t),BRe(e,[{key:"render",value:function(){return w.createElement(KRe,this.props)}}])}(w.Component);NK(Cl,"displayName","YAxis");NK(Cl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NF(t){return XRe(t)||YRe(t)||qRe(t)||GRe()}function GRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qRe(t,e){if(t){if(typeof t=="string")return hT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hT(t,e)}}function YRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XRe(t){if(Array.isArray(t))return hT(t)}function hT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pT=function(e,n,r,i,o){var s=ri(e,T_),a=ri(e,hS),l=[].concat(NF(s),NF(a)),c=ri(e,mS),u="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(g,y){if(y.props[u]===r&&Ko(y.props,"extendDomain")&&J(y.props[d])){var v=y.props[d];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},f)),c.length){var h="".concat(d,"1"),p="".concat(d,"2");f=c.reduce(function(g,y){if(y.props[u]===r&&Ko(y.props,"extendDomain")&&J(y.props[h])&&J(y.props[p])){var v=y.props[h],b=y.props[p];return[Math.min(g[0],v,b),Math.max(g[1],v,b)]}return g},f)}return o&&o.length&&(f=o.reduce(function(g,y){return J(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},f)),f},MK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,p=new Array(h);f<h;f++)p[f]=d[f].fn;return p},a.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,u,d,f,h,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,x;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,f),!0;case 5:return y.fn.call(y.context,u,d,f,h),!0;case 6:return y.fn.call(y.context,u,d,f,h,p),!0}for(x=1,b=new Array(v-1);x<v;x++)b[x-1]=arguments[x];y.fn.apply(y.context,b)}else{var C=y.length,S;for(x=0;x<C;x++)switch(y[x].once&&this.removeListener(c,y[x].fn,void 0,!0),v){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,u);break;case 3:y[x].fn.call(y[x].context,u,d);break;case 4:y[x].fn.call(y[x].context,u,d,f);break;default:if(!b)for(S=1,b=new Array(v-1);S<v;S++)b[S-1]=arguments[S];y[x].fn.apply(y[x].context,b)}}return!0},a.prototype.on=function(c,u,d){return o(this,c,u,d,!1)},a.prototype.once=function(c,u,d){return o(this,c,u,d,!0)},a.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!d||p.context===d)&&s(this,h);else{for(var g=0,y=[],v=p.length;g<v;g++)(p[g].fn!==u||f&&!p[g].once||d&&p[g].context!==d)&&y.push(p[g]);y.length?this._events[h]=y.length===1?y[0]:y:s(this,h)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(MK);var JRe=MK.exports;const ZRe=lt(JRe);var xk=new ZRe,wk="recharts.syncMouseEvents";function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function QRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_K(r.key),r)}}function eDe(t,e,n){return e&&PF(t.prototype,e),n&&PF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sk(t,e,n){return e=_K(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _K(t){var e=tDe(t,"string");return ug(e)=="symbol"?e:e+""}function tDe(t,e){if(ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nDe=function(){function t(){QRe(this,t),Sk(this,"activeIndex",0),Sk(this,"coordinateList",[]),Sk(this,"layout","horizontal")}return eDe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,f=n.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+c,f=s+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function rDe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&J(r)&&J(i))return!0}return!1}function iDe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function jK(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Et(e,n,r,i),a=Et(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function oDe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,f=Et(a,l,c,d),h=Et(a,l,u,d);r=f.x,i=f.y,o=h.x,s=h.y}else return jK(e);return[{x:r,y:i},{x:o,y:s}]}function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function MF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(n),!0).forEach(function(r){sDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sDe(t,e,n){return e=aDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aDe(t){var e=lDe(t,"string");return dg(e)=="symbol"?e:e+""}function lDe(t,e){if(dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cDe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!o||!s||f!=="ScatterChart"&&i!=="axis")return null;var p,g=Ic;if(f==="ScatterChart")p=s,g=CMe;else if(f==="BarChart")p=iDe(d,s,l,u),g=x_;else if(d==="radial"){var y=jK(s),v=y.cx,b=y.cy,x=y.radius,C=y.startAngle,S=y.endAngle;p={cx:v,cy:b,startAngle:C,endAngle:S,innerRadius:x,outerRadius:x},g=E9}else p={points:oDe(d,s,l)},g=Ic;var k=uv(uv(uv(uv({stroke:"#ccc",pointerEvents:"none"},l),p),we(h,!1)),{},{payload:a,payloadIndex:c,className:Ie("recharts-tooltip-cursor",h.className)});return w.isValidElement(h)?w.cloneElement(h,k):w.createElement(g,k)}var uDe=["item"],dDe=["children","className","width","height","style","compact","title","desc"];function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}function _F(t,e){return pDe(t)||hDe(t,e)||IK(t,e)||fDe()}function fDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function pDe(t){if(Array.isArray(t))return t}function jF(t,e){if(t==null)return{};var n=mDe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RK(r.key),r)}}function yDe(t,e,n){return e&&$F(t.prototype,e),n&&$F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vDe(t,e,n){return e=f0(e),bDe(t,$K()?Reflect.construct(e,n||[],f0(t).constructor):e.apply(t,n))}function bDe(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xDe(t)}function xDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $K(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($K=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f0(t)}function wDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mT(t,e)}function jf(t){return kDe(t)||CDe(t)||IK(t)||SDe()}function SDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IK(t,e){if(t){if(typeof t=="string")return gT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gT(t,e)}}function CDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kDe(t){if(Array.isArray(t))return gT(t)}function gT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(n),!0).forEach(function(r){Ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ne(t,e,n){return e=RK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RK(t){var e=EDe(t,"string");return _f(e)=="symbol"?e:e+""}function EDe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ADe={xAxis:["bottom","top"],yAxis:["left","right"]},ODe={width:"100%",height:"100%"},DK={x:0,y:0};function dv(t){return t}var TDe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},NDe=function(e,n,r,i){var o=n.find(function(u){return u&&u.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return H(H(H({},i),Et(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return H(H(H({},i),Et(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return DK},gS=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(jf(a),jf(c)):a},[]);return s.length>0?s:e&&e.length&&J(i)&&J(o)?e.slice(i,o+1):[]};function LK(t){return t==="number"?[0,"auto"]:void 0}var yT=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=gS(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var h=d===void 0?a:d;f=ax(h,s.dataKey,i)}else f=d&&d[r]||a[r];return f?[].concat(jf(l),[b9(c,f)]):l},[])},RF=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=TDe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=UOe(s,a,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=yT(e,n,u,d),h=NDe(r,a,u,o);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},PDe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,h=h9(u,o);return r.reduce(function(p,g){var y,v=g.type.defaultProps!==void 0?H(H({},g.type.defaultProps),g.props):g.props,b=v.type,x=v.dataKey,C=v.allowDataOverflow,S=v.allowDuplicatedCategory,k=v.scale,E=v.ticks,A=v.includeHidden,O=v[s];if(p[O])return p;var P=gS(e.data,{graphicalItems:i.filter(function(G){var ie,Ce=s in G.props?G.props[s]:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie[s];return Ce===O}),dataStartIndex:l,dataEndIndex:c}),T=P.length,N,$,_;rDe(v.domain,C,b)&&(N=PO(v.domain,null,C),h&&(b==="number"||k!=="auto")&&(_=Fp(P,x,"category")));var I=LK(b);if(!N||N.length===0){var R,F=(R=v.domain)!==null&&R!==void 0?R:I;if(x){if(N=Fp(P,x,b),b==="category"&&h){var j=Lpe(N);S&&j?($=N,N=Jx(0,T)):S||(N=J2(F,N,g).reduce(function(G,ie){return G.indexOf(ie)>=0?G:[].concat(jf(G),[ie])},[]))}else if(b==="category")S?N=N.filter(function(G){return G!==""&&!$e(G)}):N=J2(F,N,g).reduce(function(G,ie){return G.indexOf(ie)>=0||ie===""||$e(ie)?G:[].concat(jf(G),[ie])},[]);else if(b==="number"){var L=XOe(P,i.filter(function(G){var ie,Ce,Fe=s in G.props?G.props[s]:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie[s],Be="hide"in G.props?G.props.hide:(Ce=G.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return Fe===O&&(A||!Be)}),x,o,u);L&&(N=L)}h&&(b==="number"||k!=="auto")&&(_=Fp(P,x,"category"))}else h?N=Jx(0,T):a&&a[O]&&a[O].hasStack&&b==="number"?N=f==="expand"?[0,1]:v9(a[O].stackGroups,l,c):N=f9(P,i.filter(function(G){var ie=s in G.props?G.props[s]:G.type.defaultProps[s],Ce="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ie===O&&(A||!Ce)}),b,u,!0);if(b==="number")N=pT(d,N,O,o,E),F&&(N=PO(F,N,C));else if(b==="category"&&F){var V=F,U=N.every(function(G){return V.indexOf(G)>=0});U&&(N=V)}}return H(H({},p),{},Ne({},O,H(H({},v),{},{axisType:o,domain:N,categoricalDomain:_,duplicateDomain:$,originalDomain:(y=v.domain)!==null&&y!==void 0?y:I,isCategorical:h,layout:u})))},{})},MDe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=gS(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=f.length,p=h9(u,o),g=-1;return r.reduce(function(y,v){var b=v.type.defaultProps!==void 0?H(H({},v.type.defaultProps),v.props):v.props,x=b[s],C=LK("number");if(!y[x]){g++;var S;return p?S=Jx(0,h):a&&a[x]&&a[x].hasStack?(S=v9(a[x].stackGroups,l,c),S=pT(d,S,x,o)):(S=PO(C,f9(f,r.filter(function(k){var E,A,O=s in k.props?k.props[s]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[s],P="hide"in k.props?k.props.hide:(A=k.type.defaultProps)===null||A===void 0?void 0:A.hide;return O===x&&!P}),"number",u),i.defaultProps.allowDataOverflow),S=pT(d,S,x,o)),H(H({},y),{},Ne({},x,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:ni(ADe,"".concat(o,".").concat(g%2),null),domain:S,originalDomain:C,isCategorical:p,layout:u})))}return y},{})},_De=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=ri(u,o),h={};return f&&f.length?h=PDe(e,{axes:f,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(h=MDe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),h},jDe=function(e){var n=Ma(e),r=Ns(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:GM(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Dx(n,r)}},DF=function(e){var n=e.children,r=e.defaultShowTooltip,i=Kr(n,Sf),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},$De=function(e){return!e||!e.length?!1:e.some(function(n){var r=Is(n&&n.type);return r&&r.indexOf("Bar")>=0})},LF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},IDe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,u=r.height,d=r.children,f=r.margin||{},h=Kr(d,Sf),p=Kr(d,_c),g=Object.keys(l).reduce(function(S,k){var E=l[k],A=E.orientation;return!E.mirror&&!E.hide?H(H({},S),{},Ne({},A,S[A]+E.width)):S},{left:f.left||0,right:f.right||0}),y=Object.keys(s).reduce(function(S,k){var E=s[k],A=E.orientation;return!E.mirror&&!E.hide?H(H({},S),{},Ne({},A,ni(S,"".concat(A))+E.height)):S},{top:f.top||0,bottom:f.bottom||0}),v=H(H({},y),g),b=v.bottom;h&&(v.bottom+=h.props.height||Sf.defaultProps.height),p&&n&&(v=qOe(v,i,r,n));var x=c-v.left-v.right,C=u-v.top-v.bottom;return H(H({brushBottom:b},v),{},{width:Math.max(x,0),height:Math.max(C,0)})},RDe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},yS=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(v,b){var x=b.graphicalItems,C=b.stackGroups,S=b.offset,k=b.updateId,E=b.dataStartIndex,A=b.dataEndIndex,O=v.barSize,P=v.layout,T=v.barGap,N=v.barCategoryGap,$=v.maxBarSize,_=LF(P),I=_.numericAxisName,R=_.cateAxisName,F=$De(x),j=[];return x.forEach(function(L,V){var U=gS(v.data,{graphicalItems:[L],dataStartIndex:E,dataEndIndex:A}),G=L.type.defaultProps!==void 0?H(H({},L.type.defaultProps),L.props):L.props,ie=G.dataKey,Ce=G.maxBarSize,Fe=G["".concat(I,"Id")],Be=G["".concat(R,"Id")],ae={},Ae=l.reduce(function(B,W){var de=b["".concat(W.axisType,"Map")],oe=G["".concat(W.axisType,"Id")];de&&de[oe]||W.axisType==="zAxis"||xl(!1);var te=de[oe];return H(H({},B),{},Ne(Ne({},W.axisType,te),"".concat(W.axisType,"Ticks"),Ns(te)))},ae),q=Ae[R],re=Ae["".concat(R,"Ticks")],le=C&&C[Fe]&&C[Fe].hasStack&&oTe(L,C[Fe].stackGroups),z=Is(L.type).indexOf("Bar")>=0,Oe=Dx(q,re),Te=[],ot=F&&KOe({barSize:O,stackGroups:C,totalSize:RDe(Ae,R)});if(z){var ct,jt,Vr=$e(Ce)?$:Ce,pn=(ct=(jt=Dx(q,re,!0))!==null&&jt!==void 0?jt:Vr)!==null&&ct!==void 0?ct:0;Te=GOe({barGap:T,barCategoryGap:N,bandSize:pn!==Oe?pn:Oe,sizeList:ot[Be],maxBarSize:Vr}),pn!==Oe&&(Te=Te.map(function(B){return H(H({},B),{},{position:H(H({},B.position),{},{offset:B.position.offset-pn/2})})}))}var D=L&&L.type&&L.type.getComposedData;D&&j.push({props:H(H({},D(H(H({},Ae),{},{displayedData:U,props:v,dataKey:ie,item:L,bandSize:Oe,barPosition:Te,offset:S,stackedData:le,layout:P,dataStartIndex:E,dataEndIndex:A}))),{},Ne(Ne(Ne({key:L.key||"item-".concat(V)},I,Ae[I]),R,Ae[R]),"animationId",k)),childIndex:Xpe(L,v.children),item:L})}),j},h=function(v,b){var x=v.props,C=v.dataStartIndex,S=v.dataEndIndex,k=v.updateId;if(!zR({props:x}))return null;var E=x.children,A=x.layout,O=x.stackOffset,P=x.data,T=x.reverseStackOrder,N=LF(A),$=N.numericAxisName,_=N.cateAxisName,I=ri(E,r),R=rTe(P,I,"".concat($,"Id"),"".concat(_,"Id"),O,T),F=l.reduce(function(G,ie){var Ce="".concat(ie.axisType,"Map");return H(H({},G),{},Ne({},Ce,_De(x,H(H({},ie),{},{graphicalItems:I,stackGroups:ie.axisType===$&&R,dataStartIndex:C,dataEndIndex:S}))))},{}),j=IDe(H(H({},F),{},{props:x,graphicalItems:I}),b==null?void 0:b.legendBBox);Object.keys(F).forEach(function(G){F[G]=u(x,F[G],j,G.replace("Map",""),n)});var L=F["".concat(_,"Map")],V=jDe(L),U=f(x,H(H({},F),{},{dataStartIndex:C,dataEndIndex:S,updateId:k,graphicalItems:I,stackGroups:R,offset:j}));return H(H({formattedGraphicalItems:U,graphicalItems:I,offset:j,stackGroups:R},V),F)},p=function(y){function v(b){var x,C,S;return gDe(this,v),S=vDe(this,v,[b]),Ne(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ne(S,"accessibilityManager",new nDe),Ne(S,"handleLegendBBoxUpdate",function(k){if(k){var E=S.state,A=E.dataStartIndex,O=E.dataEndIndex,P=E.updateId;S.setState(H({legendBBox:k},h({props:S.props,dataStartIndex:A,dataEndIndex:O,updateId:P},H(H({},S.state),{},{legendBBox:k}))))}}),Ne(S,"handleReceiveSyncEvent",function(k,E,A){if(S.props.syncId===k){if(A===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),Ne(S,"handleBrushChange",function(k){var E=k.startIndex,A=k.endIndex;if(E!==S.state.dataStartIndex||A!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return H({dataStartIndex:E,dataEndIndex:A},h({props:S.props,dataStartIndex:E,dataEndIndex:A,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),Ne(S,"handleMouseEnter",function(k){var E=S.getMouseInfo(k);if(E){var A=H(H({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var O=S.props.onMouseEnter;Pe(O)&&O(A,k)}}),Ne(S,"triggeredAfterMouseMove",function(k){var E=S.getMouseInfo(k),A=E?H(H({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var O=S.props.onMouseMove;Pe(O)&&O(A,k)}),Ne(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ne(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ne(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),Ne(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var A=S.props.onMouseLeave;Pe(A)&&A(E,k)}),Ne(S,"handleOuterEvent",function(k){var E=Ype(k),A=ni(S.props,"".concat(E));if(E&&Pe(A)){var O,P;/.*touch.*/i.test(E)?P=S.getMouseInfo(k.changedTouches[0]):P=S.getMouseInfo(k),A((O=P)!==null&&O!==void 0?O:{},k)}}),Ne(S,"handleClick",function(k){var E=S.getMouseInfo(k);if(E){var A=H(H({},E),{},{isTooltipActive:!0});S.setState(A),S.triggerSyncEvent(A);var O=S.props.onClick;Pe(O)&&O(A,k)}}),Ne(S,"handleMouseDown",function(k){var E=S.props.onMouseDown;if(Pe(E)){var A=S.getMouseInfo(k);E(A,k)}}),Ne(S,"handleMouseUp",function(k){var E=S.props.onMouseUp;if(Pe(E)){var A=S.getMouseInfo(k);E(A,k)}}),Ne(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ne(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),Ne(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),Ne(S,"handleDoubleClick",function(k){var E=S.props.onDoubleClick;if(Pe(E)){var A=S.getMouseInfo(k);E(A,k)}}),Ne(S,"handleContextMenu",function(k){var E=S.props.onContextMenu;if(Pe(E)){var A=S.getMouseInfo(k);E(A,k)}}),Ne(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&xk.emit(wk,S.props.syncId,k,S.eventEmitterSymbol)}),Ne(S,"applySyncEvent",function(k){var E=S.props,A=E.layout,O=E.syncMethod,P=S.state.updateId,T=k.dataStartIndex,N=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(H({dataStartIndex:T,dataEndIndex:N},h({props:S.props,dataStartIndex:T,dataEndIndex:N,updateId:P},S.state)));else if(k.activeTooltipIndex!==void 0){var $=k.chartX,_=k.chartY,I=k.activeTooltipIndex,R=S.state,F=R.offset,j=R.tooltipTicks;if(!F)return;if(typeof O=="function")I=O(j,k);else if(O==="value"){I=-1;for(var L=0;L<j.length;L++)if(j[L].value===k.activeLabel){I=L;break}}var V=H(H({},F),{},{x:F.left,y:F.top}),U=Math.min($,V.x+V.width),G=Math.min(_,V.y+V.height),ie=j[I]&&j[I].value,Ce=yT(S.state,S.props.data,I),Fe=j[I]?{x:A==="horizontal"?j[I].coordinate:U,y:A==="horizontal"?G:j[I].coordinate}:DK;S.setState(H(H({},k),{},{activeLabel:ie,activeCoordinate:Fe,activePayload:Ce,activeTooltipIndex:I}))}else S.setState(k)}),Ne(S,"renderCursor",function(k){var E,A=S.state,O=A.isTooltipActive,P=A.activeCoordinate,T=A.activePayload,N=A.offset,$=A.activeTooltipIndex,_=A.tooltipAxisBandSize,I=S.getTooltipEventType(),R=(E=k.props.active)!==null&&E!==void 0?E:O,F=S.props.layout,j=k.key||"_recharts-cursor";return M.createElement(cDe,{key:j,activeCoordinate:P,activePayload:T,activeTooltipIndex:$,chartName:n,element:k,isActive:R,layout:F,offset:N,tooltipAxisBandSize:_,tooltipEventType:I})}),Ne(S,"renderPolarAxis",function(k,E,A){var O=ni(k,"type.axisType"),P=ni(S.state,"".concat(O,"Map")),T=k.type.defaultProps,N=T!==void 0?H(H({},T),k.props):k.props,$=P&&P[N["".concat(O,"Id")]];return w.cloneElement(k,H(H({},$),{},{className:Ie(O,$.className),key:k.key||"".concat(E,"-").concat(A),ticks:Ns($,!0)}))}),Ne(S,"renderPolarGrid",function(k){var E=k.props,A=E.radialLines,O=E.polarAngles,P=E.polarRadius,T=S.state,N=T.radiusAxisMap,$=T.angleAxisMap,_=Ma(N),I=Ma($),R=I.cx,F=I.cy,j=I.innerRadius,L=I.outerRadius;return w.cloneElement(k,{polarAngles:Array.isArray(O)?O:Ns(I,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(P)?P:Ns(_,!0).map(function(V){return V.coordinate}),cx:R,cy:F,innerRadius:j,outerRadius:L,key:k.key||"polar-grid",radialLines:A})}),Ne(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,E=S.props,A=E.children,O=E.width,P=E.height,T=S.props.margin||{},N=O-(T.left||0)-(T.right||0),$=u9({children:A,formattedGraphicalItems:k,legendWidth:N,legendContent:c});if(!$)return null;var _=$.item,I=jF($,uDe);return w.cloneElement(_,H(H({},I),{},{chartWidth:O,chartHeight:P,margin:T,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ne(S,"renderTooltip",function(){var k,E=S.props,A=E.children,O=E.accessibilityLayer,P=Kr(A,Gr);if(!P)return null;var T=S.state,N=T.isTooltipActive,$=T.activeCoordinate,_=T.activePayload,I=T.activeLabel,R=T.offset,F=(k=P.props.active)!==null&&k!==void 0?k:N;return w.cloneElement(P,{viewBox:H(H({},R),{},{x:R.left,y:R.top}),active:F,label:I,payload:F?_:[],coordinate:$,accessibilityLayer:O})}),Ne(S,"renderBrush",function(k){var E=S.props,A=E.margin,O=E.data,P=S.state,T=P.offset,N=P.dataStartIndex,$=P.dataEndIndex,_=P.updateId;return w.cloneElement(k,{key:k.key||"_recharts-brush",onChange:sv(S.handleBrushChange,k.props.onChange),data:O,x:J(k.props.x)?k.props.x:T.left,y:J(k.props.y)?k.props.y:T.top+T.height+T.brushBottom-(A.bottom||0),width:J(k.props.width)?k.props.width:T.width,startIndex:N,endIndex:$,updateId:"brush-".concat(_)})}),Ne(S,"renderReferenceElement",function(k,E,A){if(!k)return null;var O=S,P=O.clipPathId,T=S.state,N=T.xAxisMap,$=T.yAxisMap,_=T.offset,I=k.type.defaultProps||{},R=k.props,F=R.xAxisId,j=F===void 0?I.xAxisId:F,L=R.yAxisId,V=L===void 0?I.yAxisId:L;return w.cloneElement(k,{key:k.key||"".concat(E,"-").concat(A),xAxis:N[j],yAxis:$[V],viewBox:{x:_.left,y:_.top,width:_.width,height:_.height},clipPathId:P})}),Ne(S,"renderActivePoints",function(k){var E=k.item,A=k.activePoint,O=k.basePoint,P=k.childIndex,T=k.isRange,N=[],$=E.props.key,_=E.item.type.defaultProps!==void 0?H(H({},E.item.type.defaultProps),E.item.props):E.item.props,I=_.activeDot,R=_.dataKey,F=H(H({index:P,dataKey:R,cx:A.x,cy:A.y,r:4,fill:b_(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},we(I,!1)),lx(I));return N.push(v.renderActiveDot(I,F,"".concat($,"-activePoint-").concat(P))),O?N.push(v.renderActiveDot(I,H(H({},F),{},{cx:O.x,cy:O.y}),"".concat($,"-basePoint-").concat(P))):T&&N.push(null),N}),Ne(S,"renderGraphicChild",function(k,E,A){var O=S.filterFormatItem(k,E,A);if(!O)return null;var P=S.getTooltipEventType(),T=S.state,N=T.isTooltipActive,$=T.tooltipAxis,_=T.activeTooltipIndex,I=T.activeLabel,R=S.props.children,F=Kr(R,Gr),j=O.props,L=j.points,V=j.isRange,U=j.baseLine,G=O.item.type.defaultProps!==void 0?H(H({},O.item.type.defaultProps),O.item.props):O.item.props,ie=G.activeDot,Ce=G.hide,Fe=G.activeBar,Be=G.activeShape,ae=!!(!Ce&&N&&F&&(ie||Fe||Be)),Ae={};P!=="axis"&&F&&F.props.trigger==="click"?Ae={onClick:sv(S.handleItemMouseEnter,k.props.onClick)}:P!=="axis"&&(Ae={onMouseLeave:sv(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:sv(S.handleItemMouseEnter,k.props.onMouseEnter)});var q=w.cloneElement(k,H(H({},O.props),Ae));function re(W){return typeof $.dataKey=="function"?$.dataKey(W.payload):null}if(ae)if(_>=0){var le,z;if($.dataKey&&!$.allowDuplicatedCategory){var Oe=typeof $.dataKey=="function"?re:"payload.".concat($.dataKey.toString());le=ax(L,Oe,I),z=V&&U&&ax(U,Oe,I)}else le=L==null?void 0:L[_],z=V&&U&&U[_];if(Be||Fe){var Te=k.props.activeIndex!==void 0?k.props.activeIndex:_;return[w.cloneElement(k,H(H(H({},O.props),Ae),{},{activeIndex:Te})),null,null]}if(!$e(le))return[q].concat(jf(S.renderActivePoints({item:O,activePoint:le,basePoint:z,childIndex:_,isRange:V})))}else{var ot,ct=(ot=S.getItemByXY(S.state.activeCoordinate))!==null&&ot!==void 0?ot:{graphicalItem:q},jt=ct.graphicalItem,Vr=jt.item,pn=Vr===void 0?k:Vr,D=jt.childIndex,B=H(H(H({},O.props),Ae),{},{activeIndex:D});return[w.cloneElement(pn,B),null,null]}return V?[q,null,null]:[q,null]}),Ne(S,"renderCustomized",function(k,E,A){return w.cloneElement(k,H(H({key:"recharts-customized-".concat(A)},S.props),S.state))}),Ne(S,"renderMap",{CartesianGrid:{handler:dv,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:dv},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:dv},YAxis:{handler:dv},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((x=b.id)!==null&&x!==void 0?x:Au("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=c8(S.triggeredAfterMouseMove,(C=b.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return wDe(v,y),yDe(v,[{key:"componentDidMount",value:function(){var x,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,C=x.children,S=x.data,k=x.height,E=x.layout,A=Kr(C,Gr);if(A){var O=A.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,T=yT(this.state,S,O,P),N=this.state.tooltipTicks[O].coordinate,$=(this.state.offset.top+k)/2,_=E==="horizontal",I=_?{x:N,y:$}:{y:N,x:$},R=this.state.formattedGraphicalItems.find(function(j){var L=j.item;return L.type.name==="Scatter"});R&&(I=H(H({},I),R.props.points[O].tooltipPosition),T=R.props.points[O].tooltipPayload);var F={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:P,activePayload:T,activeCoordinate:I};this.setState(F),this.renderCursor(A),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(x){UA([Kr(x.children,Gr)],[Kr(this.props.children,Gr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Kr(this.props.children,Gr);if(x&&typeof x.props.shared=="boolean"){var C=x.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),k=bCe(S),E={chartX:Math.round(x.pageX-k.left),chartY:Math.round(x.pageY-k.top)},A=S.width/C.offsetWidth||1,O=this.inRange(E.chartX,E.chartY,A);if(!O)return null;var P=this.state,T=P.xAxisMap,N=P.yAxisMap,$=this.getTooltipEventType(),_=RF(this.state,this.props.data,this.props.layout,O);if($!=="axis"&&T&&N){var I=Ma(T).scale,R=Ma(N).scale,F=I&&I.invert?I.invert(E.chartX):null,j=R&&R.invert?R.invert(E.chartY):null;return H(H({},E),{},{xValue:F,yValue:j},_)}return _?H(H({},E),_):null}},{key:"inRange",value:function(x,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,E=x/S,A=C/S;if(k==="horizontal"||k==="vertical"){var O=this.state.offset,P=E>=O.left&&E<=O.left+O.width&&A>=O.top&&A<=O.top+O.height;return P?{x:E,y:A}:null}var T=this.state,N=T.angleAxisMap,$=T.radiusAxisMap;if(N&&$){var _=Ma(N);return eL({x:E,y:A},_)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,C=this.getTooltipEventType(),S=Kr(x,Gr),k={};S&&C==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=lx(this.props,this.handleOuterEvent);return H(H({},E),k)}},{key:"addListener",value:function(){xk.on(wk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xk.removeListener(wk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,C,S){for(var k=this.state.formattedGraphicalItems,E=0,A=k.length;E<A;E++){var O=k[E];if(O.item===x||O.props.key===x.key||C===Is(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,C=this.state.offset,S=C.left,k=C.top,E=C.height,A=C.width;return M.createElement("defs",null,M.createElement("clipPath",{id:x},M.createElement("rect",{x:S,y:k,height:E,width:A})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(C,S){var k=_F(S,2),E=k[0],A=k[1];return H(H({},C),{},Ne({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(C,S){var k=_F(S,2),E=k[0],A=k[1];return H(H({},C),{},Ne({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[x])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(x){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[x])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(x){var C=this.state,S=C.formattedGraphicalItems,k=C.activeItem;if(S&&S.length)for(var E=0,A=S.length;E<A;E++){var O=S[E],P=O.props,T=O.item,N=T.type.defaultProps!==void 0?H(H({},T.type.defaultProps),T.props):T.props,$=Is(T.type);if($==="Bar"){var _=(P.data||[]).find(function(j){return rMe(x,j)});if(_)return{graphicalItem:O,payload:_}}else if($==="RadialBar"){var I=(P.data||[]).find(function(j){return eL(x,j)});if(I)return{graphicalItem:O,payload:I}}else if(cS(O,k)||uS(O,k)||og(O,k)){var R=U_e({graphicalItem:O,activeTooltipItem:k,itemData:N.data}),F=N.activeIndex===void 0?R:N.activeIndex;return{graphicalItem:H(H({},O),{},{childIndex:F}),payload:og(O,k)?N.data[R]:O.props.data[R]}}}return null}},{key:"render",value:function(){var x=this;if(!zR(this))return null;var C=this.props,S=C.children,k=C.className,E=C.width,A=C.height,O=C.style,P=C.compact,T=C.title,N=C.desc,$=jF(C,dDe),_=we($,!1);if(P)return M.createElement(sF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(GA,Sd({},_,{width:E,height:A,title:T,desc:N}),this.renderClipPath(),WR(S,this.renderMap)));if(this.props.accessibilityLayer){var I,R;_.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,_.role=(R=this.props.role)!==null&&R!==void 0?R:"application",_.onKeyDown=function(j){x.accessibilityManager.keyboardEvent(j)},_.onFocus=function(){x.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return M.createElement(sF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Sd({className:Ie("recharts-wrapper",k),style:H({position:"relative",cursor:"default",width:E,height:A},O)},F,{ref:function(L){x.container=L}}),M.createElement(GA,Sd({},_,{width:E,height:A,title:T,desc:N,style:ODe}),this.renderClipPath(),WR(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Ne(p,"displayName",n),Ne(p,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ne(p,"getDerivedStateFromProps",function(y,v){var b=y.dataKey,x=y.data,C=y.children,S=y.width,k=y.height,E=y.layout,A=y.stackOffset,O=y.margin,P=v.dataStartIndex,T=v.dataEndIndex;if(v.updateId===void 0){var N=DF(y);return H(H(H({},N),{},{updateId:0},h(H(H({props:y},N),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:k,prevLayout:E,prevStackOffset:A,prevMargin:O,prevChildren:C})}if(b!==v.prevDataKey||x!==v.prevData||S!==v.prevWidth||k!==v.prevHeight||E!==v.prevLayout||A!==v.prevStackOffset||!jd(O,v.prevMargin)){var $=DF(y),_={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},I=H(H({},RF(v,x,E)),{},{updateId:v.updateId+1}),R=H(H(H({},$),_),I);return H(H(H({},R),h(H({props:y},R),v)),{},{prevDataKey:b,prevData:x,prevWidth:S,prevHeight:k,prevLayout:E,prevStackOffset:A,prevMargin:O,prevChildren:C})}if(!UA(C,v.prevChildren)){var F,j,L,V,U=Kr(C,Sf),G=U&&(F=(j=U.props)===null||j===void 0?void 0:j.startIndex)!==null&&F!==void 0?F:P,ie=U&&(L=(V=U.props)===null||V===void 0?void 0:V.endIndex)!==null&&L!==void 0?L:T,Ce=G!==P||ie!==T,Fe=!$e(x),Be=Fe&&!Ce?v.updateId:v.updateId+1;return H(H({updateId:Be},h(H(H({props:y},v),{},{updateId:Be,dataStartIndex:G,dataEndIndex:ie}),v)),{},{prevChildren:C,dataStartIndex:G,dataEndIndex:ie})}return null}),Ne(p,"renderActiveDot",function(y,v,b){var x;return w.isValidElement(y)?x=w.cloneElement(y,v):Pe(y)?x=y(v):x=M.createElement(cy,v),M.createElement(Ye,{className:"recharts-active-dot",key:b},x)});var g=w.forwardRef(function(v,b){return M.createElement(p,Sd({},v,{ref:b}))});return g.displayName=p.displayName,g},DDe=yS({chartName:"LineChart",GraphicalChild:Ua,axisComponents:[{axisType:"xAxis",AxisComp:Sl},{axisType:"yAxis",AxisComp:Cl}],formatAxisMap:w_}),LDe=yS({chartName:"BarChart",GraphicalChild:Pu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Sl},{axisType:"yAxis",AxisComp:Cl}],formatAxisMap:w_}),FDe=yS({chartName:"PieChart",GraphicalChild:ra,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lS},{axisType:"radiusAxis",AxisComp:sS}],formatAxisMap:mTe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),BDe=yS({chartName:"AreaChart",GraphicalChild:Ys,axisComponents:[{axisType:"xAxis",AxisComp:Sl},{axisType:"yAxis",AxisComp:Cl}],formatAxisMap:w_});function Bt({className:t,...e}){return m.jsx("div",{className:ce("animate-pulse rounded-md bg-muted",t),...e})}function h0(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}const zDe=[{key:"totalSent",label:"Emails Sent",icon:Qc,format:h0,suffix:""},{key:"openRate",label:"Open Rate",icon:rM,format:t=>t.toFixed(1),suffix:"%"},{key:"clickRate",label:"Click Rate",icon:l1,format:t=>t.toFixed(1),suffix:"%"},{key:"bounceRate",label:"Bounce Rate",icon:nH,format:t=>t.toFixed(1),suffix:"%"},{key:"totalContacts",label:"Total Contacts",icon:d1,format:h0,suffix:""},{key:"contactGrowth",label:"Growth",icon:_oe,format:t=>"+"+t.toFixed(1),suffix:"%"}],FF=["hsl(185, 65%, 48%)","hsl(152, 60%, 45%)","hsl(38, 90%, 55%)","hsl(280, 60%, 55%)","hsl(0, 68%, 52%)"];function VDe(){const[t,e]=w.useState(null),[n,r]=w.useState(!0);return w.useEffect(()=>{mue().then(i=>{e(i.data),r(!1)})},[]),n||!t?m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Dashboard"}),m.jsx("p",{className:"page-subtitle",children:"Overview of your email marketing performance"})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Array.from({length:6}).map((i,o)=>m.jsxs("div",{className:"stat-card space-y-3",children:[m.jsx(Bt,{className:"h-4 w-20"}),m.jsx(Bt,{className:"h-8 w-16"})]},o))}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(Bt,{className:"h-80 rounded-lg"}),m.jsx(Bt,{className:"h-80 rounded-lg"})]})]}):m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Dashboard"}),m.jsx("p",{className:"page-subtitle",children:"Overview of your email marketing performance"})]}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:zDe.map((i,o)=>{const s=t[i.key];return m.jsxs("div",{className:"stat-card animate-fade-in",style:{animationDelay:`${o*60}ms`},children:[m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[m.jsx(i.icon,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium",children:i.label})]}),m.jsxs("div",{className:"text-2xl font-bold tracking-tight animate-count",children:[i.format(s),i.suffix]})]},i.key)})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"glass-card p-5",children:[m.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Email Performance (30 days)"}),m.jsx(wx,{width:"100%",height:280,children:m.jsxs(BDe,{data:t.dailyMetrics,children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"gradSent",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"0%",stopColor:"hsl(185, 65%, 48%)",stopOpacity:.3}),m.jsx("stop",{offset:"100%",stopColor:"hsl(185, 65%, 48%)",stopOpacity:0})]}),m.jsxs("linearGradient",{id:"gradOpened",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"0%",stopColor:"hsl(152, 60%, 45%)",stopOpacity:.3}),m.jsx("stop",{offset:"100%",stopColor:"hsl(152, 60%, 45%)",stopOpacity:0})]})]}),m.jsx(a0,{strokeDasharray:"3 3",stroke:"hsl(222, 18%, 18%)"}),m.jsx(Sl,{dataKey:"date",tick:{fontSize:11,fill:"hsl(215, 12%, 52%)"},tickFormatter:i=>i.slice(5),axisLine:!1,tickLine:!1}),m.jsx(Cl,{tick:{fontSize:11,fill:"hsl(215, 12%, 52%)"},axisLine:!1,tickLine:!1,tickFormatter:h0}),m.jsx(Gr,{contentStyle:{backgroundColor:"#f8f9fa",borderColor:"#e5e7eb",color:"#1f2937",borderRadius:"8px",fontSize:12}}),m.jsx(Ys,{type:"monotone",dataKey:"sent",stroke:"hsl(185, 65%, 48%)",fill:"url(#gradSent)",strokeWidth:2}),m.jsx(Ys,{type:"monotone",dataKey:"opened",stroke:"hsl(152, 60%, 45%)",fill:"url(#gradOpened)",strokeWidth:2})]})})]}),m.jsxs("div",{className:"glass-card p-5",children:[m.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Top Campaigns by Opens"}),m.jsx(wx,{width:"100%",height:280,children:m.jsxs(LDe,{data:t.topCampaigns,layout:"vertical",children:[m.jsx(a0,{strokeDasharray:"3 3",stroke:"hsl(222, 18%, 18%)",horizontal:!1}),m.jsx(Sl,{type:"number",tick:{fontSize:11,fill:"hsl(215, 12%, 52%)"},axisLine:!1,tickLine:!1,tickFormatter:h0}),m.jsx(Cl,{dataKey:"campaignName",type:"category",tick:{fontSize:11,fill:"hsl(215, 12%, 52%)"},axisLine:!1,tickLine:!1,width:120}),m.jsx(Gr,{contentStyle:{backgroundColor:"#f8f9fa",borderColor:"#e5e7eb",color:"#1f2937",borderRadius:"8px",fontSize:12}}),m.jsx(Pu,{dataKey:"opened",radius:[0,4,4,0],children:t.topCampaigns.map((i,o)=>m.jsx(ry,{fill:FF[o%FF.length]},o))})]})})]})]}),m.jsxs("div",{className:"glass-card p-5",children:[m.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Activity Heatmap (Opens by Day & Hour)"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("div",{className:"grid gap-[2px]",style:{gridTemplateColumns:"60px repeat(24, 1fr)",minWidth:"700px"},children:[m.jsx("div",{},"header-empty"),Array.from({length:24},(i,o)=>m.jsxs("div",{className:"text-[10px] text-muted-foreground text-center",children:[o,"h"]},`header-${o}`)),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((i,o)=>m.jsxs(w.Fragment,{children:[m.jsx("div",{className:"text-xs text-muted-foreground flex items-center",children:i}),Array.from({length:24},(s,a)=>{var u;const l=((u=t.heatmapData.find(d=>d.day===o&&d.hour===a))==null?void 0:u.value)??0,c=Math.max(.08,l/100);return m.jsx("div",{className:"aspect-square rounded-sm transition-colors",style:{backgroundColor:`hsl(185, 65%, 48%, ${c})`},title:`${i} ${a}:00  ${l}%`},`${o}-${a}`)})]},i))]})})]})]})}const WDe=o1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ge=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?rie:"button";return m.jsx(s,{className:ce(WDe({variant:e,size:n,className:t})),ref:o,...i})});Ge.displayName="Button";function Je(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var HDe=w.createContext(void 0);function wh(t){const e=w.useContext(HDe);return t||e||"ltr"}var UDe="DismissableLayer",vT="dismissableLayer.update",KDe="dismissableLayer.pointerDownOutside",GDe="dismissableLayer.focusOutside",BF,FK=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BK=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=w.useContext(FK),[u,d]=w.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=w.useState({}),p=Re(e,E=>d(E)),g=Array.from(c.layers),[y]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),b=u?g.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,C=b>=v,S=XDe(E=>{const A=E.target,O=[...c.branches].some(P=>P.contains(A));!C||O||(i==null||i(E),s==null||s(E),E.defaultPrevented||a==null||a())},f),k=JDe(E=>{const A=E.target;[...c.branches].some(P=>P.contains(A))||(o==null||o(E),s==null||s(E),E.defaultPrevented||a==null||a())},f);return xW(E=>{b===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},f),w.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(BF=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),zF(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=BF)}},[u,f,n,c]),w.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),zF())},[u,c]),w.useEffect(()=>{const E=()=>h({});return document.addEventListener(vT,E),()=>document.removeEventListener(vT,E)},[]),m.jsx(ye.div,{...l,ref:p,style:{pointerEvents:x?C?"auto":"none":void 0,...t.style},onFocusCapture:Je(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Je(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Je(t.onPointerDownCapture,S.onPointerDownCapture)})});BK.displayName=UDe;var qDe="DismissableLayerBranch",YDe=w.forwardRef((t,e)=>{const n=w.useContext(FK),r=w.useRef(null),i=Re(e,r);return w.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),m.jsx(ye.div,{...t,ref:i})});YDe.displayName=qDe;function XDe(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){zK(KDe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function JDe(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),r=w.useRef(!1);return w.useEffect(()=>{const i=o=>{o.target&&!r.current&&zK(GDe,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zF(){const t=new CustomEvent(vT);document.dispatchEvent(t)}function zK(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?n1(i,o):i.dispatchEvent(o)}var Ck=0;function ZDe(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??VF()),document.body.insertAdjacentElement("beforeend",t[1]??VF()),Ck++,()=>{Ck===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ck--}},[])}function VF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var kk="focusScope.autoFocusOnMount",Ek="focusScope.autoFocusOnUnmount",WF={bubbles:!1,cancelable:!0},QDe="FocusScope",vS=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=w.useState(null),c=Sn(i),u=Sn(o),d=w.useRef(null),f=Re(e,g=>l(g)),h=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let g=function(x){if(h.paused||!a)return;const C=x.target;a.contains(C)?d.current=C:ga(d.current,{select:!0})},y=function(x){if(h.paused||!a)return;const C=x.relatedTarget;C!==null&&(a.contains(C)||ga(d.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&ga(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const b=new MutationObserver(v);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),b.disconnect()}}},[r,a,h.paused]),w.useEffect(()=>{if(a){UF.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(kk,WF);a.addEventListener(kk,c),a.dispatchEvent(v),v.defaultPrevented||(e2e(o2e(VK(a)),{select:!0}),document.activeElement===g&&ga(a))}return()=>{a.removeEventListener(kk,c),setTimeout(()=>{const v=new CustomEvent(Ek,WF);a.addEventListener(Ek,u),a.dispatchEvent(v),v.defaultPrevented||ga(g??document.body,{select:!0}),a.removeEventListener(Ek,u),UF.remove(h)},0)}}},[a,c,u,h]);const p=w.useCallback(g=>{if(!n&&!r||h.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const b=g.currentTarget,[x,C]=t2e(b);x&&C?!g.shiftKey&&v===C?(g.preventDefault(),n&&ga(x,{select:!0})):g.shiftKey&&v===x&&(g.preventDefault(),n&&ga(C,{select:!0})):v===b&&g.preventDefault()}},[n,r,h.paused]);return m.jsx(ye.div,{tabIndex:-1,...s,ref:f,onKeyDown:p})});vS.displayName=QDe;function e2e(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ga(r,{select:e}),document.activeElement!==n)return}function t2e(t){const e=VK(t),n=HF(e,t),r=HF(e.reverse(),t);return[n,r]}function VK(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function HF(t,e){for(const n of t)if(!n2e(n,{upTo:e}))return n}function n2e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function r2e(t){return t instanceof HTMLInputElement&&"select"in t}function ga(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&r2e(t)&&e&&t.select()}}var UF=i2e();function i2e(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=KF(t,e),t.unshift(e)},remove(e){var n;t=KF(t,e),(n=t[0])==null||n.resume()}}}function KF(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function o2e(t){return t.filter(e=>e.tagName!=="A")}var M_="Popper",[WK,HK]=Or(M_),[s2e,UK]=WK(M_),KK=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return m.jsx(s2e,{scope:e,anchor:r,onAnchorChange:i,children:n})};KK.displayName=M_;var GK="PopperAnchor",qK=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=UK(GK,n),s=w.useRef(null),a=Re(e,s),l=w.useRef(null);return w.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||s.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:m.jsx(ye.div,{...i,ref:a})});qK.displayName=GK;var __="PopperContent",[a2e,l2e]=WK(__),YK=w.forwardRef((t,e)=>{var ae,Ae,q,re,le,z;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:p,...g}=t,y=UK(__,n),[v,b]=w.useState(null),x=Re(e,Oe=>b(Oe)),[C,S]=w.useState(null),k=v1(C),E=(k==null?void 0:k.width)??0,A=(k==null?void 0:k.height)??0,O=r+(o!=="center"?"-"+o:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(c)?c:[c],N=T.length>0,$={padding:P,boundary:T.filter(u2e),altBoundary:N},{refs:_,floatingStyles:I,placement:R,isPositioned:F,middlewareData:j}=$H({strategy:"fixed",placement:O,whileElementsMounted:(...Oe)=>_H(...Oe,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[IH({mainAxis:i+A,alignmentAxis:s}),l&&RH({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?DH():void 0,...$}),l&&LH({...$}),FH({...$,apply:({elements:Oe,rects:Te,availableWidth:ot,availableHeight:ct})=>{const{width:jt,height:Vr}=Te.reference,pn=Oe.floating.style;pn.setProperty("--radix-popper-available-width",`${ot}px`),pn.setProperty("--radix-popper-available-height",`${ct}px`),pn.setProperty("--radix-popper-anchor-width",`${jt}px`),pn.setProperty("--radix-popper-anchor-height",`${Vr}px`)}}),C&&zH({element:C,padding:a}),d2e({arrowWidth:E,arrowHeight:A}),f&&BH({strategy:"referenceHidden",...$})]}),[L,V]=ZK(R),U=Sn(p);Lt(()=>{F&&(U==null||U())},[F,U]);const G=(ae=j.arrow)==null?void 0:ae.x,ie=(Ae=j.arrow)==null?void 0:Ae.y,Ce=((q=j.arrow)==null?void 0:q.centerOffset)!==0,[Fe,Be]=w.useState();return Lt(()=>{v&&Be(window.getComputedStyle(v).zIndex)},[v]),m.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:F?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(re=j.transformOrigin)==null?void 0:re.x,(le=j.transformOrigin)==null?void 0:le.y].join(" "),...((z=j.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(a2e,{scope:n,placedSide:L,onArrowChange:S,arrowX:G,arrowY:ie,shouldHideArrow:Ce,children:m.jsx(ye.div,{"data-side":L,"data-align":V,...g,ref:x,style:{...g.style,animation:F?void 0:"none"}})})})});YK.displayName=__;var XK="PopperArrow",c2e={top:"bottom",right:"left",bottom:"top",left:"right"},JK=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=l2e(XK,r),s=c2e[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(WH,{...i,ref:n,style:{...i.style,display:"block"}})})});JK.displayName=XK;function u2e(t){return t!==null}var d2e=t=>({name:"transformOrigin",options:t,fn(e){var y,v,b;const{placement:n,rects:r,middlewareData:i}=e,s=((y=i.arrow)==null?void 0:y.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=ZK(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,h=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let p="",g="";return c==="bottom"?(p=s?d:`${f}px`,g=`${-l}px`):c==="top"?(p=s?d:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,g=s?d:`${h}px`):c==="left"&&(p=`${r.floating.width+l}px`,g=s?d:`${h}px`),{data:{x:p,y:g}}}});function ZK(t){const[e,n="center"]=t.split("-");return[e,n]}var f2e=KK,h2e=qK,p2e=YK,m2e=JK;function g2e(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var uy=t=>{const{present:e,children:n}=t,r=y2e(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),o=Re(r.ref,v2e(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:o}):null};uy.displayName="Presence";function y2e(t){const[e,n]=w.useState(),r=w.useRef(null),i=w.useRef(t),o=w.useRef("none"),s=t?"mounted":"unmounted",[a,l]=g2e(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=fv(r.current);o.current=a==="mounted"?c:"none"},[a]),Lt(()=>{const c=r.current,u=i.current;if(u!==t){const f=o.current,h=fv(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Lt(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const g=fv(r.current).includes(CSS.escape(h.animationName));if(h.target===e&&g&&(l("ANIMATION_END"),!i.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=h=>{h.target===e&&(o.current=fv(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function fv(t){return(t==null?void 0:t.animationName)||"none"}function v2e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Ak="rovingFocusGroup.onEntryFocus",b2e={bubbles:!1,cancelable:!0},dy="RovingFocusGroup",[bT,QK,x2e]=Qf(dy),[w2e,eG]=Or(dy,[x2e]),[S2e,C2e]=w2e(dy),tG=w.forwardRef((t,e)=>m.jsx(bT.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(bT.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(k2e,{...t,ref:e})})}));tG.displayName=dy;var k2e=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=w.useRef(null),h=Re(e,f),p=wh(o),[g,y]=qo({prop:s,defaultProp:a??null,onChange:l,caller:dy}),[v,b]=w.useState(!1),x=Sn(c),C=QK(n),S=w.useRef(!1),[k,E]=w.useState(0);return w.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(Ak,x),()=>A.removeEventListener(Ak,x)},[x]),m.jsx(S2e,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:w.useCallback(A=>y(A),[y]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>E(A=>A+1),[]),onFocusableItemRemove:w.useCallback(()=>E(A=>A-1),[]),children:m.jsx(ye.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:Je(t.onMouseDown,()=>{S.current=!0}),onFocus:Je(t.onFocus,A=>{const O=!S.current;if(A.target===A.currentTarget&&O&&!v){const P=new CustomEvent(Ak,b2e);if(A.currentTarget.dispatchEvent(P),!P.defaultPrevented){const T=C().filter(R=>R.focusable),N=T.find(R=>R.active),$=T.find(R=>R.id===g),I=[N,$,...T].filter(Boolean).map(R=>R.ref.current);iG(I,u)}}S.current=!1}),onBlur:Je(t.onBlur,()=>b(!1))})})}),nG="RovingFocusGroupItem",rG=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:s,...a}=t,l=ao(),c=o||l,u=C2e(nG,n),d=u.currentTabStopId===c,f=QK(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:g}=u;return w.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),m.jsx(bT.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:m.jsx(ye.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Je(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:Je(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Je(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=O2e(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const C=x.indexOf(y.currentTarget);x=u.loop?T2e(x,C+1):x.slice(C+1)}setTimeout(()=>iG(x))}}),children:typeof s=="function"?s({isCurrentTabStop:d,hasTabStop:g!=null}):s})})});rG.displayName=nG;var E2e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A2e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function O2e(t,e,n){const r=A2e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return E2e[r]}function iG(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function T2e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var N2e=tG,P2e=rG,M2e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vu=new WeakMap,hv=new WeakMap,pv={},Ok=0,oG=function(t){return t&&(t.host||oG(t.parentNode))},_2e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=oG(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},j2e=function(t,e,n,r){var i=_2e(e,Array.isArray(t)?t:[t]);pv[n]||(pv[n]=new WeakMap);var o=pv[n],s=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(r),p=h!==null&&h!=="false",g=(Vu.get(f)||0)+1,y=(o.get(f)||0)+1;Vu.set(f,g),o.set(f,y),s.push(f),g===1&&p&&hv.set(f,!0),y===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(e),a.clear(),Ok++,function(){s.forEach(function(d){var f=Vu.get(d)-1,h=o.get(d)-1;Vu.set(d,f),o.set(d,h),f||(hv.has(d)||d.removeAttribute(r),hv.delete(d)),h||d.removeAttribute(n)}),Ok--,Ok||(Vu=new WeakMap,Vu=new WeakMap,hv=new WeakMap,pv={})}},j_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||M2e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),j2e(r,i,n,"aria-hidden")):function(){return null}},Po=function(){return Po=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Po.apply(this,arguments)};function sG(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $2e(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var ab="right-scroll-bar-position",lb="width-before-scroll-bar",I2e="with-scroll-bars-hidden",R2e="--removed-body-scroll-bar-size";function Tk(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function D2e(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var L2e=typeof window<"u"?w.useLayoutEffect:w.useEffect,GF=new WeakMap;function F2e(t,e){var n=D2e(e||null,function(r){return t.forEach(function(i){return Tk(i,r)})});return L2e(function(){var r=GF.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||Tk(a,null)}),o.forEach(function(a){i.has(a)||Tk(a,s)})}GF.set(n,t)},[t]),n}function B2e(t){return t}function z2e(t,e){e===void 0&&(e=B2e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function V2e(t){t===void 0&&(t={});var e=z2e(null);return e.options=Po({async:!0,ssr:!1},t),e}var aG=function(t){var e=t.sideCar,n=sG(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Po({},n))};aG.isSideCarExport=!0;function W2e(t,e){return t.useMedium(e),aG}var lG=V2e(),Nk=function(){},bS=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Nk,onWheelCapture:Nk,onTouchMoveCapture:Nk}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noRelative,p=t.noIsolation,g=t.inert,y=t.allowPinchZoom,v=t.as,b=v===void 0?"div":v,x=t.gapMode,C=sG(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,k=F2e([n,e]),E=Po(Po({},C),i);return w.createElement(w.Fragment,null,u&&w.createElement(S,{sideCar:lG,removeScrollBar:c,shards:d,noRelative:h,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!y,lockRef:n,gapMode:x}),s?w.cloneElement(w.Children.only(a),Po(Po({},E),{ref:k})):w.createElement(b,Po({},E,{className:l,ref:k}),a))});bS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bS.classNames={fullWidth:lb,zeroRight:ab};var qF,H2e=function(){if(qF)return qF;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U2e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=H2e();return e&&t.setAttribute("nonce",e),t}function K2e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function G2e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var q2e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=U2e())&&(K2e(e,n),G2e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Y2e=function(){var t=q2e();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cG=function(){var t=Y2e(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},X2e={left:0,top:0,right:0,gap:0},Pk=function(t){return parseInt(t||"",10)||0},J2e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Pk(n),Pk(r),Pk(i)]},Z2e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return X2e;var e=J2e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Q2e=cG(),Rd="data-scroll-locked",eLe=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(I2e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Rd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ab,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lb,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ab," .").concat(ab,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lb," .").concat(lb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rd,`] {
    `).concat(R2e,": ").concat(a,`px;
  }
`)},YF=function(){var t=parseInt(document.body.getAttribute(Rd)||"0",10);return isFinite(t)?t:0},tLe=function(){w.useEffect(function(){return document.body.setAttribute(Rd,(YF()+1).toString()),function(){var t=YF()-1;t<=0?document.body.removeAttribute(Rd):document.body.setAttribute(Rd,t.toString())}},[])},nLe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;tLe();var o=w.useMemo(function(){return Z2e(i)},[i]);return w.createElement(Q2e,{styles:eLe(o,!e,i,n?"":"!important")})},xT=!1;if(typeof window<"u")try{var mv=Object.defineProperty({},"passive",{get:function(){return xT=!0,!0}});window.addEventListener("test",mv,mv),window.removeEventListener("test",mv,mv)}catch{xT=!1}var Wu=xT?{passive:!1}:!1,rLe=function(t){return t.tagName==="TEXTAREA"},uG=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rLe(t)&&n[e]==="visible")},iLe=function(t){return uG(t,"overflowY")},oLe=function(t){return uG(t,"overflowX")},XF=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=dG(t,r);if(i){var o=fG(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sLe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},aLe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dG=function(t,e){return t==="v"?iLe(e):oLe(e)},fG=function(t,e){return t==="v"?sLe(e):aLe(e)},lLe=function(t,e){return t==="h"&&e==="rtl"?-1:1},cLe=function(t,e,n,r,i){var o=lLe(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,d=0,f=0;do{if(!a)break;var h=fG(t,a),p=h[0],g=h[1],y=h[2],v=g-y-o*p;(p||v)&&dG(t,a)&&(d+=v,f+=p);var b=a.parentNode;a=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&Math.abs(d)<1||!i&&s>d)||!u&&(i&&Math.abs(f)<1||!i&&-s>f))&&(c=!0),c},gv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},JF=function(t){return[t.deltaX,t.deltaY]},ZF=function(t){return t&&"current"in t?t.current:t},uLe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},dLe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fLe=0,Hu=[];function hLe(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(fLe++)[0],o=w.useState(cG)[0],s=w.useRef(t);w.useEffect(function(){s.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=$2e([t.lockRef.current],(t.shards||[]).map(ZF),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var v=gv(g),b=n.current,x="deltaX"in g?g.deltaX:b[0]-v[0],C="deltaY"in g?g.deltaY:b[1]-v[1],S,k=g.target,E=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in g&&E==="h"&&k.type==="range")return!1;var A=XF(E,k);if(!A)return!0;if(A?S=E:(S=E==="v"?"h":"v",A=XF(E,k)),!A)return!1;if(!r.current&&"changedTouches"in g&&(x||C)&&(r.current=S),!S)return!0;var O=r.current||S;return cLe(O,y,g,O==="h"?x:C,!0)},[]),l=w.useCallback(function(g){var y=g;if(!(!Hu.length||Hu[Hu.length-1]!==o)){var v="deltaY"in y?JF(y):gv(y),b=e.current.filter(function(S){return S.name===y.type&&(S.target===y.target||y.target===S.shadowParent)&&uLe(S.delta,v)})[0];if(b&&b.should){y.cancelable&&y.preventDefault();return}if(!b){var x=(s.current.shards||[]).map(ZF).filter(Boolean).filter(function(S){return S.contains(y.target)}),C=x.length>0?a(y,x[0]):!s.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),c=w.useCallback(function(g,y,v,b){var x={name:g,delta:y,target:v,should:b,shadowParent:pLe(v)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(C){return C!==x})},1)},[]),u=w.useCallback(function(g){n.current=gv(g),r.current=void 0},[]),d=w.useCallback(function(g){c(g.type,JF(g),g.target,a(g,t.lockRef.current))},[]),f=w.useCallback(function(g){c(g.type,gv(g),g.target,a(g,t.lockRef.current))},[]);w.useEffect(function(){return Hu.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Wu),document.addEventListener("touchmove",l,Wu),document.addEventListener("touchstart",u,Wu),function(){Hu=Hu.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Wu),document.removeEventListener("touchmove",l,Wu),document.removeEventListener("touchstart",u,Wu)}},[]);var h=t.removeScrollBar,p=t.inert;return w.createElement(w.Fragment,null,p?w.createElement(o,{styles:dLe(i)}):null,h?w.createElement(nLe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function pLe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const mLe=W2e(lG,hLe);var hG=w.forwardRef(function(t,e){return w.createElement(bS,Po({},t,{ref:e,sideCar:mLe}))});hG.classNames=bS.classNames;const $_=hG;var wT=["Enter"," "],gLe=["ArrowDown","PageUp","Home"],pG=["ArrowUp","PageDown","End"],yLe=[...gLe,...pG],vLe={ltr:[...wT,"ArrowRight"],rtl:[...wT,"ArrowLeft"]},bLe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fy="Menu",[fg,xLe,wLe]=Qf(fy),[Mu,mG]=Or(fy,[wLe,HK,eG]),xS=HK(),gG=eG(),[SLe,_u]=Mu(fy),[CLe,hy]=Mu(fy),yG=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=t,a=xS(e),[l,c]=w.useState(null),u=w.useRef(!1),d=Sn(o),f=wh(i);return w.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),m.jsx(f2e,{...a,children:m.jsx(SLe,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:m.jsx(CLe,{scope:e,onClose:w.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:s,children:r})})})};yG.displayName=fy;var kLe="MenuAnchor",I_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=xS(n);return m.jsx(h2e,{...i,...r,ref:e})});I_.displayName=kLe;var R_="MenuPortal",[ELe,vG]=Mu(R_,{forceMount:void 0}),bG=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=_u(R_,e);return m.jsx(ELe,{scope:e,forceMount:n,children:m.jsx(uy,{present:n||o.open,children:m.jsx(Yg,{asChild:!0,container:i,children:r})})})};bG.displayName=R_;var Mi="MenuContent",[ALe,D_]=Mu(Mi),xG=w.forwardRef((t,e)=>{const n=vG(Mi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=_u(Mi,t.__scopeMenu),s=hy(Mi,t.__scopeMenu);return m.jsx(fg.Provider,{scope:t.__scopeMenu,children:m.jsx(uy,{present:r||o.open,children:m.jsx(fg.Slot,{scope:t.__scopeMenu,children:s.modal?m.jsx(OLe,{...i,ref:e}):m.jsx(TLe,{...i,ref:e})})})})}),OLe=w.forwardRef((t,e)=>{const n=_u(Mi,t.__scopeMenu),r=w.useRef(null),i=Re(e,r);return w.useEffect(()=>{const o=r.current;if(o)return j_(o)},[]),m.jsx(L_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Je(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),TLe=w.forwardRef((t,e)=>{const n=_u(Mi,t.__scopeMenu);return m.jsx(L_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),NLe=Zc("MenuContent.ScrollLock"),L_=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p,...g}=t,y=_u(Mi,n),v=hy(Mi,n),b=xS(n),x=gG(n),C=xLe(n),[S,k]=w.useState(null),E=w.useRef(null),A=Re(e,E,y.onContentChange),O=w.useRef(0),P=w.useRef(""),T=w.useRef(0),N=w.useRef(null),$=w.useRef("right"),_=w.useRef(0),I=p?$_:w.Fragment,R=p?{as:NLe,allowPinchZoom:!0}:void 0,F=L=>{var ae,Ae;const V=P.current+L,U=C().filter(q=>!q.disabled),G=document.activeElement,ie=(ae=U.find(q=>q.ref.current===G))==null?void 0:ae.textValue,Ce=U.map(q=>q.textValue),Fe=zLe(Ce,V,ie),Be=(Ae=U.find(q=>q.textValue===Fe))==null?void 0:Ae.ref.current;(function q(re){P.current=re,window.clearTimeout(O.current),re!==""&&(O.current=window.setTimeout(()=>q(""),1e3))})(V),Be&&setTimeout(()=>Be.focus())};w.useEffect(()=>()=>window.clearTimeout(O.current),[]),ZDe();const j=w.useCallback(L=>{var U,G;return $.current===((U=N.current)==null?void 0:U.side)&&WLe(L,(G=N.current)==null?void 0:G.area)},[]);return m.jsx(ALe,{scope:n,searchRef:P,onItemEnter:w.useCallback(L=>{j(L)&&L.preventDefault()},[j]),onItemLeave:w.useCallback(L=>{var V;j(L)||((V=E.current)==null||V.focus(),k(null))},[j]),onTriggerLeave:w.useCallback(L=>{j(L)&&L.preventDefault()},[j]),pointerGraceTimerRef:T,onPointerGraceIntentChange:w.useCallback(L=>{N.current=L},[]),children:m.jsx(I,{...R,children:m.jsx(vS,{asChild:!0,trapped:i,onMountAutoFocus:Je(o,L=>{var V;L.preventDefault(),(V=E.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:m.jsx(BK,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:m.jsx(N2e,{asChild:!0,...x,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:Je(l,L=>{v.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(p2e,{role:"menu","aria-orientation":"vertical","data-state":RG(y.open),"data-radix-menu-content":"",dir:v.dir,...b,...g,ref:A,style:{outline:"none",...g.style},onKeyDown:Je(g.onKeyDown,L=>{const U=L.target.closest("[data-radix-menu-content]")===L.currentTarget,G=L.ctrlKey||L.altKey||L.metaKey,ie=L.key.length===1;U&&(L.key==="Tab"&&L.preventDefault(),!G&&ie&&F(L.key));const Ce=E.current;if(L.target!==Ce||!yLe.includes(L.key))return;L.preventDefault();const Be=C().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);pG.includes(L.key)&&Be.reverse(),FLe(Be)}),onBlur:Je(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(O.current),P.current="")}),onPointerMove:Je(t.onPointerMove,hg(L=>{const V=L.target,U=_.current!==L.clientX;if(L.currentTarget.contains(V)&&U){const G=L.clientX>_.current?"right":"left";$.current=G,_.current=L.clientX}}))})})})})})})});xG.displayName=Mi;var PLe="MenuGroup",F_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(ye.div,{role:"group",...r,ref:e})});F_.displayName=PLe;var MLe="MenuLabel",wG=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(ye.div,{...r,ref:e})});wG.displayName=MLe;var p0="MenuItem",QF="menu.itemSelect",wS=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=w.useRef(null),s=hy(p0,t.__scopeMenu),a=D_(p0,t.__scopeMenu),l=Re(e,o),c=w.useRef(!1),u=()=>{const d=o.current;if(!n&&d){const f=new CustomEvent(QF,{bubbles:!0,cancelable:!0});d.addEventListener(QF,h=>r==null?void 0:r(h),{once:!0}),n1(d,f),f.defaultPrevented?c.current=!1:s.onClose()}};return m.jsx(SG,{...i,ref:l,disabled:n,onClick:Je(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)==null||f.call(t,d),c.current=!0},onPointerUp:Je(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:Je(t.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||wT.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});wS.displayName=p0;var SG=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,s=D_(p0,n),a=gG(n),l=w.useRef(null),c=Re(e,l),[u,d]=w.useState(!1),[f,h]=w.useState("");return w.useEffect(()=>{const p=l.current;p&&h((p.textContent??"").trim())},[o.children]),m.jsx(fg.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:m.jsx(P2e,{asChild:!0,...a,focusable:!r,children:m.jsx(ye.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:Je(t.onPointerMove,hg(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Je(t.onPointerLeave,hg(p=>s.onItemLeave(p))),onFocus:Je(t.onFocus,()=>d(!0)),onBlur:Je(t.onBlur,()=>d(!1))})})})}),_Le="MenuCheckboxItem",CG=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return m.jsx(TG,{scope:t.__scopeMenu,checked:n,children:m.jsx(wS,{role:"menuitemcheckbox","aria-checked":m0(n)?"mixed":n,...i,ref:e,"data-state":z_(n),onSelect:Je(i.onSelect,()=>r==null?void 0:r(m0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});CG.displayName=_Le;var kG="MenuRadioGroup",[jLe,$Le]=Mu(kG,{value:void 0,onValueChange:()=>{}}),EG=w.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=Sn(r);return m.jsx(jLe,{scope:t.__scopeMenu,value:n,onValueChange:o,children:m.jsx(F_,{...i,ref:e})})});EG.displayName=kG;var AG="MenuRadioItem",OG=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=$Le(AG,t.__scopeMenu),o=n===i.value;return m.jsx(TG,{scope:t.__scopeMenu,checked:o,children:m.jsx(wS,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":z_(o),onSelect:Je(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});OG.displayName=AG;var B_="MenuItemIndicator",[TG,ILe]=Mu(B_,{checked:!1}),NG=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=ILe(B_,n);return m.jsx(uy,{present:r||m0(o.checked)||o.checked===!0,children:m.jsx(ye.span,{...i,ref:e,"data-state":z_(o.checked)})})});NG.displayName=B_;var RLe="MenuSeparator",PG=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return m.jsx(ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});PG.displayName=RLe;var DLe="MenuArrow",MG=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=xS(n);return m.jsx(m2e,{...i,...r,ref:e})});MG.displayName=DLe;var LLe="MenuSub",[Mtt,_G]=Mu(LLe),lp="MenuSubTrigger",jG=w.forwardRef((t,e)=>{const n=_u(lp,t.__scopeMenu),r=hy(lp,t.__scopeMenu),i=_G(lp,t.__scopeMenu),o=D_(lp,t.__scopeMenu),s=w.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=w.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return w.useEffect(()=>u,[u]),w.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),m.jsx(I_,{asChild:!0,...c,children:m.jsx(SG,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":RG(n.open),...t,ref:t1(e,i.onTriggerChange),onClick:d=>{var f;(f=t.onClick)==null||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Je(t.onPointerMove,hg(d=>{o.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Je(t.onPointerLeave,hg(d=>{var h,p;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const g=(p=n.content)==null?void 0:p.dataset.side,y=g==="right",v=y?-5:5,b=f[y?"left":"right"],x=f[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:b,y:f.top},{x,y:f.top},{x,y:f.bottom},{x:b,y:f.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Je(t.onKeyDown,d=>{var h;const f=o.searchRef.current!=="";t.disabled||f&&d.key===" "||vLe[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})})})});jG.displayName=lp;var $G="MenuSubContent",IG=w.forwardRef((t,e)=>{const n=vG(Mi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=_u(Mi,t.__scopeMenu),s=hy(Mi,t.__scopeMenu),a=_G($G,t.__scopeMenu),l=w.useRef(null),c=Re(e,l);return m.jsx(fg.Provider,{scope:t.__scopeMenu,children:m.jsx(uy,{present:r||o.open,children:m.jsx(fg.Slot,{scope:t.__scopeMenu,children:m.jsx(L_,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;s.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Je(t.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Je(t.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:Je(t.onKeyDown,u=>{var h;const d=u.currentTarget.contains(u.target),f=bLe[s.dir].includes(u.key);d&&f&&(o.onOpenChange(!1),(h=a.trigger)==null||h.focus(),u.preventDefault())})})})})})});IG.displayName=$G;function RG(t){return t?"open":"closed"}function m0(t){return t==="indeterminate"}function z_(t){return m0(t)?"indeterminate":t?"checked":"unchecked"}function FLe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function BLe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function zLe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=BLe(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function VLe(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o],l=e[s],c=a.x,u=a.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=!i)}return i}function WLe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return VLe(n,e)}function hg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var HLe=yG,ULe=I_,KLe=bG,GLe=xG,qLe=F_,YLe=wG,XLe=wS,JLe=CG,ZLe=EG,QLe=OG,eFe=NG,tFe=PG,nFe=MG,rFe=jG,iFe=IG,SS="DropdownMenu",[oFe,_tt]=Or(SS,[mG]),Tr=mG(),[sFe,DG]=oFe(SS),LG=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=t,l=Tr(e),c=w.useRef(null),[u,d]=qo({prop:i,defaultProp:o??!1,onChange:s,caller:SS});return m.jsx(sFe,{scope:e,triggerId:ao(),triggerRef:c,contentId:ao(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:a,children:m.jsx(HLe,{...l,open:u,onOpenChange:d,dir:r,modal:a,children:n})})};LG.displayName=SS;var FG="DropdownMenuTrigger",BG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=DG(FG,n),s=Tr(n);return m.jsx(ULe,{asChild:!0,...s,children:m.jsx(ye.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:t1(e,o.triggerRef),onPointerDown:Je(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:Je(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});BG.displayName=FG;var aFe="DropdownMenuPortal",zG=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Tr(e);return m.jsx(KLe,{...r,...n})};zG.displayName=aFe;var VG="DropdownMenuContent",WG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=DG(VG,n),o=Tr(n),s=w.useRef(!1);return m.jsx(GLe,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:Je(t.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:Je(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WG.displayName=VG;var lFe="DropdownMenuGroup",cFe=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(qLe,{...i,...r,ref:e})});cFe.displayName=lFe;var uFe="DropdownMenuLabel",HG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(YLe,{...i,...r,ref:e})});HG.displayName=uFe;var dFe="DropdownMenuItem",UG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(XLe,{...i,...r,ref:e})});UG.displayName=dFe;var fFe="DropdownMenuCheckboxItem",KG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(JLe,{...i,...r,ref:e})});KG.displayName=fFe;var hFe="DropdownMenuRadioGroup",pFe=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(ZLe,{...i,...r,ref:e})});pFe.displayName=hFe;var mFe="DropdownMenuRadioItem",GG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(QLe,{...i,...r,ref:e})});GG.displayName=mFe;var gFe="DropdownMenuItemIndicator",qG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(eFe,{...i,...r,ref:e})});qG.displayName=gFe;var yFe="DropdownMenuSeparator",YG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(tFe,{...i,...r,ref:e})});YG.displayName=yFe;var vFe="DropdownMenuArrow",bFe=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(nFe,{...i,...r,ref:e})});bFe.displayName=vFe;var xFe="DropdownMenuSubTrigger",XG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(rFe,{...i,...r,ref:e})});XG.displayName=xFe;var wFe="DropdownMenuSubContent",JG=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Tr(n);return m.jsx(iFe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JG.displayName=wFe;var SFe=LG,CFe=BG,kFe=zG,ZG=WG,QG=HG,eq=UG,tq=KG,nq=GG,rq=qG,iq=YG,oq=XG,sq=JG;const aq=SFe,lq=CFe,EFe=w.forwardRef(({className:t,inset:e,children:n,...r},i)=>m.jsxs(oq,{ref:i,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,m.jsx(qW,{className:"ml-auto h-4 w-4"})]}));EFe.displayName=oq.displayName;const AFe=w.forwardRef(({className:t,...e},n)=>m.jsx(sq,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));AFe.displayName=sq.displayName;const V_=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>m.jsx(kFe,{children:m.jsx(ZG,{ref:r,sideOffset:e,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));V_.displayName=ZG.displayName;const Ps=w.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(eq,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));Ps.displayName=eq.displayName;const OFe=w.forwardRef(({className:t,children:e,checked:n,...r},i)=>m.jsxs(tq,{ref:i,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(rq,{children:m.jsx(tM,{className:"h-4 w-4"})})}),e]}));OFe.displayName=tq.displayName;const TFe=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(nq,{ref:r,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(rq,{children:m.jsx(roe,{className:"h-2 w-2 fill-current"})})}),e]}));TFe.displayName=nq.displayName;const NFe=w.forwardRef(({className:t,inset:e,...n},r)=>m.jsx(QG,{ref:r,className:ce("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));NFe.displayName=QG.displayName;const cq=w.forwardRef(({className:t,...e},n)=>m.jsx(iq,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));cq.displayName=iq.displayName;const eB={draft:{label:"Rascunho",class:"badge-draft",icon:iM},scheduled:{label:"Agendada",class:"badge-scheduled",icon:nM},sending:{label:"A enviar",class:"badge-sending",icon:a1},sent:{label:"Enviada",class:"badge-sent",icon:c1}},PFe=["all","draft","scheduled","sending","sent"];function MFe(){const t=di(),{toast:e}=mo(),[n,r]=w.useState([]),[i,o]=w.useState(!0),[s,a]=w.useState(""),[l,c]=w.useState("all");w.useEffect(()=>{const f=setTimeout(()=>{o(!0),AR({status:l,search:s}).then(h=>{r(h.data),o(!1)})},500);return()=>clearTimeout(f)},[l,s]);const u=async f=>{try{await kue(f),e({title:"Sucesso",description:"Campanha duplicada"});const h=await AR({status:l,search:s});r(h.data)}catch{e({title:"Erro",description:"Falha ao duplicar",variant:"destructive"})}},d=async f=>{if(confirm("Tem a certeza que deseja eliminar esta campanha?"))try{await Cue(f),e({title:"Sucesso",description:"Campanha eliminada"}),r(h=>h.filter(p=>p.id!==f))}catch{e({title:"Erro",description:"Falha ao eliminar",variant:"destructive"})}};return m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Campanhas"}),m.jsx("p",{className:"page-subtitle",children:"Crie, gira e acompanhe as suas campanhas de e-mail"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Ge,{variant:"outline",className:"gap-2",asChild:!0,children:m.jsxs(sx,{to:"/templates/editor",children:[m.jsx(iM,{className:"w-4 h-4"})," Editor de Template"]})}),m.jsx(Ge,{className:"gap-2",asChild:!0,children:m.jsxs(sx,{to:"/campaigns/new",children:[m.jsx(eu,{className:"w-4 h-4"})," Nova Campanha"]})})]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2 bg-secondary rounded-lg px-3 py-2 flex-1 max-w-sm",children:[m.jsx(oM,{className:"w-4 h-4 text-muted-foreground"}),m.jsx("input",{value:s,onChange:f=>a(f.target.value),placeholder:"Pesquisar campanhas...",className:"bg-transparent border-none outline-none text-sm text-foreground placeholder:text-muted-foreground w-full"})]}),m.jsx("div",{className:"flex items-center gap-1 bg-secondary rounded-lg p-1",children:PFe.map(f=>{var h;return m.jsx("button",{onClick:()=>c(f),className:ce("px-3 py-1.5 rounded-md text-xs font-medium transition-all capitalize",l===f?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"),children:f==="all"?"Todas":((h=eB[f])==null?void 0:h.label)||f},f)})})]}),m.jsxs("div",{className:"glass-card overflow-hidden",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-border",children:[m.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Campanha"}),m.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Estado"}),m.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground hidden md:table-cell",children:"Lista"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground hidden lg:table-cell",children:"Enviada"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground hidden lg:table-cell",children:"Taxa de Abertura"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground hidden xl:table-cell",children:"Taxa de Cliques"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground w-12"})]})}),m.jsx("tbody",{children:i?Array.from({length:5}).map((f,h)=>m.jsxs("tr",{className:"border-b border-border/50",children:[m.jsx("td",{className:"py-3 px-4",children:m.jsx(Bt,{className:"h-5 w-48"})}),m.jsx("td",{className:"py-3 px-4",children:m.jsx(Bt,{className:"h-5 w-20"})}),m.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:m.jsx(Bt,{className:"h-5 w-28"})}),m.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:m.jsx(Bt,{className:"h-5 w-16 ml-auto"})}),m.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:m.jsx(Bt,{className:"h-5 w-14 ml-auto"})}),m.jsx("td",{className:"py-3 px-4 hidden xl:table-cell",children:m.jsx(Bt,{className:"h-5 w-14 ml-auto"})}),m.jsx("td",{className:"py-3 px-4"})]},h)):n.map(f=>{const h=eB[f.status];return m.jsxs("tr",{className:"border-b border-border/50 table-row-hover",children:[m.jsx("td",{className:"py-3 px-4",children:m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:f.name}),m.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate max-w-xs",children:f.subject})]})}),m.jsx("td",{className:"py-3 px-4",children:m.jsxs("span",{className:ce("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium",h.class),children:[m.jsx(h.icon,{className:ce("w-3 h-3",f.status==="sending"&&"animate-spin")}),h.label]})}),m.jsx("td",{className:"py-3 px-4 hidden md:table-cell text-muted-foreground",children:f.listName}),m.jsx("td",{className:"py-3 px-4 hidden lg:table-cell text-right font-mono",children:f.sentCount>0?f.sentCount.toLocaleString():""}),m.jsx("td",{className:"py-3 px-4 hidden lg:table-cell text-right font-mono",children:f.openRate>0?`${f.openRate}%`:""}),m.jsx("td",{className:"py-3 px-4 hidden xl:table-cell text-right font-mono",children:f.clickRate>0?`${f.clickRate}%`:""}),m.jsx("td",{className:"py-3 px-4 text-right",children:m.jsxs(aq,{children:[m.jsx(lq,{asChild:!0,children:m.jsx("button",{className:"text-muted-foreground hover:text-foreground",children:m.jsx(YW,{className:"w-4 h-4"})})}),m.jsxs(V_,{align:"end",children:[m.jsx(Ps,{onClick:()=>t(`/campaigns/${f.id}`),children:"Ver Detalhes"}),m.jsx(Ps,{onClick:()=>t(`/campaigns/${f.id}/edit`),children:"Editar"}),m.jsx(Ps,{onClick:()=>u(f.id),children:"Duplicar"}),m.jsx(Ps,{className:"text-destructive",onClick:()=>d(f.id),children:"Eliminar"})]})]})})]},f.id)})})]})}),!i&&n.length===0&&m.jsxs("div",{className:"py-16 text-center",children:[m.jsx(c1,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:"Nenhuma campanha encontrada"}),m.jsx("p",{className:"text-muted-foreground/70 text-xs mt-1",children:"Tente ajustar os filtros ou crie uma nova campanha"})]})]})]})}var py=t=>t.type==="checkbox",vc=t=>t instanceof Date,mr=t=>t==null;const uq=t=>typeof t=="object";var nn=t=>!mr(t)&&!Array.isArray(t)&&uq(t)&&!vc(t),_Fe=t=>nn(t)&&t.target?py(t.target)?t.target.checked:t.target.value:t,jFe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,$Fe=(t,e)=>t.has(jFe(e)),IFe=t=>{const e=t.constructor&&t.constructor.prototype;return nn(e)&&e.hasOwnProperty("isPrototypeOf")},W_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(W_&&(t instanceof Blob||r))&&(n||nn(t)))if(e=n?[]:{},!n&&!IFe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=kn(t[i]));else return t;return e}var CS=t=>/^\w*$/.test(t),an=t=>t===void 0,H_=t=>Array.isArray(t)?t.filter(Boolean):[],U_=t=>H_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ge=(t,e,n)=>{if(!e||!nn(t))return n;const r=(CS(e)?[e]:U_(e)).reduce((i,o)=>mr(i)?i:i[o],t);return an(r)||r===t?an(t[e])?n:t[e]:r},Eo=t=>typeof t=="boolean",yt=(t,e,n)=>{let r=-1;const i=CS(e)?[e]:U_(e),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const c=t[a];l=nn(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const tB={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},to={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},us={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},RFe=M.createContext(null);RFe.displayName="HookFormContext";var DFe=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const s=o;return e._proxyFormState[s]!==to.all&&(e._proxyFormState[s]=!r||to.all),n&&(n[s]=!0),t[s]}});return i};const LFe=typeof window<"u"?M.useLayoutEffect:M.useEffect;var Do=t=>typeof t=="string",FFe=(t,e,n,r,i)=>Do(t)?(r&&e.watch.add(t),ge(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),ge(n,o))):(r&&(e.watchAll=!0),n),ST=t=>mr(t)||!uq(t);function _a(t,e,n=new WeakSet){if(ST(t)||ST(e))return t===e;if(vc(t)&&vc(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const o of r){const s=t[o];if(!i.includes(o))return!1;if(o!=="ref"){const a=e[o];if(vc(s)&&vc(a)||nn(s)&&nn(a)||Array.isArray(s)&&Array.isArray(a)?!_a(s,a,n):s!==a)return!1}}return!0}var dq=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Hp=t=>Array.isArray(t)?t:[t],nB=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Nr=t=>nn(t)&&!Object.keys(t).length,K_=t=>t.type==="file",no=t=>typeof t=="function",g0=t=>{if(!W_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},fq=t=>t.type==="select-multiple",G_=t=>t.type==="radio",BFe=t=>G_(t)||py(t),Mk=t=>g0(t)&&t.isConnected;function zFe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=an(t)?r++:t[e[r++]];return t}function VFe(t){for(const e in t)if(t.hasOwnProperty(e)&&!an(t[e]))return!1;return!0}function on(t,e){const n=Array.isArray(e)?e:CS(e)?[e]:U_(e),r=n.length===1?t:zFe(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(nn(r)&&Nr(r)||Array.isArray(r)&&VFe(r))&&on(t,n.slice(0,-1)),t}var hq=t=>{for(const e in t)if(no(t[e]))return!0;return!1};function y0(t,e={}){const n=Array.isArray(t);if(nn(t)||n)for(const r in t)Array.isArray(t[r])||nn(t[r])&&!hq(t[r])?(e[r]=Array.isArray(t[r])?[]:{},y0(t[r],e[r])):mr(t[r])||(e[r]=!0);return e}function pq(t,e,n){const r=Array.isArray(t);if(nn(t)||r)for(const i in t)Array.isArray(t[i])||nn(t[i])&&!hq(t[i])?an(e)||ST(n[i])?n[i]=Array.isArray(t[i])?y0(t[i],[]):{...y0(t[i])}:pq(t[i],mr(e)?{}:e[i],n[i]):n[i]=!_a(t[i],e[i]);return n}var Xh=(t,e)=>pq(t,e,y0(e));const rB={value:!1,isValid:!1},iB={value:!0,isValid:!0};var mq=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!an(t[0].attributes.value)?an(t[0].value)||t[0].value===""?iB:{value:t[0].value,isValid:!0}:iB:rB}return rB},gq=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>an(t)?t:e?t===""?NaN:t&&+t:n&&Do(t)?new Date(t):r?r(t):t;const oB={isValid:!1,value:null};var yq=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,oB):oB;function sB(t){const e=t.ref;return K_(e)?e.files:G_(e)?yq(t.refs).value:fq(e)?[...e.selectedOptions].map(({value:n})=>n):py(e)?mq(t.refs).value:gq(an(e.value)?t.ref.value:e.value,t)}var WFe=(t,e,n,r)=>{const i={};for(const o of t){const s=ge(e,o);s&&yt(i,o,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},v0=t=>t instanceof RegExp,Jh=t=>an(t)?t:v0(t)?t.source:nn(t)?v0(t.value)?t.value.source:t.value:t,aB=t=>({isOnSubmit:!t||t===to.onSubmit,isOnBlur:t===to.onBlur,isOnChange:t===to.onChange,isOnAll:t===to.all,isOnTouch:t===to.onTouched});const lB="AsyncFunction";var HFe=t=>!!t&&!!t.validate&&!!(no(t.validate)&&t.validate.constructor.name===lB||nn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===lB)),UFe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),cB=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Up=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=ge(t,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],i)&&!r)return!0;if(s.ref&&e(s.ref,s.name)&&!r)return!0;if(Up(a,e))break}else if(nn(a)&&Up(a,e))break}}};function uB(t,e,n){const r=ge(t,n);if(r||CS(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=ge(e,o),a=ge(t,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};if(a&&a.root&&a.root.type)return{name:`${o}.root`,error:a.root};i.pop()}return{name:n}}var KFe=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return Nr(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(s=>e[s]===(!r||to.all))},GFe=(t,e,n)=>!t||!e||t===e||Hp(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),qFe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,YFe=(t,e)=>!H_(ge(t,e)).length&&on(t,e),XFe=(t,e,n)=>{const r=Hp(ge(t,n));return yt(r,"root",e[n]),yt(t,n,r),t},cb=t=>Do(t);function dB(t,e,n="validate"){if(cb(t)||Array.isArray(t)&&t.every(cb)||Eo(t)&&!t)return{type:n,message:cb(t)?t:"",ref:e}}var Uu=t=>nn(t)&&!v0(t)?t:{value:t,message:""},fB=async(t,e,n,r,i,o)=>{const{ref:s,refs:a,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:p,name:g,valueAsNumber:y,mount:v}=t._f,b=ge(n,g);if(!v||e.has(g))return{};const x=a?a[0]:s,C=N=>{i&&x.reportValidity&&(x.setCustomValidity(Eo(N)?"":N||""),x.reportValidity())},S={},k=G_(s),E=py(s),A=k||E,O=(y||K_(s))&&an(s.value)&&an(b)||g0(s)&&s.value===""||b===""||Array.isArray(b)&&!b.length,P=dq.bind(null,g,r,S),T=(N,$,_,I=us.maxLength,R=us.minLength)=>{const F=N?$:_;S[g]={type:N?I:R,message:F,ref:s,...P(N?I:R,F)}};if(o?!Array.isArray(b)||!b.length:l&&(!A&&(O||mr(b))||Eo(b)&&!b||E&&!mq(a).isValid||k&&!yq(a).isValid)){const{value:N,message:$}=cb(l)?{value:!!l,message:l}:Uu(l);if(N&&(S[g]={type:us.required,message:$,ref:x,...P(us.required,$)},!r))return C($),S}if(!O&&(!mr(d)||!mr(f))){let N,$;const _=Uu(f),I=Uu(d);if(!mr(b)&&!isNaN(b)){const R=s.valueAsNumber||b&&+b;mr(_.value)||(N=R>_.value),mr(I.value)||($=R<I.value)}else{const R=s.valueAsDate||new Date(b),F=V=>new Date(new Date().toDateString()+" "+V),j=s.type=="time",L=s.type=="week";Do(_.value)&&b&&(N=j?F(b)>F(_.value):L?b>_.value:R>new Date(_.value)),Do(I.value)&&b&&($=j?F(b)<F(I.value):L?b<I.value:R<new Date(I.value))}if((N||$)&&(T(!!N,_.message,I.message,us.max,us.min),!r))return C(S[g].message),S}if((c||u)&&!O&&(Do(b)||o&&Array.isArray(b))){const N=Uu(c),$=Uu(u),_=!mr(N.value)&&b.length>+N.value,I=!mr($.value)&&b.length<+$.value;if((_||I)&&(T(_,N.message,$.message),!r))return C(S[g].message),S}if(h&&!O&&Do(b)){const{value:N,message:$}=Uu(h);if(v0(N)&&!b.match(N)&&(S[g]={type:us.pattern,message:$,ref:s,...P(us.pattern,$)},!r))return C($),S}if(p){if(no(p)){const N=await p(b,n),$=dB(N,x);if($&&(S[g]={...$,...P(us.validate,$.message)},!r))return C($.message),S}else if(nn(p)){let N={};for(const $ in p){if(!Nr(N)&&!r)break;const _=dB(await p[$](b,n),x,$);_&&(N={..._,...P($,_.message)},C(_.message),r&&(S[g]=N))}if(!Nr(N)&&(S[g]={ref:x,...N},!r))return S}}return C(!0),S};const JFe={mode:to.onSubmit,reValidateMode:to.onChange,shouldFocusError:!0};function ZFe(t={}){let e={...JFe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:no(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=nn(e.defaultValues)||nn(e.values)?kn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:kn(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const f={array:nB(),state:nB()},h=e.criteriaMode===to.all,p=D=>B=>{clearTimeout(c),c=setTimeout(D,B)},g=async D=>{if(!e.disabled&&(u.isValid||d.isValid||D)){const B=e.resolver?Nr((await E()).errors):await O(r,!0);B!==n.isValid&&f.state.next({isValid:B})}},y=(D,B)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((D||Array.from(a.mount)).forEach(W=>{W&&(B?yt(n.validatingFields,W,B):on(n.validatingFields,W))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Nr(n.validatingFields)}))},v=(D,B=[],W,de,oe=!0,te=!0)=>{if(de&&W&&!e.disabled){if(s.action=!0,te&&Array.isArray(ge(r,D))){const Ee=W(ge(r,D),de.argA,de.argB);oe&&yt(r,D,Ee)}if(te&&Array.isArray(ge(n.errors,D))){const Ee=W(ge(n.errors,D),de.argA,de.argB);oe&&yt(n.errors,D,Ee),YFe(n.errors,D)}if((u.touchedFields||d.touchedFields)&&te&&Array.isArray(ge(n.touchedFields,D))){const Ee=W(ge(n.touchedFields,D),de.argA,de.argB);oe&&yt(n.touchedFields,D,Ee)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Xh(i,o)),f.state.next({name:D,isDirty:T(D,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yt(o,D,B)},b=(D,B)=>{yt(n.errors,D,B),f.state.next({errors:n.errors})},x=D=>{n.errors=D,f.state.next({errors:n.errors,isValid:!1})},C=(D,B,W,de)=>{const oe=ge(r,D);if(oe){const te=ge(o,D,an(W)?ge(i,D):W);an(te)||de&&de.defaultChecked||B?yt(o,D,B?te:sB(oe._f)):_(D,te),s.mount&&g()}},S=(D,B,W,de,oe)=>{let te=!1,Ee=!1;const ut={name:D};if(!e.disabled){if(!W||de){(u.isDirty||d.isDirty)&&(Ee=n.isDirty,n.isDirty=ut.isDirty=T(),te=Ee!==ut.isDirty);const wt=_a(ge(i,D),B);Ee=!!ge(n.dirtyFields,D),wt?on(n.dirtyFields,D):yt(n.dirtyFields,D,!0),ut.dirtyFields=n.dirtyFields,te=te||(u.dirtyFields||d.dirtyFields)&&Ee!==!wt}if(W){const wt=ge(n.touchedFields,D);wt||(yt(n.touchedFields,D,W),ut.touchedFields=n.touchedFields,te=te||(u.touchedFields||d.touchedFields)&&wt!==W)}te&&oe&&f.state.next(ut)}return te?ut:{}},k=(D,B,W,de)=>{const oe=ge(n.errors,D),te=(u.isValid||d.isValid)&&Eo(B)&&n.isValid!==B;if(e.delayError&&W?(l=p(()=>b(D,W)),l(e.delayError)):(clearTimeout(c),l=null,W?yt(n.errors,D,W):on(n.errors,D)),(W?!_a(oe,W):oe)||!Nr(de)||te){const Ee={...de,...te&&Eo(B)?{isValid:B}:{},errors:n.errors,name:D};n={...n,...Ee},f.state.next(Ee)}},E=async D=>{y(D,!0);const B=await e.resolver(o,e.context,WFe(D||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(D),B},A=async D=>{const{errors:B}=await E(D);if(D)for(const W of D){const de=ge(B,W);de?yt(n.errors,W,de):on(n.errors,W)}else n.errors=B;return B},O=async(D,B,W={valid:!0})=>{for(const de in D){const oe=D[de];if(oe){const{_f:te,...Ee}=oe;if(te){const ut=a.array.has(te.name),wt=oe._f&&HFe(oe._f);wt&&u.validatingFields&&y([de],!0);const fi=await fB(oe,a.disabled,o,h,e.shouldUseNativeValidation&&!B,ut);if(wt&&u.validatingFields&&y([de]),fi[te.name]&&(W.valid=!1,B))break;!B&&(ge(fi,te.name)?ut?XFe(n.errors,fi,te.name):yt(n.errors,te.name,fi[te.name]):on(n.errors,te.name))}!Nr(Ee)&&await O(Ee,B,W)}}return W.valid},P=()=>{for(const D of a.unMount){const B=ge(r,D);B&&(B._f.refs?B._f.refs.every(W=>!Mk(W)):!Mk(B._f.ref))&&ae(D)}a.unMount=new Set},T=(D,B)=>!e.disabled&&(D&&B&&yt(o,D,B),!_a(V(),i)),N=(D,B,W)=>FFe(D,a,{...s.mount?o:an(B)?i:Do(D)?{[D]:B}:B},W,B),$=D=>H_(ge(s.mount?o:i,D,e.shouldUnregister?ge(i,D,[]):[])),_=(D,B,W={})=>{const de=ge(r,D);let oe=B;if(de){const te=de._f;te&&(!te.disabled&&yt(o,D,gq(B,te)),oe=g0(te.ref)&&mr(B)?"":B,fq(te.ref)?[...te.ref.options].forEach(Ee=>Ee.selected=oe.includes(Ee.value)):te.refs?py(te.ref)?te.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(oe)?Ee.checked=!!oe.find(ut=>ut===Ee.value):Ee.checked=oe===Ee.value||!!oe)}):te.refs.forEach(Ee=>Ee.checked=Ee.value===oe):K_(te.ref)?te.ref.value="":(te.ref.value=oe,te.ref.type||f.state.next({name:D,values:kn(o)})))}(W.shouldDirty||W.shouldTouch)&&S(D,oe,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&L(D)},I=(D,B,W)=>{for(const de in B){if(!B.hasOwnProperty(de))return;const oe=B[de],te=D+"."+de,Ee=ge(r,te);(a.array.has(D)||nn(oe)||Ee&&!Ee._f)&&!vc(oe)?I(te,oe,W):_(te,oe,W)}},R=(D,B,W={})=>{const de=ge(r,D),oe=a.array.has(D),te=kn(B);yt(o,D,te),oe?(f.array.next({name:D,values:kn(o)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&W.shouldDirty&&f.state.next({name:D,dirtyFields:Xh(i,o),isDirty:T(D,te)})):de&&!de._f&&!mr(te)?I(D,te,W):_(D,te,W),cB(D,a)&&f.state.next({...n,name:D}),f.state.next({name:s.mount?D:void 0,values:kn(o)})},F=async D=>{s.mount=!0;const B=D.target;let W=B.name,de=!0;const oe=ge(r,W),te=wt=>{de=Number.isNaN(wt)||vc(wt)&&isNaN(wt.getTime())||_a(wt,ge(o,W,wt))},Ee=aB(e.mode),ut=aB(e.reValidateMode);if(oe){let wt,fi;const Oy=B.type?sB(oe._f):_Fe(D),aa=D.type===tB.BLUR||D.type===tB.FOCUS_OUT,wte=!UFe(oe._f)&&!e.resolver&&!ge(n.errors,W)&&!oe._f.deps||qFe(aa,ge(n.touchedFields,W),n.isSubmitted,ut,Ee),cC=cB(W,a,aa);yt(o,W,Oy),aa?(oe._f.onBlur&&oe._f.onBlur(D),l&&l(0)):oe._f.onChange&&oe._f.onChange(D);const uC=S(W,Oy,aa),Ste=!Nr(uC)||cC;if(!aa&&f.state.next({name:W,type:D.type,values:kn(o)}),wte)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?aa&&g():aa||g()),Ste&&f.state.next({name:W,...cC?{}:uC});if(!aa&&cC&&f.state.next({...n}),e.resolver){const{errors:M$}=await E([W]);if(te(Oy),de){const Cte=uB(n.errors,r,W),_$=uB(M$,r,Cte.name||W);wt=_$.error,W=_$.name,fi=Nr(M$)}}else y([W],!0),wt=(await fB(oe,a.disabled,o,h,e.shouldUseNativeValidation))[W],y([W]),te(Oy),de&&(wt?fi=!1:(u.isValid||d.isValid)&&(fi=await O(r,!0)));de&&(oe._f.deps&&L(oe._f.deps),k(W,fi,wt,uC))}},j=(D,B)=>{if(ge(n.errors,B)&&D.focus)return D.focus(),1},L=async(D,B={})=>{let W,de;const oe=Hp(D);if(e.resolver){const te=await A(an(D)?D:oe);W=Nr(te),de=D?!oe.some(Ee=>ge(te,Ee)):W}else D?(de=(await Promise.all(oe.map(async te=>{const Ee=ge(r,te);return await O(Ee&&Ee._f?{[te]:Ee}:Ee)}))).every(Boolean),!(!de&&!n.isValid)&&g()):de=W=await O(r);return f.state.next({...!Do(D)||(u.isValid||d.isValid)&&W!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:W}:{},errors:n.errors}),B.shouldFocus&&!de&&Up(r,j,D?oe:a.mount),de},V=D=>{const B={...s.mount?o:i};return an(D)?B:Do(D)?ge(B,D):D.map(W=>ge(B,W))},U=(D,B)=>({invalid:!!ge((B||n).errors,D),isDirty:!!ge((B||n).dirtyFields,D),error:ge((B||n).errors,D),isValidating:!!ge(n.validatingFields,D),isTouched:!!ge((B||n).touchedFields,D)}),G=D=>{D&&Hp(D).forEach(B=>on(n.errors,B)),f.state.next({errors:D?n.errors:{}})},ie=(D,B,W)=>{const de=(ge(r,D,{_f:{}})._f||{}).ref,oe=ge(n.errors,D)||{},{ref:te,message:Ee,type:ut,...wt}=oe;yt(n.errors,D,{...wt,...B,ref:de}),f.state.next({name:D,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&de&&de.focus&&de.focus()},Ce=(D,B)=>no(D)?f.state.subscribe({next:W=>"values"in W&&D(N(void 0,B),W)}):N(D,B,!0),Fe=D=>f.state.subscribe({next:B=>{GFe(D.name,B.name,D.exact)&&KFe(B,D.formState||u,jt,D.reRenderRoot)&&D.callback({values:{...o},...n,...B,defaultValues:i})}}).unsubscribe,Be=D=>(s.mount=!0,d={...d,...D.formState},Fe({...D,formState:d})),ae=(D,B={})=>{for(const W of D?Hp(D):a.mount)a.mount.delete(W),a.array.delete(W),B.keepValue||(on(r,W),on(o,W)),!B.keepError&&on(n.errors,W),!B.keepDirty&&on(n.dirtyFields,W),!B.keepTouched&&on(n.touchedFields,W),!B.keepIsValidating&&on(n.validatingFields,W),!e.shouldUnregister&&!B.keepDefaultValue&&on(i,W);f.state.next({values:kn(o)}),f.state.next({...n,...B.keepDirty?{isDirty:T()}:{}}),!B.keepIsValid&&g()},Ae=({disabled:D,name:B})=>{(Eo(D)&&s.mount||D||a.disabled.has(B))&&(D?a.disabled.add(B):a.disabled.delete(B))},q=(D,B={})=>{let W=ge(r,D);const de=Eo(B.disabled)||Eo(e.disabled);return yt(r,D,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:D}},name:D,mount:!0,...B}}),a.mount.add(D),W?Ae({disabled:Eo(B.disabled)?B.disabled:e.disabled,name:D}):C(D,!0,B.value),{...de?{disabled:B.disabled||e.disabled}:{},...e.progressive?{required:!!B.required,min:Jh(B.min),max:Jh(B.max),minLength:Jh(B.minLength),maxLength:Jh(B.maxLength),pattern:Jh(B.pattern)}:{},name:D,onChange:F,onBlur:F,ref:oe=>{if(oe){q(D,B),W=ge(r,D);const te=an(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,Ee=BFe(te),ut=W._f.refs||[];if(Ee?ut.find(wt=>wt===te):te===W._f.ref)return;yt(r,D,{_f:{...W._f,...Ee?{refs:[...ut.filter(Mk),te,...Array.isArray(ge(i,D))?[{}]:[]],ref:{type:te.type,name:D}}:{ref:te}}}),C(D,!1,void 0,te)}else W=ge(r,D,{}),W._f&&(W._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!($Fe(a.array,D)&&s.action)&&a.unMount.add(D)}}},re=()=>e.shouldFocusError&&Up(r,j,a.mount),le=D=>{Eo(D)&&(f.state.next({disabled:D}),Up(r,(B,W)=>{const de=ge(r,W);de&&(B.disabled=de._f.disabled||D,Array.isArray(de._f.refs)&&de._f.refs.forEach(oe=>{oe.disabled=de._f.disabled||D}))},0,!1))},z=(D,B)=>async W=>{let de;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let oe=kn(o);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:te,values:Ee}=await E();n.errors=te,oe=kn(Ee)}else await O(r);if(a.disabled.size)for(const te of a.disabled)on(oe,te);if(on(n.errors,"root"),Nr(n.errors)){f.state.next({errors:{}});try{await D(oe,W)}catch(te){de=te}}else B&&await B({...n.errors},W),re(),setTimeout(re);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nr(n.errors)&&!de,submitCount:n.submitCount+1,errors:n.errors}),de)throw de},Oe=(D,B={})=>{ge(r,D)&&(an(B.defaultValue)?R(D,kn(ge(i,D))):(R(D,B.defaultValue),yt(i,D,kn(B.defaultValue))),B.keepTouched||on(n.touchedFields,D),B.keepDirty||(on(n.dirtyFields,D),n.isDirty=B.defaultValue?T(D,kn(ge(i,D))):T()),B.keepError||(on(n.errors,D),u.isValid&&g()),f.state.next({...n}))},Te=(D,B={})=>{const W=D?kn(D):i,de=kn(W),oe=Nr(D),te=oe?i:de;if(B.keepDefaultValues||(i=W),!B.keepValues){if(B.keepDirtyValues){const Ee=new Set([...a.mount,...Object.keys(Xh(i,o))]);for(const ut of Array.from(Ee))ge(n.dirtyFields,ut)?yt(te,ut,ge(o,ut)):R(ut,ge(te,ut))}else{if(W_&&an(D))for(const Ee of a.mount){const ut=ge(r,Ee);if(ut&&ut._f){const wt=Array.isArray(ut._f.refs)?ut._f.refs[0]:ut._f.ref;if(g0(wt)){const fi=wt.closest("form");if(fi){fi.reset();break}}}}if(B.keepFieldsRef)for(const Ee of a.mount)R(Ee,ge(te,Ee));else r={}}o=e.shouldUnregister?B.keepDefaultValues?kn(i):{}:kn(te),f.array.next({values:{...te}}),f.state.next({values:{...te}})}a={mount:B.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!u.isValid||!!B.keepIsValid||!!B.keepDirtyValues,s.watch=!!e.shouldUnregister,f.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:oe?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!_a(D,i)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:oe?{}:B.keepDirtyValues?B.keepDefaultValues&&o?Xh(i,o):n.dirtyFields:B.keepDefaultValues&&D?Xh(i,D):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ot=(D,B)=>Te(no(D)?D(o):D,B),ct=(D,B={})=>{const W=ge(r,D),de=W&&W._f;if(de){const oe=de.refs?de.refs[0]:de.ref;oe.focus&&(oe.focus(),B.shouldSelect&&no(oe.select)&&oe.select())}},jt=D=>{n={...n,...D}},pn={control:{register:q,unregister:ae,getFieldState:U,handleSubmit:z,setError:ie,_subscribe:Fe,_runSchema:E,_focusError:re,_getWatch:N,_getDirty:T,_setValid:g,_setFieldArray:v,_setDisabledField:Ae,_setErrors:x,_getFieldArray:$,_reset:Te,_resetDefaultValues:()=>no(e.defaultValues)&&e.defaultValues().then(D=>{ot(D,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:le,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return o},get _state(){return s},set _state(D){s=D},get _defaultValues(){return i},get _names(){return a},set _names(D){a=D},get _formState(){return n},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:Be,trigger:L,register:q,handleSubmit:z,watch:Ce,setValue:R,getValues:V,reset:ot,resetField:Oe,clearErrors:G,unregister:ae,setError:ie,setFocus:ct,getFieldState:U};return{...pn,formControl:pn}}function vq(t={}){const e=M.useRef(void 0),n=M.useRef(void 0),[r,i]=M.useState({isDirty:!1,isValidating:!1,isLoading:no(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:no(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!no(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:s,...a}=ZFe(t);e.current={...a,formState:r}}const o=e.current.control;return o._options=t,LFe(()=>{const s=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),o._formState.isReady=!0,s},[o]),M.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),M.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),M.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),M.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),M.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),M.useEffect(()=>{t.values&&!_a(t.values,n.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=t.values,i(s=>({...s}))):o._resetDefaultValues()},[o,t.values]),M.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=DFe(r,o),e.current}const hB=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ge(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},bq=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?hB(r.ref,n,t):r.refs&&r.refs.forEach(i=>hB(i,n,t))}},QFe=(t,e)=>{e.shouldUseNativeValidation&&bq(t,e);const n={};for(const r in t){const i=ge(e.fields,r),o=Object.assign(t[r]||{},{ref:i&&i.ref});if(eBe(e.names||Object.keys(t),r)){const s=Object.assign({},ge(n,r));yt(s,"root",o),yt(n,r,s)}else yt(n,r,o)}return n},eBe=(t,e)=>t.some(n=>n.startsWith(e+"."));var tBe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[s].types,c=l&&l[r.code];n[s]=dq(s,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},xq=function(t,e,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(s,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return o.shouldUseNativeValidation&&bq({},o),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(s){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(s))return{values:{},errors:QFe(tBe(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}}},rt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(rt||(rt={}));var pB;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(pB||(pB={}));const ve=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ca=t=>{switch(typeof t){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return Number.isNaN(t)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(t)?ve.array:t===null?ve.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ve.promise:typeof Map<"u"&&t instanceof Map?ve.map:typeof Set<"u"&&t instanceof Set?ve.set:typeof Date<"u"&&t instanceof Date?ve.date:ve.object;default:return ve.unknown}},Q=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Xs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Xs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];n[o]=n[o]||[],n[o].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Xs.create=t=>new Xs(t);const nBe=(t,e)=>{let n;switch(t.code){case Q.invalid_type:t.received===ve.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,rt.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${rt.joinValues(t.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${rt.joinValues(t.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${rt.joinValues(t.options)}, received '${t.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:rt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=e.defaultError,rt.assertNever(t)}return{message:n}},CT=nBe;let rBe=CT;function iBe(){return rBe}const oBe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}};function fe(t,e){const n=iBe(),r=oBe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===CT?void 0:CT].filter(i=>!!i)});t.common.issues.push(r)}class ai{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return De;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return ai.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return De;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const De=Object.freeze({status:"aborted"}),cp=t=>({status:"dirty",value:t}),Vi=t=>({status:"valid",value:t}),mB=t=>t.status==="aborted",gB=t=>t.status==="dirty",$f=t=>t.status==="valid",b0=t=>typeof Promise<"u"&&t instanceof Promise;var be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(be||(be={}));class kl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yB=(t,e)=>{if($f(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xs(t.common.issues);return this._error=n,this._error}}};function qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{const{message:l}=t;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class et{get description(){return this._def.description}_getType(e){return Ca(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ca(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ai,ctx:{common:e.parent.common,data:e.data,parsedType:Ca(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(b0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ca(e)},i=this._parseSync({data:e,path:r.path,parent:r});return yB(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ca(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return $f(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>$f(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ca(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(b0(i)?i:Promise.resolve(i));return yB(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:Q.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Rf({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return al.create(this,this._def)}nullable(){return Df.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Go.create(this)}promise(){return C0.create(this,this._def)}or(e){return w0.create([this,e],this._def)}and(e){return S0.create(this,e,this._def)}transform(e){return new Rf({...qe(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new OT({...qe(this._def),innerType:this,defaultValue:n,typeName:Le.ZodDefault})}brand(){return new TBe({typeName:Le.ZodBranded,type:this,...qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new TT({...qe(this._def),innerType:this,catchValue:n,typeName:Le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return q_.create(this,e)}readonly(){return NT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sBe=/^c[^\s-]{8,}$/i,aBe=/^[0-9a-z]+$/,lBe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,cBe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uBe=/^[a-z0-9_-]{21}$/i,dBe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,fBe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hBe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,pBe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let _k;const mBe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gBe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,yBe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vBe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bBe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xBe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wBe=new RegExp(`^${wq}$`);function Sq(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function SBe(t){return new RegExp(`^${Sq(t)}$`)}function CBe(t){let e=`${wq}T${Sq(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function kBe(t,e){return!!((e==="v4"||!e)&&mBe.test(t)||(e==="v6"||!e)&&yBe.test(t))}function EBe(t,e){if(!dBe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function ABe(t,e){return!!((e==="v4"||!e)&&gBe.test(t)||(e==="v6"||!e)&&vBe.test(t))}class Ka extends et{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ve.string){const o=this._getOrReturnCtx(e);return fe(o,{code:Q.invalid_type,expected:ve.string,received:o.parsedType}),De}const r=new ai;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?fe(i,{code:Q.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&fe(i,{code:Q.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")hBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"email",code:Q.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")_k||(_k=new RegExp(pBe,"u")),_k.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"emoji",code:Q.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")cBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"uuid",code:Q.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")uBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"nanoid",code:Q.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")sBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid",code:Q.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")aBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cuid2",code:Q.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")lBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ulid",code:Q.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),fe(i,{validation:"url",code:Q.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"regex",code:Q.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?CBe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?wBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?SBe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?fBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"duration",code:Q.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?kBe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"ip",code:Q.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?EBe(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"jwt",code:Q.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?ABe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"cidr",code:Q.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?bBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64",code:Q.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?xBe.test(e.data)||(i=this._getOrReturnCtx(e,i),fe(i,{validation:"base64url",code:Q.invalid_string,message:o.message}),r.dirty()):rt.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Q.invalid_string,...be.errToObj(r)})}_addCheck(e){return new Ka({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...be.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...be.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...be.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...be.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...be.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...be.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...be.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...be.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...be.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...be.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...be.errToObj(n)})}nonempty(e){return this.min(1,be.errToObj(e))}trim(){return new Ka({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ka({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ka({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ka.create=t=>new Ka({checks:[],typeName:Le.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...qe(t)});function OBe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(t.toFixed(i).replace(".","")),s=Number.parseInt(e.toFixed(i).replace(".",""));return o%s/10**i}class pg extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ve.number){const o=this._getOrReturnCtx(e);return fe(o,{code:Q.invalid_type,expected:ve.number,received:o.parsedType}),De}let r;const i=new ai;for(const o of this._def.checks)o.kind==="int"?rt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:Q.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:Q.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:Q.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?OBe(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),fe(r,{code:Q.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),fe(r,{code:Q.not_finite,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,be.toString(n))}gt(e,n){return this.setLimit("min",e,!1,be.toString(n))}lte(e,n){return this.setLimit("max",e,!0,be.toString(n))}lt(e,n){return this.setLimit("max",e,!1,be.toString(n))}setLimit(e,n,r,i){return new pg({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:be.toString(i)}]})}_addCheck(e){return new pg({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&rt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}pg.create=t=>new pg({checks:[],typeName:Le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class mg extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ve.bigint)return this._getInvalidInput(e);let r;const i=new ai;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:Q.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:Q.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),fe(r,{code:Q.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):rt.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return fe(n,{code:Q.invalid_type,expected:ve.bigint,received:n.parsedType}),De}gte(e,n){return this.setLimit("min",e,!0,be.toString(n))}gt(e,n){return this.setLimit("min",e,!1,be.toString(n))}lte(e,n){return this.setLimit("max",e,!0,be.toString(n))}lt(e,n){return this.setLimit("max",e,!1,be.toString(n))}setLimit(e,n,r,i){return new mg({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:be.toString(i)}]})}_addCheck(e){return new mg({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:be.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}mg.create=t=>new mg({checks:[],typeName:Le.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...qe(t)});class kT extends et{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ve.boolean){const r=this._getOrReturnCtx(e);return fe(r,{code:Q.invalid_type,expected:ve.boolean,received:r.parsedType}),De}return Vi(e.data)}}kT.create=t=>new kT({typeName:Le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...qe(t)});class x0 extends et{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ve.date){const o=this._getOrReturnCtx(e);return fe(o,{code:Q.invalid_type,expected:ve.date,received:o.parsedType}),De}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return fe(o,{code:Q.invalid_date}),De}const r=new ai;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),fe(i,{code:Q.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):rt.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new x0({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:be.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:be.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}x0.create=t=>new x0({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Le.ZodDate,...qe(t)});class vB extends et{_parse(e){if(this._getType(e)!==ve.symbol){const r=this._getOrReturnCtx(e);return fe(r,{code:Q.invalid_type,expected:ve.symbol,received:r.parsedType}),De}return Vi(e.data)}}vB.create=t=>new vB({typeName:Le.ZodSymbol,...qe(t)});class bB extends et{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:Q.invalid_type,expected:ve.undefined,received:r.parsedType}),De}return Vi(e.data)}}bB.create=t=>new bB({typeName:Le.ZodUndefined,...qe(t)});class xB extends et{_parse(e){if(this._getType(e)!==ve.null){const r=this._getOrReturnCtx(e);return fe(r,{code:Q.invalid_type,expected:ve.null,received:r.parsedType}),De}return Vi(e.data)}}xB.create=t=>new xB({typeName:Le.ZodNull,...qe(t)});class wB extends et{constructor(){super(...arguments),this._any=!0}_parse(e){return Vi(e.data)}}wB.create=t=>new wB({typeName:Le.ZodAny,...qe(t)});class SB extends et{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vi(e.data)}}SB.create=t=>new SB({typeName:Le.ZodUnknown,...qe(t)});class El extends et{_parse(e){const n=this._getOrReturnCtx(e);return fe(n,{code:Q.invalid_type,expected:ve.never,received:n.parsedType}),De}}El.create=t=>new El({typeName:Le.ZodNever,...qe(t)});class CB extends et{_parse(e){if(this._getType(e)!==ve.undefined){const r=this._getOrReturnCtx(e);return fe(r,{code:Q.invalid_type,expected:ve.void,received:r.parsedType}),De}return Vi(e.data)}}CB.create=t=>new CB({typeName:Le.ZodVoid,...qe(t)});class Go extends et{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ve.array)return fe(n,{code:Q.invalid_type,expected:ve.array,received:n.parsedType}),De;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(fe(n,{code:s?Q.too_big:Q.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(fe(n,{code:Q.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(fe(n,{code:Q.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new kl(n,s,n.path,a)))).then(s=>ai.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new kl(n,s,n.path,a)));return ai.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Go({...this._def,minLength:{value:e,message:be.toString(n)}})}max(e,n){return new Go({...this._def,maxLength:{value:e,message:be.toString(n)}})}length(e,n){return new Go({...this._def,exactLength:{value:e,message:be.toString(n)}})}nonempty(e){return this.min(1,e)}}Go.create=(t,e)=>new Go({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...qe(e)});function Ju(t){if(t instanceof Gt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=al.create(Ju(r))}return new Gt({...t._def,shape:()=>e})}else return t instanceof Go?new Go({...t._def,type:Ju(t.element)}):t instanceof al?al.create(Ju(t.unwrap())):t instanceof Df?Df.create(Ju(t.unwrap())):t instanceof lu?lu.create(t.items.map(e=>Ju(e))):t}class Gt extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=rt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ve.object){const c=this._getOrReturnCtx(e);return fe(c,{code:Q.invalid_type,expected:ve.object,received:c.parsedType}),De}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof El&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||a.push(c);const l=[];for(const c of s){const u=o[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new kl(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof El){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(fe(i,{code:Q.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new kl(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>ai.mergeObjectSync(r,c)):ai.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return be.errToObj,new Gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:be.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Gt({...this._def,unknownKeys:"strip"})}passthrough(){return new Gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Gt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Gt({...this._def,catchall:e})}pick(e){const n={};for(const r of rt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Gt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of rt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Gt({...this._def,shape:()=>n})}deepPartial(){return Ju(this)}partial(e){const n={};for(const r of rt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Gt({...this._def,shape:()=>n})}required(e){const n={};for(const r of rt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof al;)o=o._def.innerType;n[r]=o}return new Gt({...this._def,shape:()=>n})}keyof(){return Cq(rt.objectKeys(this.shape))}}Gt.create=(t,e)=>new Gt({shape:()=>t,unknownKeys:"strip",catchall:El.create(),typeName:Le.ZodObject,...qe(e)});Gt.strictCreate=(t,e)=>new Gt({shape:()=>t,unknownKeys:"strict",catchall:El.create(),typeName:Le.ZodObject,...qe(e)});Gt.lazycreate=(t,e)=>new Gt({shape:t,unknownKeys:"strip",catchall:El.create(),typeName:Le.ZodObject,...qe(e)});class w0 extends et{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Xs(a.ctx.common.issues));return fe(n,{code:Q.invalid_union,unionErrors:s}),De}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Xs(l));return fe(n,{code:Q.invalid_union,unionErrors:a}),De}}get options(){return this._def.options}}w0.create=(t,e)=>new w0({options:t,typeName:Le.ZodUnion,...qe(e)});function ET(t,e){const n=Ca(t),r=Ca(e);if(t===e)return{valid:!0,data:t};if(n===ve.object&&r===ve.object){const i=rt.objectKeys(e),o=rt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const l=ET(t[a],e[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===ve.array&&r===ve.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],l=ET(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ve.date&&r===ve.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class S0 extends et{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(mB(o)||mB(s))return De;const a=ET(o.value,s.value);return a.valid?((gB(o)||gB(s))&&n.dirty(),{status:n.value,value:a.data}):(fe(r,{code:Q.invalid_intersection_types}),De)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}S0.create=(t,e,n)=>new S0({left:t,right:e,typeName:Le.ZodIntersection,...qe(n)});class lu extends et{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.array)return fe(r,{code:Q.invalid_type,expected:ve.array,received:r.parsedType}),De;if(r.data.length<this._def.items.length)return fe(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),De;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new kl(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>ai.mergeArray(n,s)):ai.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new lu({...this._def,rest:e})}}lu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lu({items:t,typeName:Le.ZodTuple,rest:null,...qe(e)})};class kB extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.map)return fe(r,{code:Q.invalid_type,expected:ve.map,received:r.parsedType}),De;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new kl(r,a,r.path,[c,"key"])),value:o._parse(new kl(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return De;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return De;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}kB.create=(t,e,n)=>new kB({valueType:e,keyType:t,typeName:Le.ZodMap,...qe(n)});class gg extends et{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ve.set)return fe(r,{code:Q.invalid_type,expected:ve.set,received:r.parsedType}),De;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(fe(r,{code:Q.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(fe(r,{code:Q.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return De;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>o._parse(new kl(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(e,n){return new gg({...this._def,minSize:{value:e,message:be.toString(n)}})}max(e,n){return new gg({...this._def,maxSize:{value:e,message:be.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}gg.create=(t,e)=>new gg({valueType:t,minSize:null,maxSize:null,typeName:Le.ZodSet,...qe(e)});class EB extends et{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}EB.create=(t,e)=>new EB({getter:t,typeName:Le.ZodLazy,...qe(e)});class AT extends et{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return fe(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),De}return{status:"valid",value:e.data}}get value(){return this._def.value}}AT.create=(t,e)=>new AT({value:t,typeName:Le.ZodLiteral,...qe(e)});function Cq(t,e){return new If({values:t,typeName:Le.ZodEnum,...qe(e)})}class If extends et{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{expected:rt.joinValues(r),received:n.parsedType,code:Q.invalid_type}),De}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return fe(n,{received:n.data,code:Q.invalid_enum_value,options:r}),De}return Vi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return If.create(e,{...this._def,...n})}exclude(e,n=this._def){return If.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}If.create=Cq;class AB extends et{_parse(e){const n=rt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ve.string&&r.parsedType!==ve.number){const i=rt.objectValues(n);return fe(r,{expected:rt.joinValues(i),received:r.parsedType,code:Q.invalid_type}),De}if(this._cache||(this._cache=new Set(rt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=rt.objectValues(n);return fe(r,{received:r.data,code:Q.invalid_enum_value,options:i}),De}return Vi(e.data)}get enum(){return this._def.values}}AB.create=(t,e)=>new AB({values:t,typeName:Le.ZodNativeEnum,...qe(e)});class C0 extends et{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ve.promise&&n.common.async===!1)return fe(n,{code:Q.invalid_type,expected:ve.promise,received:n.parsedType}),De;const r=n.parsedType===ve.promise?n.data:Promise.resolve(n.data);return Vi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}C0.create=(t,e)=>new C0({type:t,typeName:Le.ZodPromise,...qe(e)});class Rf extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{fe(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return De;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?De:l.status==="dirty"||n.value==="dirty"?cp(l.value):l});{if(n.value==="aborted")return De;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?De:a.status==="dirty"||n.value==="dirty"?cp(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?De:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?De:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!$f(s))return De;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>$f(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):De);rt.assertNever(i)}}Rf.create=(t,e,n)=>new Rf({schema:t,typeName:Le.ZodEffects,effect:e,...qe(n)});Rf.createWithPreprocess=(t,e,n)=>new Rf({schema:e,effect:{type:"preprocess",transform:t},typeName:Le.ZodEffects,...qe(n)});class al extends et{_parse(e){return this._getType(e)===ve.undefined?Vi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:Le.ZodOptional,...qe(e)});class Df extends et{_parse(e){return this._getType(e)===ve.null?Vi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Df.create=(t,e)=>new Df({innerType:t,typeName:Le.ZodNullable,...qe(e)});class OT extends et{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ve.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}OT.create=(t,e)=>new OT({innerType:t,typeName:Le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...qe(e)});class TT extends et{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return b0(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Xs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}TT.create=(t,e)=>new TT({innerType:t,typeName:Le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...qe(e)});class OB extends et{_parse(e){if(this._getType(e)!==ve.nan){const r=this._getOrReturnCtx(e);return fe(r,{code:Q.invalid_type,expected:ve.nan,received:r.parsedType}),De}return{status:"valid",value:e.data}}}OB.create=t=>new OB({typeName:Le.ZodNaN,...qe(t)});class TBe extends et{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class q_ extends et{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?De:o.status==="dirty"?(n.dirty(),cp(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?De:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new q_({in:e,out:n,typeName:Le.ZodPipeline})}}class NT extends et{_parse(e){const n=this._def.innerType._parse(e),r=i=>($f(i)&&(i.value=Object.freeze(i.value)),i);return b0(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}NT.create=(t,e)=>new NT({innerType:t,typeName:Le.ZodReadonly,...qe(e)});Gt.lazycreate;var Le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Le||(Le={}));const fr=Ka.create,Ku=kT.create;El.create;Go.create;const kq=Gt.create;Gt.strictCreate;w0.create;S0.create;lu.create;const NBe=AT.create,PT=If.create;C0.create;al.create;Df.create;var PBe="Label",Eq=w.forwardRef((t,e)=>m.jsx(ye.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Eq.displayName=PBe;var Aq=Eq;const MBe=o1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vt=w.forwardRef(({className:t,...e},n)=>m.jsx(Aq,{ref:n,className:ce(MBe(),t),...e}));vt.displayName=Aq.displayName;function Y_(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var kS="Checkbox",[_Be,jtt]=Or(kS),[jBe,X_]=_Be(kS);function $Be(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:o,form:s,name:a,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:d}=t,[f,h]=qo({prop:n,defaultProp:i??!1,onChange:l,caller:kS}),[p,g]=w.useState(null),[y,v]=w.useState(null),b=w.useRef(!1),x=p?!!s||!!p.closest("form"):!0,C={checked:f,disabled:o,setChecked:h,control:p,setControl:g,name:a,form:s,value:u,hasConsumerStoppedPropagationRef:b,required:c,defaultChecked:ll(i)?!1:i,isFormControl:x,bubbleInput:y,setBubbleInput:v};return m.jsx(jBe,{scope:e,...C,children:IBe(d)?d(C):r})}var Oq="CheckboxTrigger",Tq=w.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:o,value:s,disabled:a,checked:l,required:c,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:p}=X_(Oq,t),g=Re(i,u),y=w.useRef(l);return w.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const b=()=>d(y.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[o,d]),m.jsx(ye.button,{type:"button",role:"checkbox","aria-checked":ll(l)?"mixed":l,"aria-required":c,"data-state":jq(l),"data-disabled":a?"":void 0,disabled:a,value:s,...r,ref:g,onKeyDown:xe(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:xe(n,v=>{d(b=>ll(b)?!0:!b),p&&h&&(f.current=v.isPropagationStopped(),f.current||v.stopPropagation())})})});Tq.displayName=Oq;var J_=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l,onCheckedChange:c,form:u,...d}=t;return m.jsx($Be,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:a,required:s,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:f})=>m.jsxs(m.Fragment,{children:[m.jsx(Tq,{...d,ref:e,__scopeCheckbox:n}),f&&m.jsx(_q,{__scopeCheckbox:n})]})})});J_.displayName=kS;var Nq="CheckboxIndicator",Pq=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=X_(Nq,n);return m.jsx(jl,{present:r||ll(o.checked)||o.checked===!0,children:m.jsx(ye.span,{"data-state":jq(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Pq.displayName=Nq;var Mq="CheckboxBubbleInput",_q=w.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:s,required:a,disabled:l,name:c,value:u,form:d,bubbleInput:f,setBubbleInput:h}=X_(Mq,t),p=Re(n,h),g=Y_(o),y=v1(r);w.useEffect(()=>{const b=f;if(!b)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,k=!i.current;if(g!==o&&S){const E=new Event("click",{bubbles:k});b.indeterminate=ll(o),S.call(b,ll(o)?!1:o),b.dispatchEvent(E)}},[f,g,o,i]);const v=w.useRef(ll(o)?!1:o);return m.jsx(ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??v.current,required:a,disabled:l,name:c,value:u,form:d,...e,tabIndex:-1,ref:p,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_q.displayName=Mq;function IBe(t){return typeof t=="function"}function ll(t){return t==="indeterminate"}function jq(t){return ll(t)?"indeterminate":t?"checked":"unchecked"}const Ss=w.forwardRef(({className:t,...e},n)=>m.jsx(J_,{ref:n,className:ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(Pq,{className:ce("flex items-center justify-center text-current"),children:m.jsx(tM,{className:"h-4 w-4"})})}));Ss.displayName=J_.displayName;function Dn(t){this.content=t}Dn.prototype={constructor:Dn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Dn(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Dn(n)},addToStart:function(t,e){return new Dn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Dn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Dn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Dn.from(t),t.size?new Dn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Dn.from(t),t.size?new Dn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Dn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Dn.from=function(t){if(t instanceof Dn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Dn(e)};function $q(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=$q(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function Iq(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=Iq(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}let ee=class cr{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new cr(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new cr(r,i)}cutByIndex(e,n){return e==n?cr.empty:e==0&&n==this.content.length?this:new cr(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new cr(i,o)}addToStart(e){return new cr([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new cr(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return $q(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Iq(this,e,n,r)}findIndex(e){if(e==0)return yv(0,e);if(e==this.size)return yv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?yv(n+1,o):yv(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return cr.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new cr(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return cr.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new cr(n||e,r)}static from(e){if(!e)return cr.empty;if(e instanceof cr)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new cr([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};ee.empty=new ee([],0);const jk={index:0,offset:0};function yv(t,e){return jk.index=t,jk.offset=e,jk}function k0(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!k0(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!k0(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let bt=class MT{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&k0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return MT.none;if(e instanceof MT)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};bt.none=[];let E0=class extends Error{},he=class Zu{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Dq(this.content,e+this.openStart,n);return r&&new Zu(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Zu(Rq(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Zu.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Zu(ee.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Zu(e,r,i)}};he.empty=new he(ee.empty,0,0);function Rq(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(Rq(o.content,e-i-1,n-i-1)))}function Dq(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=Dq(s.content,e-o-1,n,s);return a&&t.replaceChild(i,s.copy(a))}function RBe(t,e,n){if(n.openStart>t.depth)throw new E0("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new E0("Inconsistent open depths");return Lq(t,e,n,0)}function Lq(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=Lq(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return Dc(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=DBe(n,t);return Dc(o,Bq(t,s,a,e,r))}else return Dc(o,A0(t,e,r))}function Fq(t,e){if(!e.type.compatibleContent(t.type))throw new E0("Cannot join "+e.type.name+" onto "+t.type.name)}function _T(t,e,n){let r=t.node(n);return Fq(r,e.node(n)),r}function Rc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Kp(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Rc(t.nodeAfter,r),o++));for(let a=o;a<s;a++)Rc(i.child(a),r);e&&e.depth==n&&e.textOffset&&Rc(e.nodeBefore,r)}function Dc(t,e){return t.type.checkContent(e),t.copy(e)}function Bq(t,e,n,r,i){let o=t.depth>i&&_T(t,e,i+1),s=r.depth>i&&_T(n,r,i+1),a=[];return Kp(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(Fq(o,s),Rc(Dc(o,Bq(t,e,n,r,i+1)),a)):(o&&Rc(Dc(o,A0(t,e,i+1)),a),Kp(e,n,i,a),s&&Rc(Dc(s,A0(n,r,i+1)),a)),Kp(r,null,i,a),new ee(a)}function A0(t,e,n){let r=[];if(Kp(null,t,n,r),t.depth>n){let i=_T(t,e,n+1);Rc(Dc(i,A0(t,e,n+1)),r)}return Kp(e,null,n,r),new ee(r)}function DBe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(ee.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}let TB=class jT{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return bt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new O0(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new jT(n,r,o)}static resolveCached(e,n){let r=NB.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else NB.set(e,r=new LBe);let i=r.elts[r.i]=jT.resolve(e,n);return r.i=(r.i+1)%FBe,i}},LBe=class{constructor(){this.elts=[],this.i=0}};const FBe=12,NB=new WeakMap;let O0=class{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}};const BBe=Object.create(null);let cl=class $T{constructor(e,n,r,i=bt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ee.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&k0(this.attrs,n||e.defaultAttrs||BBe)&&bt.sameSet(this.marks,r||bt.none)}copy(e=null){return e==this.content?this:new $T(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new $T(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return he.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new he(c,i.depth-s,o.depth-s)}replace(e,n,r){return RBe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return TB.resolveCached(this,e)}resolveNoCache(e){return TB.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),zq(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ee.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=bt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!bt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ee.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};cl.prototype.text=void 0;let zBe=class IT extends cl{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):zq(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new IT(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new IT(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function zq(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}let yg=class Vq{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new VBe(e,n);if(r.next==null)return Vq.empty;let i=Wq(r);r.next&&r.err("Unexpected trailing text");let o=YBe(qBe(i));return XBe(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return ee.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}};yg.empty=new yg(!0);let VBe=class{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function Wq(t){let e=[];do e.push(WBe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function WBe(t){let e=[];do e.push(HBe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function HBe(t){let e=GBe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=UBe(t,e);else break;return e}function PB(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function UBe(t,e){let n=PB(t),r=n;return t.eat(",")&&(t.next!="}"?r=PB(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function KBe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function GBe(t){if(t.eat("(")){let e=Wq(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=KBe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function qBe(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function Hq(t,e){return e-t}function MB(t,e){let n=[];return r(e),n.sort(Hq);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function YBe(t){let e=Object.create(null);return n(MB(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);MB(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new yg(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(Hq);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function XBe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Uq(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Kq(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Gq(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function qq(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new ZBe(t,r,e[r]);return n}let _B=class Yq{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=qq(e,r.attrs),this.defaultAttrs=Uq(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yg.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Kq(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new cl(this,this.computeAttrs(e),ee.from(n),bt.setFrom(r))}createChecked(e=null,n,r){return n=ee.from(n),this.checkContent(n),new cl(this,this.computeAttrs(e),n,bt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ee.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(ee.empty,!0);return o?new cl(this,e,n.append(o),bt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Gq(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:bt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new Yq(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function JBe(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}let ZBe=class{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?JBe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}},Xq=class Jq{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=qq(e,i.attrs),this.excluded=null;let o=Uq(this.attrs);this.instance=o?new bt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new bt(this,Kq(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Jq(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Gq(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}},Zq=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Dn.from(e.nodes),n.marks=Dn.from(e.marks||{}),this.nodes=_B.compile(this.spec.nodes,this),this.marks=Xq.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=yg.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?jB(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:jB(this,s.split(" "))}this.nodeFromJSON=i=>cl.fromJSON(this,i),this.markFromJSON=i=>bt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof _B){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new zBe(r,r.defaultAttrs,e,bt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function jB(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function QBe(t){return t.tag!=null}function e3e(t){return t.style!=null}let Gp=class RT{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(QBe(i))this.tags.push(i);else if(e3e(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new IB(this,n,!1);return r.addAll(e,bt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new IB(this,n,!0);return r.addAll(e,bt.none,n.from,n.to),he.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(r3e(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=RB(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=RB(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new RT(e,RT.schemaRules(e)))}};const Qq={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},t3e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},e7={ol:!0,ul:!0},vg=1,DT=2,qp=4;function $B(t,e,n){return e!=null?(e?vg:0)|(e==="full"?DT:0):t&&t.whitespace=="pre"?vg|DT:n&~qp}let vv=class{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=bt.none,this.match=o||(s&qp?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ee.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&vg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=ee.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ee.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Qq.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},IB=class{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,s=$B(null,n.preserveWhitespace,0)|(r?qp:0);i?o=new vv(i.type,i.attrs,bt.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new vv(null,null,bt.none,!0,null,s):o=new vv(e.schema.topNodeType,null,bt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&DT?"full":this.localPreserveWS||(i.options&vg)>0,{schema:s}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(s.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(s.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(s.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(s.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(s.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;e7.hasOwnProperty(s)&&this.parser.normalizeLists&&n3e(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:t3e.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(Qq.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,o=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(o);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let s=bt.none;for(let a of i.concat(e.marks))(o.type?o.type.allowsMarkType(a.type):DB(a.type,e.type))&&(s=a.addToSet(s));return o.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=$B(e,o,s.options);s.options&qp&&s.content.length==0&&(a|=qp);let l=bt.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):DB(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new vv(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=vg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}};function n3e(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&e7.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function r3e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function RB(t){let e={};for(let n in t)e[n]=t[n];return e}function DB(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}let my=class t7{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=$k(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=ub($k(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&ub($k(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return ub(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new t7(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=LB(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return LB(e.marks)}};function LB(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function $k(t){return t.document||window.document}const FB=new WeakMap;function i3e(t){let e=FB.get(t);return e===void 0&&FB.set(t,e=o3e(t)),e}function o3e(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function ub(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=i3e(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=ub(t,f,n,r);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const n7=65535,r7=Math.pow(2,16);function s3e(t,e){return t+e*r7}function BB(t){return t&n7}function a3e(t){return(t-(t&n7))/r7}const i7=1,o7=2,db=4,s7=8;let LT=class{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&s7)>0}get deletedBefore(){return(this.delInfo&(i7|db))>0}get deletedAfter(){return(this.delInfo&(o7|db))>0}get deletedAcross(){return(this.delInfo&db)>0}},cu=class Qu{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Qu.empty)return Qu.empty}recover(e){let n=0,r=BB(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+a3e(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let p=e==(n<0?l:d)?null:s3e(a/3,e-l),g=e==l?o7:e==d?i7:db;return(n<0?e!=l:e!=d)&&(g|=s7),new LT(h,g,p)}i+=u-c}return r?e+i:new LT(e+i,0,null)}touches(e,n){let r=0,i=BB(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new Qu(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Qu.empty:new Qu(e<0?[0,-e,0]:[0,0,e])}};cu.empty=new cu([]);let a7=class FT{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new FT(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new FT;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new LT(e,i,null)}};const Ik=Object.create(null);let sr=class{getMap(){return cu.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ik[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ik)throw new RangeError("Duplicate use of step JSON ID "+e);return Ik[e]=n,n.prototype.jsonID=e,n}},xr=class up{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new up(e,null)}static fail(e){return new up(null,e)}static fromReplace(e,n,r,i){try{return up.ok(e.replace(n,r,i))}catch(o){if(o instanceof E0)return up.fail(o.message);throw o}}};function Z_(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Z_(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return ee.fromArray(r)}let Q_=class dp extends sr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new he(Z_(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return xr.fromReplace(e,this.from,this.to,o)}invert(){return new Sh(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new dp(n.pos,r.pos,this.mark)}merge(e){return e instanceof dp&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new dp(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new dp(n.from,n.to,e.markFromJSON(n.mark))}};sr.jsonID("addMark",Q_);let Sh=class fp extends sr{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new he(Z_(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return xr.fromReplace(e,this.from,this.to,r)}invert(){return new Q_(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new fp(n.pos,r.pos,this.mark)}merge(e){return e instanceof fp&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fp(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new fp(n.from,n.to,e.markFromJSON(n.mark))}};sr.jsonID("removeMark",Sh);let ej=class hp extends sr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return xr.fromReplace(e,this.pos,this.pos+1,new he(ee.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new hp(this.pos,n.marks[i]);return new hp(this.pos,this.mark)}}return new T0(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hp(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new hp(n.pos,e.markFromJSON(n.mark))}};sr.jsonID("addNodeMark",ej);let T0=class BT extends sr{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return xr.fromReplace(e,this.pos,this.pos+1,new he(ee.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ej(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new BT(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new BT(n.pos,e.markFromJSON(n.mark))}};sr.jsonID("removeNodeMark",T0);let po=class rc extends sr{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&zT(e,this.from,this.to)?xr.fail("Structure replace would overwrite content"):xr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new cu([this.from,this.to-this.from,this.slice.size])}invert(e){return new rc(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new rc(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof rc)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?he.empty:new he(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new rc(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?he.empty:new he(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new rc(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new rc(n.from,n.to,he.fromJSON(e,n.slice),!!n.structure)}};sr.jsonID("replace",po);let Fr=class fb extends sr{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(zT(e,this.from,this.gapFrom)||zT(e,this.gapTo,this.to)))return xr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return xr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?xr.fromReplace(e,this.from,this.to,r):xr.fail("Content does not fit in gap")}getMap(){return new cu([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new fb(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new fb(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new fb(n.from,n.to,n.gapFrom,n.gapTo,he.fromJSON(e,n.slice),n.insert,!!n.structure)}};sr.jsonID("replaceAround",Fr);function zT(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function l3e(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=h:i.push(s=new Sh(f,h,d[g])));a&&a.to==f?a.to=h:o.push(a=new Q_(f,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function c3e(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof Xq){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new Sh(s.from,s.to,s.style)))}function tj(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new po(a,u,he.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Sh(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new he(ee.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new po(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore(ee.empty,!0);t.replace(a,a,new he(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function u3e(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ch(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,o=0;;--r){let s=t.$from.node(r),a=t.$from.index(r)+i,l=t.$to.indexAfter(r)-o;if(r<t.depth&&s.canReplace(a,l,n))return r;if(r==0||s.type.spec.isolating||!u3e(s,a,l))break;a&&(i=1),l<s.childCount&&(o=1)}return null}function d3e(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=ee.empty,d=0;for(let p=o,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=ee.from(r.node(p).copy(u)),d++):l--;let f=ee.empty,h=0;for(let p=o,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,f=ee.from(i.node(p).copy(f)),h++):c++;t.step(new Fr(l,c,s,a,new he(u.append(f),d,h),u.size-d,!0))}function nj(t,e,n=null,r=t){let i=f3e(t,e),o=i&&h3e(r,e);return o?i.map(zB).concat({type:e,attrs:n}).concat(o.map(zB)):null}function zB(t){return{type:t,attrs:null}}function f3e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function h3e(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function p3e(t,e,n){let r=ee.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ee.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Fr(i,o,i,o,new he(r,0,0),n.length,!0))}function m3e(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&g3e(t.doc,t.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&c7(t,s,a,o),tj(t,t.mapping.slice(o).map(a,1),r,void 0,c===null);let u=t.mapping.slice(o),d=u.map(a,1),f=u.map(a+s.nodeSize,1);return t.step(new Fr(d,f,d+1,f-1,new he(ee.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&l7(t,s,a,o),!1}})}function l7(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function c7(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function g3e(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function y3e(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Fr(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new he(ee.from(s),0,0),1,!0))}function Dd(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function v3e(t,e,n=1,r){let i=t.doc.resolve(e),o=ee.empty,s=ee.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=ee.from(i.node(a).copy(o));let u=r&&r[c];s=ee.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new po(e,e,new he(o.append(s),n,n),!0))}function Fl(t,e){let n=t.resolve(e),r=n.index();return u7(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function b3e(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function u7(t,e){return!!(t&&e&&!t.isLeaf&&b3e(t,e))}function ES(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&u7(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function x3e(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);c7(t,u.node(),u.before(),a)}s.inlineContent&&tj(t,e+n-1,s,o.node().contentMatchAt(o.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new po(c,l.map(e+n,-1),he.empty,!0)),r===!0){let u=t.doc.resolve(c);l7(t,u.node(),u.before(),t.steps.length)}return t}function w3e(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function d7(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function AS(t,e,n=e,r=he.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return f7(i,o,r)?new po(e,n,r):new S3e(i,o,r).fit()}function f7(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}let S3e=class{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ee.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ee.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new he(o,s,a);return e>-1?new Fr(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new po(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Rk(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(ee.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Rk(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new he(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Rk(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new he(pp(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new he(pp(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),y=d.matchType(g.type);if(!y)break;c++,(c>1||l==0||g.content.size)&&(d=y,u.push(h7(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=mp(this.placed,n,ee.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<h;g++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=p?e==0?he.empty:new he(pp(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new he(pp(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Dk(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Dk(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Dk(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=mp(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=mp(this.placed,this.depth,ee.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ee.empty,!0);n.childCount&&(this.placed=mp(this.placed,this.frontier.length,n))}};function pp(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(pp(t.firstChild.content,e-1,n)))}function mp(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(mp(t.lastChild.content,e-1,n)))}function Rk(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function h7(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,h7(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ee.empty,!0)))),t.copy(r)}function Dk(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!C3e(n,o.content,s)?a:null}function C3e(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function k3e(t){return t.spec.defining||t.spec.definingForContent}function E3e(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(f7(i,o,r))return t.step(new po(e,n,r));let s=m7(i,o);s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=k3e(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(p)for(let g=0;g<s.length;g++){let y=s[(g+l)%s.length],v=!0;y<0&&(v=!1,y=-y);let b=i.node(y-1),x=i.index(y-1);if(b.canReplaceWith(x,x,p.type,p.marks))return t.replace(i.before(y),v?o.after(y):n,new he(p7(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}function p7(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(p7(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(ee.empty,!0))}return t}function A3e(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=w3e(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new he(ee.from(r),0,0))}function O3e(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=m7(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function m7(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}let g7=class hb extends sr{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return xr.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return xr.fromReplace(e,this.pos,this.pos+1,new he(ee.from(i),0,n.isLeaf?0:1))}getMap(){return cu.empty}invert(e){return new hb(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new hb(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new hb(n.pos,n.attr,n.value)}};sr.jsonID("attr",g7);let y7=class VT extends sr{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return xr.ok(r)}getMap(){return cu.empty}invert(e){return new VT(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new VT(n.attr,n.value)}};sr.jsonID("docAttr",y7);let Lf=class extends Error{};Lf=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Lf.prototype=Object.create(Error.prototype);Lf.prototype.constructor=Lf;Lf.prototype.name="TransformError";let v7=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new a7}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Lf(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let i=this.mapping.maps[r];r&&(e=i.map(e,1),n=i.map(n,-1)),i.forEach((o,s,a,l)=>{e=Math.min(e,a),n=Math.max(n,l)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=he.empty){let i=AS(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new he(ee.from(r),0,0))}delete(e,n){return this.replace(e,n,he.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return E3e(this,e,n,r),this}replaceRangeWith(e,n,r){return A3e(this,e,n,r),this}deleteRange(e,n){return O3e(this,e,n),this}lift(e,n){return d3e(this,e,n),this}join(e,n=1){return x3e(this,e,n),this}wrap(e,n){return p3e(this,e,n),this}setBlockType(e,n=e,r,i=null){return m3e(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return y3e(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new g7(e,n,r)),this}setDocAttribute(e,n){return this.step(new y7(e,n)),this}addNodeMark(e,n){return this.step(new ej(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof bt)n.isInSet(r.marks)&&this.step(new T0(e,n));else{let i=r.marks,o,s=[];for(;o=n.isInSet(i);)s.push(new T0(e,o)),i=o.removeFromSet(i);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(e,n=1,r){return v3e(this,e,n,r),this}addMark(e,n,r){return l3e(this,e,n,r),this}removeMark(e,n,r){return c3e(this,e,n,r),this}clearIncompatible(e,n,r){return tj(this,e,n,r),this}};const Lk=Object.create(null);let Me=class{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new b7(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=he.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?he.empty:n),a==0&&HB(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),HB(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new We(e):ed(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?ed(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):ed(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ul(e.node(0))}static atStart(e){return ed(e,e,0,0,1)||new ul(e)}static atEnd(e){return ed(e,e,e.content.size,e.childCount,-1)||new ul(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Lk[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Lk)throw new RangeError("Duplicate use of selection JSON ID "+e);return Lk[e]=n,n.prototype.jsonID=e,n}getBookmark(){return We.between(this.$anchor,this.$head).getBookmark()}};Me.prototype.visible=!0;let b7=class{constructor(e,n){this.$from=e,this.$to=n}},VB=!1;function WB(t){!VB&&!t.parent.inlineContent&&(VB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}let We=class gp extends Me{constructor(e,n=e){WB(e),WB(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Me.near(r);let i=e.resolve(n.map(this.anchor));return new gp(i.parent.inlineContent?i:r,r)}replace(e,n=he.empty){if(super.replace(e,n),n==he.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof gp&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new x7(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new gp(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Me.findFrom(n,r,!0)||Me.findFrom(n,-r,!0);if(o)n=o.$head;else return Me.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Me.findFrom(e,-r,!0)||Me.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new gp(e,n)}};Me.jsonID("text",We);let x7=class w7{constructor(e,n){this.anchor=e,this.head=n}map(e){return new w7(e.map(this.anchor),e.map(this.head))}resolve(e){return We.between(e.resolve(this.anchor),e.resolve(this.head))}},_e=class yp extends Me{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Me.near(o):new yp(o)}content(){return new he(ee.from(this.node),0,0)}eq(e){return e instanceof yp&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new T3e(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new yp(e.resolve(n.anchor))}static create(e,n){return new yp(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};_e.prototype.visible=!1;Me.jsonID("node",_e);let T3e=class S7{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new x7(r,r):new S7(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&_e.isSelectable(r)?new _e(n):Me.near(n)}},ul=class pb extends Me{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=he.empty){if(n==he.empty){e.delete(0,e.doc.content.size);let r=Me.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new pb(e)}map(e){return new pb(e)}eq(e){return e instanceof pb}getBookmark(){return N3e}};Me.jsonID("all",ul);const N3e={map(){return this},resolve(t){return new ul(t)}};function ed(t,e,n,r,i,o=!1){if(e.inlineContent)return We.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&_e.isSelectable(a))return _e.create(t,n-(i<0?a.nodeSize:0))}else{let l=ed(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function HB(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof po||i instanceof Fr))return;let o=t.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(Me.near(t.doc.resolve(s),n))}const UB=1,bv=2,KB=4;class P3e extends v7{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UB)&~bv,this.storedMarks=null,this}get selectionSet(){return(this.updated&UB)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bv,this}ensureMarks(e){return bt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&bv)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~bv,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||bt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Me.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=KB,this}get scrolledIntoView(){return(this.updated&KB)>0}}function GB(t,e){return!e||!t?t:t.bind(e)}let vp=class{constructor(e,n,r){this.name=e,this.init=GB(n.init,r),this.apply=GB(n.apply,r)}};const M3e=[new vp("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new vp("selection",{init(t,e){return t.selection||Me.atStart(e.doc)},apply(t){return t.selection}}),new vp("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new vp("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Fk{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=M3e.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new vp(r.key,r.spec.state,r))})}}class Cd{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Cd(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new P3e(this)}static create(e){let n=new Fk(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Cd(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Fk(this.schema,e.plugins),r=n.fields,i=new Cd(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Fk(e.schema,e.plugins),o=new Cd(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=cl.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=Me.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function C7(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=C7(i,e,{})),n[r]=i}return n}let Wt=class{constructor(e){this.spec=e,this.props={},e.props&&C7(e.props,this,this.props),this.key=e.key?e.key.key:k7("plugin")}getState(e){return e[this.key]}};const Bk=Object.create(null);function k7(t){return t in Bk?t+"$"+ ++Bk[t]:(Bk[t]=0,t+"$")}let Zt=class{constructor(e="key"){this.key=k7(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};const _3e=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function E7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const j3e=(t,e,n)=>{let r=E7(t,n);if(!r)return!1;let i=rj(r);if(!i){let s=r.blockRange(),a=s&&Ch(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(N7(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Ff(o,"end")||_e.isSelectable(o)))for(let s=r.depth;;s--){let a=AS(t.doc,r.before(s),r.after(s),he.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Ff(o,"end")?Me.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):_e.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},$3e=(t,e,n)=>{let r=E7(t,n);if(!r)return!1;let i=rj(r);return i?A7(t,i,e):!1},I3e=(t,e,n)=>{let r=O7(t,n);if(!r)return!1;let i=ij(r);return i?A7(t,i,e):!1};function A7(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=AS(t.doc,o,l,he.empty);if(!c||c.from!=o||c instanceof po&&c.slice.size>=l-o)return!1;if(n){let u=t.tr.step(c);u.setSelection(We.create(u.doc,o)),n(u.scrollIntoView())}return!0}function Ff(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const R3e=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=rj(r)}let s=o&&o.nodeBefore;return!s||!_e.isSelectable(s)?!1:(e&&e(t.tr.setSelection(_e.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function rj(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function O7(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const D3e=(t,e,n)=>{let r=O7(t,n);if(!r)return!1;let i=ij(r);if(!i)return!1;let o=i.nodeAfter;if(N7(t,i,e,1))return!0;if(r.parent.content.size==0&&(Ff(o,"start")||_e.isSelectable(o))){let s=AS(t.doc,r.before(),r.after(),he.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Ff(o,"start")?Me.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):_e.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},L3e=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=ij(r)}let s=o&&o.nodeAfter;return!s||!_e.isSelectable(s)?!1:(e&&e(t.tr.setSelection(_e.create(t.doc,o.pos)).scrollIntoView()),!0)};function ij(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const F3e=(t,e)=>{let n=t.selection,r=n instanceof _e,i;if(r){if(n.node.isTextblock||!Fl(t.doc,n.from))return!1;i=n.from}else if(i=ES(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(_e.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},B3e=(t,e)=>{let n=t.selection,r;if(n instanceof _e){if(n.node.isTextblock||!Fl(t.doc,n.to))return!1;r=n.to}else if(r=ES(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},z3e=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Ch(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},V3e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function T7(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const W3e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=T7(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Me.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},H3e=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof ul||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=T7(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(We.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},U3e=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Dd(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ch(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},K3e=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(_e.create(t.doc,i))),!0)};function G3e(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Fl(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function N7(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&G3e(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let h=e.pos+o.nodeSize,p=ee.empty;for(let v=s.length-1;v>=0;v--)p=ee.from(s[v].create(null,p));p=ee.from(i.copy(p));let g=t.tr.step(new Fr(e.pos-1,h,e.pos,h,new he(p,1,0),s.length,!0)),y=g.doc.resolve(h+2*s.length);y.nodeAfter&&y.nodeAfter.type==i.type&&Fl(g.doc,y.pos)&&g.join(y.pos),n(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:Me.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&Ch(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&Ff(o,"start",!0)&&Ff(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=o,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let v=ee.empty;for(let x=p.length-1;x>=0;x--)v=ee.from(p[x].copy(v));let b=t.tr.step(new Fr(e.pos-p.length,e.pos+o.nodeSize,e.pos+y,e.pos+o.nodeSize-y,new he(v,p.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function P7(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(We.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const q3e=P7(-1),Y3e=P7(1);function X3e(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&nj(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function qB(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function J3e(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o);if(!s)return!1;let a=r?n.tr:null;return Z3e(a,s,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function Z3e(t,e,n,r=null){let i=!1,o=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);o=new O0(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new O0(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=nj(o,n,r,e);return a?(t&&Q3e(t,e,a,i,n),!0):!1}function Q3e(t,e,n,r,i){let o=ee.empty;for(let u=n.length-1;u>=0;u--)o=ee.from(n[u].type.create(n[u].attrs,o));t.step(new Fr(e.start-(r?2:0),e.end,e.start,e.end,new he(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&Dd(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function eze(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?tze(e,n,t,o):nze(e,n,o):!0:!1}}function tze(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Fr(o-1,s,o,s,new he(ee.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new O0(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Ch(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return Fl(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function nze(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?ee.empty:ee.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Fr(d-(a?1:0),f+(l?1:0),d+1,f-1,new he((a?ee.empty:ee.from(i.copy(ee.empty))).append(l?ee.empty:ee.from(i.copy(ee.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function rze(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=ee.from(c?t.create():null),d=new he(ee.from(t.create(null,ee.from(a.type.create(null,u)))),c?3:1,0),f=o.start,h=o.end;n(e.tr.step(new Fr(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}const Fn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Bf=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let WT=null;const xs=function(t,e,n){let r=WT||(WT=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},ize=function(){WT=null},uu=function(t,e,n,r){return n&&(YB(t,e,n,r,-1)||YB(t,e,n,r,1))},oze=/^(img|br|input|textarea|hr)$/i;function YB(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ei(t))){let s=t.parentNode;if(!s||s.nodeType!=1||gy(t)||oze.test(t.nodeName)||t.contentEditable=="false")return!1;e=Fn(t)+(i<0?0:1),t=s}else if(t.nodeType==1){let s=t.childNodes[e+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=s,e=i<0?Ei(t):0}else return!1}}function Ei(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function sze(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ei(t)}else if(t.parentNode&&!gy(t))e=Fn(t),t=t.parentNode;else return null}}function aze(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!gy(t))e=Fn(t)+1,t=t.parentNode;else return null}}function lze(t,e,n){for(let r=e==0,i=e==Ei(t);r||i;){if(t==n)return!0;let o=Fn(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Ei(t)}}function gy(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const OS=function(t){return t.focusNode&&uu(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function lc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function cze(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function uze(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ei(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ei(r.startContainer),r.startOffset)}}}const Jo=typeof navigator<"u"?navigator:null,XB=typeof document<"u"?document:null,Bl=Jo&&Jo.userAgent||"",HT=/Edge\/(\d+)/.exec(Bl),M7=/MSIE \d/.exec(Bl),UT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Bl),Lr=!!(M7||UT||HT),dl=M7?document.documentMode:UT?+UT[1]:HT?+HT[1]:0,_i=!Lr&&/gecko\/(\d+)/i.test(Bl);_i&&+(/Firefox\/(\d+)/.exec(Bl)||[0,0])[1];const KT=!Lr&&/Chrome\/(\d+)/.exec(Bl),Vn=!!KT,_7=KT?+KT[1]:0,rr=!Lr&&!!Jo&&/Apple Computer/.test(Jo.vendor),zf=rr&&(/Mobile\/\w+/.test(Bl)||!!Jo&&Jo.maxTouchPoints>2),xi=zf||(Jo?/Mac/.test(Jo.platform):!1),j7=Jo?/Win/.test(Jo.platform):!1,Ms=/Android \d/.test(Bl),yy=!!XB&&"webkitFontSmoothing"in XB.documentElement.style,dze=yy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function fze(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ds(t,e){return typeof t=="number"?t:t[e]}function hze(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function JB(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;){if(s.nodeType!=1){s=Bf(s);continue}let a=s,l=a==o.body,c=l?fze(o):hze(a),u=0,d=0;if(e.top<c.top+ds(r,"top")?d=-(c.top-e.top+ds(i,"top")):e.bottom>c.bottom-ds(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+ds(i,"top")-c.top:e.bottom-c.bottom+ds(i,"bottom")),e.left<c.left+ds(r,"left")?u=-(c.left-e.left+ds(i,"left")):e.right>c.right-ds(r,"right")&&(u=e.right-c.right+ds(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let g=a.scrollLeft-h,y=a.scrollTop-p;e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y}}let f=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(f))break;s=f=="absolute"?s.offsetParent:Bf(s)}}function pze(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:$7(t.dom)}}function $7(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Bf(r));return e}function mze({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;I7(n,r==0?0:r-e)}function I7(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Gu=null;function gze(t){if(t.setActive)return t.setActive();if(Gu)return t.focus(Gu);let e=$7(t);t.focus(Gu==null?{get preventScroll(){return Gu={preventScroll:!0},!0}}:void 0),Gu||(Gu=!1,I7(e,0))}function R7(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=xs(u).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(o=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?yze(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:R7(n,i)}function yze(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let s=ya(r,1);if(s.top!=s.bottom&&oj(e,s)){i={node:t,offset:o+(e.left>=(s.left+s.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function oj(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function vze(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function bze(t,e,n){let{node:r,offset:i}=R7(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function xze(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function D7(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(oj(e,c))return D7(s,e,c)}}if((o=(o+1)%r)==i)break}return t}function wze(t,e){let n=t.dom.ownerDocument,r,i=0,o=uze(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!oj(e,c)||(s=D7(t.dom,e,c),!s))return null}if(rr)for(let c=s;r&&c;c=Bf(c))c.draggable&&(r=void 0);if(s=vze(s,e),r){if(_i&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;yy&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=xze(t,r,i,e))}a==null&&(a=bze(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function ZB(t){return t.top<t.bottom||t.left<t.right}function ya(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(ZB(r))return r}return Array.prototype.find.call(n,ZB)||t.getBoundingClientRect()}const Sze=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function L7(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=yy||_i;if(r.nodeType==3)if(s&&(Sze.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=ya(xs(r,i,i),n);if(_i&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=ya(xs(r,i-1,i-1),-1);if(c.top==l.top){let u=ya(xs(r,i,i+1),-1);if(u.top!=l.top)return Zh(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Zh(ya(xs(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Ei(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return zk(l.getBoundingClientRect(),!1)}if(o==null&&i<Ei(r)){let l=r.childNodes[i];if(l.nodeType==1)return zk(l.getBoundingClientRect(),!0)}return zk(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Ei(r))){let l=r.childNodes[i-1],c=l.nodeType==3?xs(l,Ei(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Zh(ya(c,1),!1)}if(o==null&&i<Ei(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?xs(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Zh(ya(c,-1),!0)}return Zh(ya(r.nodeType==3?xs(r):r,-n),n>=0)}function Zh(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function zk(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function F7(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Cze(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return F7(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=L7(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=xs(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const kze=/[\u0590-\u08ac]/;function Eze(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return a?!kze.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:F7(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),y=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),y}):r.pos==r.start()||r.pos==r.end()}let QB=null,e3=null,t3=!1;function Aze(t,e,n){return QB==e&&e3==n?t3:(QB=e,e3=n,t3=n=="up"||n=="down"?Cze(t,e,n):Eze(t,e,n))}const ji=0,n3=1,bc=2,Zo=3;class vy{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=ji,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Fn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let a=i.children[s];if(a.size){i=a;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof z7){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof B7&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Fn(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Fn(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Fn(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Fn(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let h=0,p=0;h<this.children.length;h++){let g=this.children[h],y=p+g.size;if(o>p&&s<y)return g.setSelection(e-p-g.border,n-p-g.border,r,i);p=y}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((_i||rr)&&e==n){let{node:h,offset:p}=a;if(h.nodeType==3){if(d=!!(p&&h.nodeValue[p-1]==`
`),d&&p==h.nodeValue.length)for(let g=h,y;g;g=g.parentNode){if(y=g.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:Fn(y)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=h.childNodes[p-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(_i&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let h=u.focusNode.childNodes[u.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||d&&rr)&&uu(a.node,a.offset,u.anchorNode,u.anchorOffset)&&uu(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||e==n)&&!(d&&_i)){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let p=a;a=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?bc:n3,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Zo:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?bc:Zo}r=s}this.dirty=bc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?bc:n3;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class B7 extends vy{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==ji&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Oze extends vy{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class du extends vy{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=my.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new du(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Zo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Zo&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=ji){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ji}}slice(e,n,r){let i=du.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=qT(o,n,s,r)),e>0&&(o=qT(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class fl extends vy{constructor(e,n,r,i,o,s,a,l,c){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=my.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=H7(u,r,n),c?l=new Tze(e,n,r,i,u,d||null,f,c,o,s+1):n.isText?new TS(e,n,r,i,u,f,o):new fl(e,n,r,i,u,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ee.empty)}return e}matchesNode(e,n,r){return this.dirty==ji&&e.eq(this.node)&&N0(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Pze(this,s&&s.node,e);jze(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e,u):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?bt.none:this.node.child(u).marks,r,e,u),l.placeWidget(c,e,i)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e,f);let h;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==bc)&&(s&&this.protectLocalComposition(e,s),V7(this.contentDOM,this.children,e),zf&&$ze(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof We)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=Ize(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Oze(this,o,n,i);e.input.compositionNodes.push(s),this.children=qT(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Zo||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ji}updateOuterDeco(e){if(N0(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=W7(this.dom,this.nodeDOM,GT(this.outerDeco,this.node,n),GT(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function r3(t,e,n,r,i){H7(r,e,t);let o=new fl(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class TS extends fl{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Zo||this.dirty!=ji&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ji||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ji,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new TS(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Zo)}get domAtom(){return!1}isText(e){return this.node.text==e}}class z7 extends vy{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ji&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Tze extends fl{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Zo)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function V7(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=i3(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof du){let l=r?r.previousSibling:t.lastChild;V7(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=i3(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Yp=function(t){t&&(this.nodeName=t)};Yp.prototype=Object.create(null);const xc=[new Yp];function GT(t,e,n){if(t.length==0)return xc;let r=n?xc[0]:new Yp,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Yp(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Yp(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function W7(t,e,n,r){if(n==xc&&r==xc)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=xc[0]),i=l}Nze(i,a||xc[0],s)}return i}function Nze(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function H7(t,e,n){return W7(t,t,xc,GT(e,n,t.nodeType!=1))}function N0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function i3(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Pze{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Mze(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r,i){let o=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;o<a&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=ji,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1,c=this.top.children.length;i<this.preMatch.index&&(c=Math.min(this.index+3,c));for(let u=this.index;u<c;u++){let d=this.top.children[u];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=du.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Zo&&s.dom==s.contentDOM&&(s.dirty=bc),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof fl){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Zo&&N0(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=bc,d.updateChildren(i,s+1),d.dirty=ji),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!N0(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=fl.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,o){let s=fl.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new B7(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof du;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof TS)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((rr||Vn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new z7(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Mze(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof du)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function _ze(t,e){return t.type.side-e.type.side}function jze(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let y=i[s++];y.widget&&(u?(d||(d=[u])).push(y):u=y)}if(u)if(d){d.sort(_ze);for(let y=0;y<d.length;y++)n(d[y],c,!!l)}else n(u,c,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(c<t.childCount)h=c,f=t.child(c++);else break;for(let y=0;y<a.length;y++)a[y].to<=o&&a.splice(y--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let p=o+f.nodeSize;if(f.isText){let y=p;s<i.length&&i[s].from<y&&(y=i[s].from);for(let v=0;v<a.length;v++)a[v].to<y&&(y=a[v].to);y<p&&(l=f.cut(y-o),f=f.cut(0,y-o),p=y,h=-1)}else for(;s<i.length&&i[s].to<p;)s++;let g=f.isInline&&!f.isLeaf?a.filter(y=>!y.inline):a.slice();r(f,g,e.forChild(o,f),h),o=p}}function $ze(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Ize(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function qT(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function sj(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(OS(n)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&_e.isSelectable(d)&&i.parent&&!(d.isInline&&lze(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new _e(s==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,s]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=aj(t,u,a,d)}return c}function U7(t){return t.editable?t.hasFocus():G7(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ds(t,e=!1){let n=t.state.selection;if(K7(t,n),!!U7(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Vn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&uu(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Dze(t);else{let{anchor:r,head:i}=n,o,s;o3&&!(n instanceof We)&&(n.$from.parent.inlineContent||(o=s3(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=s3(t,n.to))),t.docView.setSelection(r,i,t,e),o3&&(o&&a3(o),s&&a3(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Rze(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const o3=rr||Vn&&_7<63;function s3(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(rr&&i&&i.contentEditable=="false")return Vk(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Vk(i);if(o)return Vk(o)}}function Vk(t){return t.contentEditable="true",rr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function a3(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Rze(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!U7(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Dze(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Fn(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Lr&&dl<=11&&(n.disabled=!0,n.disabled=!1)}function K7(t,e){if(e instanceof _e){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(l3(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else l3(t)}function l3(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function aj(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||We.between(e,n,r)}function c3(t){return t.editable&&!t.hasFocus()?!1:G7(t)}function G7(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Lze(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return uu(e.node,e.offset,n.anchorNode,n.anchorOffset)}function YT(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Me.findFrom(o,e)}function ka(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function u3(t,e,n){let r=t.state.selection;if(r instanceof We)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return ka(t,new We(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=YT(t.state,e);return i&&i instanceof _e?ka(t,i):!1}else if(!(xi&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?_e.isSelectable(o)?ka(t,new _e(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):yy?ka(t,new We(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof _e&&r.node.isInline)return ka(t,new We(e>0?r.$to:r.$from));{let i=YT(t.state,e);return i?ka(t,i):!1}}}function P0(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Xp(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function qu(t,e){return e<0?Fze(t):Bze(t)}function Fze(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(_i&&n.nodeType==1&&r<P0(n)&&Xp(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Xp(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(q7(n))break;{let a=n.previousSibling;for(;a&&Xp(a,-1);)i=n.parentNode,o=Fn(a),a=a.previousSibling;if(a)n=a,r=P0(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?XT(t,n,r):i&&XT(t,i,o)}function Bze(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=P0(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Xp(a,1))o=n,s=++r;else break}else{if(q7(n))break;{let a=n.nextSibling;for(;a&&Xp(a,1);)o=a.parentNode,s=Fn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=P0(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&XT(t,o,s)}function q7(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function zze(t,e){for(;t&&e==t.childNodes.length&&!gy(t);)e=Fn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function Vze(t,e){for(;t&&!e&&!gy(t);)e=Fn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function XT(t,e,n){if(e.nodeType!=3){let o,s;(s=zze(e,n))?(e=s,n=0):(o=Vze(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(OS(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ds(t)},50)}function d3(t,e){let n=t.state.doc.resolve(e);if(!(Vn||j7)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function f3(t,e,n){let r=t.state.selection;if(r instanceof We&&!r.empty||n.indexOf("s")>-1||xi&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=YT(t.state,e);if(s&&s instanceof _e)return ka(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof ul?Me.near(s,e):Me.findFrom(s,e);return a?ka(t,a):!1}return!1}function h3(t,e){if(!(t.state.selection instanceof We))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function p3(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Wze(t){if(!rr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;p3(t,r,"true"),setTimeout(()=>p3(t,r,"false"),20)}return!1}function Hze(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Uze(t,e){let n=e.keyCode,r=Hze(e);if(n==8||xi&&n==72&&r=="c")return h3(t,-1)||qu(t,-1);if(n==46&&!e.shiftKey||xi&&n==68&&r=="c")return h3(t,1)||qu(t,1);if(n==13||n==27)return!0;if(n==37||xi&&n==66&&r=="c"){let i=n==37?d3(t,t.state.selection.from)=="ltr"?-1:1:-1;return u3(t,i,r)||qu(t,i)}else if(n==39||xi&&n==70&&r=="c"){let i=n==39?d3(t,t.state.selection.from)=="ltr"?1:-1:1;return u3(t,i,r)||qu(t,i)}else{if(n==38||xi&&n==80&&r=="c")return f3(t,-1,r)||qu(t,-1);if(n==40||xi&&n==78&&r=="c")return Wze(t)||f3(t,1,r)||qu(t,1);if(r==(xi?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function lj(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||my.fromSchema(t.state.schema),a=eY(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=Q7[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function Y7(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=!!e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return a=new he(ee.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",f=>{a=f(a,t,!0)}),a;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,p=my.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=s.appendChild(document.createElement("p"));g&&y.appendChild(p.serializeNode(h.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=Yze(n),yy&&Xze(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Gp.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Kze.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=Jze(m3(a,+u[1],+u[2]),u[4]);else if(a=he.maxOpen(Gze(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=m3(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t,l)}),a}const Kze=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Gze(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&J7(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=Z7(s[s.length-1],o.length));let u=X7(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return ee.from(s)}return t}function X7(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ee.from(t));return t}function J7(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=J7(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ee.from(X7(n,t,i+1))))}}function Z7(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Z7(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ee.empty,!0);return t.copy(n.append(r))}function JT(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=JT(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(ee.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function m3(t,e,n){return e<t.openStart&&(t=new he(JT(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new he(JT(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Q7={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let g3=null;function eY(){return g3||(g3=document.implementation.createHTMLDocument("title"))}let Wk=null;function qze(t){let e=window.trustedTypes;return e?(Wk||(Wk=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Wk.createHTML(t)):t}function Yze(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=eY().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Q7[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=qze(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Xze(t){let e=t.querySelectorAll(Vn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Jze(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=ee.from(l.create(r[a+1],i)),o++,s++}return new he(i,o,s)}const Cr={},kr={},Zze={touchstart:!0,touchmove:!0};class Qze{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function e4e(t){for(let e in Cr){let n=Cr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{n4e(t,r)&&!cj(t,r)&&(t.editable||!(r.type in kr))&&n(t,r)},Zze[e]?{passive:!0}:void 0)}rr&&t.dom.addEventListener("input",()=>null),ZT(t)}function Ga(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function t4e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ZT(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>cj(t,r))})}function cj(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function n4e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function r4e(t,e){!cj(t,e)&&Cr[e.type]&&(t.editable||!(e.type in kr))&&Cr[e.type](t,e)}kr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!nY(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ms&&Vn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),zf&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,lc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Uze(t,n)?n.preventDefault():Ga(t,"key")};kr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};kr.keypress=(t,e)=>{let n=e;if(nY(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||xi&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof We)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function NS(t){return{left:t.clientX,top:t.clientY}}function i4e(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function uj(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Ld(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function o4e(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&_e.isSelectable(r)?(Ld(t,new _e(n),"pointer"),!0):!1}function s4e(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof _e&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(_e.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Ld(t,_e.create(t.state.doc,i),"pointer"),!0):!1}function a4e(t,e,n,r,i){return uj(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?s4e(t,n):o4e(t,n))}function l4e(t,e,n,r){return uj(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function c4e(t,e,n,r){return uj(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||u4e(t,n,r)}function u4e(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Ld(t,We.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Ld(t,We.create(r,a+1,a+1+s.content.size),"pointer");else if(_e.isSelectable(s))Ld(t,_e.create(r,a),"pointer");else continue;return!0}}function dj(t){return M0(t)}const tY=xi?"metaKey":"ctrlKey";Cr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=dj(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&i4e(n,t.input.lastClick)&&!n[tY]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=t.posAtCoords(NS(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new d4e(t,s,n,!!r)):(o=="doubleClick"?l4e:c4e)(t,s.pos,s.inside,n)?n.preventDefault():Ga(t,"pointer"))};let d4e=class{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[tY],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof _e&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&_i&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ga(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ds(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(NS(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ga(this.view,"pointer"):a4e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||rr&&this.mightDrag&&!this.mightDrag.node.isAtom||Vn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ld(this.view,Me.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Ga(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ga(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};Cr.touchstart=t=>{t.input.lastTouch=Date.now(),dj(t),Ga(t,"pointer")};Cr.touchmove=t=>{t.input.lastTouch=Date.now(),Ga(t,"pointer")};Cr.contextmenu=t=>dj(t);function nY(t,e){return t.composing?!0:rr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const f4e=Ms?5e3:-1;kr.compositionstart=kr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof We&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Vn&&j7&&h4e(t)))t.markCursor=t.state.storedMarks||n.marks(),M0(t,!0),t.markCursor=null;else if(M0(t,!e.selection.empty),_i&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}rY(t,f4e)};function h4e(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}kr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,rY(t,20))};function rY(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>M0(t),e))}function iY(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=m4e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function p4e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=sze(e.focusNode,e.focusOffset),r=aze(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function m4e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function M0(t,e=!1){if(!(Ms&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),iY(t),e||t.docView&&t.docView.dirty){let n=sj(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function g4e(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const bg=Lr&&dl<15||zf&&dze<604;Cr.copy=kr.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=bg?null:n.clipboardData,s=r.content(),{dom:a,text:l}=lj(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):g4e(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function y4e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function v4e(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?xg(t,r.value,null,i,e):xg(t,r.textContent,r.innerHTML,i,e)},50)}function xg(t,e,n,r,i){let o=Y7(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||he.empty)))return!0;if(!o)return!1;let s=y4e(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function oY(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}kr.paste=(t,e)=>{let n=e;if(t.composing&&!Ms)return;let r=bg?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&xg(t,oY(r),r.getData("text/html"),i,n)?n.preventDefault():v4e(t,n)};let sY=class{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}};const b4e=xi?"altKey":"ctrlKey";function aY(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[b4e]}Cr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(NS(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof _e?i.to-1:i.to))){if(r&&r.mightDrag)s=_e.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=_e.create(t.state.doc,d.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:u}=lj(t,a);(!n.dataTransfer.files.length||!Vn||_7>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(bg?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",bg||n.dataTransfer.setData("text/plain",c),t.dragging=new sY(u,aY(t,n),s)};Cr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};kr.dragover=kr.dragenter=(t,e)=>e.preventDefault();kr.drop=(t,e)=>{try{x4e(t,e,t.dragging)}finally{t.dragging=null}};function x4e(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(NS(e));if(!r)return;let i=t.state.doc.resolve(r.pos),o=n&&n.slice;o?t.someProp("transformPasted",h=>{o=h(o,t,!1)}):o=Y7(t,oY(e.dataTransfer),bg?null:e.dataTransfer.getData("text/html"),!1,i);let s=!!(n&&aY(t,e));if(t.someProp("handleDrop",h=>h(t,e,o||he.empty,s))){e.preventDefault();return}if(!o)return;e.preventDefault();let a=o?d7(t.state.doc,i.pos,o):i.pos;a==null&&(a=i.pos);let l=t.state.tr;if(s){let{node:h}=n;h?h.replace(l):l.deleteSelection()}let c=l.mapping.map(a),u=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=l.doc;if(u?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),l.doc.eq(d))return;let f=l.doc.resolve(c);if(u&&_e.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new _e(f));else{let h=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((p,g,y,v)=>h=v),l.setSelection(aj(t,f,l.doc.resolve(h)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}Cr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ds(t)},20))};Cr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Cr.beforeinput=(t,e)=>{if(Vn&&Ms&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,lc(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in kr)Cr[t]=kr[t];function wg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}let y3=class lY{constructor(e,n){this.toDOM=e,this.spec=n||Lc,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new rs(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof lY&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&wg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},Jp=class QT{constructor(e,n){this.attrs=e,this.spec=n||Lc}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new rs(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof QT&&wg(this.attrs,e.attrs)&&wg(this.spec,e.spec)}static is(e){return e.type instanceof QT}destroy(){}},w4e=class cY{constructor(e,n){this.attrs=e,this.spec=n||Lc}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new rs(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof cY&&wg(this.attrs,e.attrs)&&wg(this.spec,e.spec)}destroy(){}},rs=class bp{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new bp(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new bp(e,e,new y3(n,r))}static inline(e,n,r,i){return new bp(e,n,new Jp(r,i))}static node(e,n,r,i){return new bp(e,n,new w4e(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Jp}get widget(){return this.type instanceof y3}};const td=[],Lc={};let Sr=class va{constructor(e,n){this.local=e.length?e:td,this.children=n.length?n:td}static create(e,n){return n.length?_0(n,e,0,Lc):Zn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==Zn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Lc)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?S4e(this.children,s||[],e,n,r,i,o):s?new va(s.sort(Fc),td):Zn}add(e,n){return n.length?this==Zn?va.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=fY(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,_0(u,a,c+1,Lc)),o+=3}});let s=dY(o?hY(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new va(s.length?this.local.concat(s).sort(Fc):this.local,i||this.children)}remove(e){return e.length==0||this==Zn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=Zn?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new va(i,r):Zn}forChild(e,n){if(this==Zn)return this;if(n.isLeaf)return va.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Jp){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new va(i.sort(Fc),td);return r?new uY([a,r]):a}return r||Zn}eq(e){if(this==e)return!0;if(!(e instanceof va)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return fj(this.localsInner(e))}localsInner(e){if(this==Zn)return td;if(e.inlineContent||!this.local.some(Jp.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Jp||n.push(this.local[r]);return n}forEachSet(e){e(this)}};Sr.empty=new Sr([],[]);Sr.removeOverlap=fj;const Zn=Sr.empty;let uY=class nd{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Lc));return nd.from(r)}forChild(e,n){if(n.isLeaf)return Sr.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Zn&&(o instanceof nd?r=r.concat(o.members):r.push(o))}return nd.from(r)}eq(e){if(!(e instanceof nd)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?fj(r?n:n.sort(Fc)):td}static from(e){switch(e.length){case 0:return Zn;case 1:return e[0];default:return new nd(e.every(n=>n instanceof Sr)?e:e.reduce((n,r)=>n.concat(r instanceof Sr?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}};function S4e(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,g)=>{let y=g-p-(h-f);for(let v=0;v<a.length;v+=3){let b=a[v+1];if(b<0||f>b+u-d)continue;let x=a[v]+u-d;h>=x?a[v+1]=f<=x?-2:-1:f>=u&&y&&(a[v]+=y,a[v+1]+=y)}d+=y}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+o,-1),h=f-i,{index:p,offset:g}=r.content.findIndex(d),y=r.maybeChild(p);if(y&&g==d&&g+y.nodeSize==h){let v=a[c+2].mapInner(n,y,u+1,t[c]+o+1,s);v!=Zn?(a[c]=d,a[c+1]=h,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=C4e(a,t,e,n,i,o,s),u=_0(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Sr(e.sort(Fc),a)}function dY(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new rs(i.from+e,i.to+e,i.type))}return n}function C4e(t,e,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function fY(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function hY(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function _0(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let c=fY(t,a,l+n);if(c){o=!0;let u=_0(c,a,n+l+1,r);u!=Zn&&i.push(l,l+a.nodeSize,u)}});let s=dY(o?hY(t):t,-n).sort(Fc);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Sr(s,i):Zn}function Fc(t,e){return t.from-e.from||t.to-e.to}function fj(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),v3(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),v3(e,i,r.copy(o.from,r.to)));break}}}return e}function v3(t,e,n){for(;e<t.length&&Fc(n,t[e])>0;)e++;t.splice(e,0,n)}function Hk(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Zn&&e.push(r)}),t.cursorWrapper&&e.push(Sr.create(t.state.doc,[t.cursorWrapper.deco])),uY.from(e)}const k4e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},E4e=Lr&&dl<=11;class A4e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class O4e{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new A4e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Lr&&dl<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():rr&&e.composing&&r.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),E4e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,k4e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(c3(this.view)){if(this.suppressingSelectionUpdates)return Ds(this.view);if(Lr&&dl<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&uu(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Bf(o))n.add(o);for(let o=e.anchorNode;o;o=Bf(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&c3(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(l.some(u=>u.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let u of l)if(u.nodeName=="BR"&&u.parentNode){let d=u.nextSibling;d&&d.nodeType==1&&d.contentEditable=="false"&&u.parentNode.removeChild(u)}}else if(_i&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||P4e(e,d)!=h)&&f.remove()}}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&OS(r)&&(c=sj(e))&&c.eq(Me.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ds(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),T4e(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,M4e(e,l)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ds(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Lr&&dl<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?Fn(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?Fn(o):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let b3=new WeakMap,x3=!1;function T4e(t){if(!b3.has(t)&&(b3.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=_i,x3)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),x3=!0}}function w3(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return uu(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function N4e(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return w3(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?w3(t,n):null}function P4e(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function M4e(t,e){var n;let{focusNode:r,focusOffset:i}=t.domSelectionRange();for(let o of e)if(((n=o.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let s=o.nextSibling;for(;s&&s.nodeName!="TD"&&s.nodeName!="TH";)s=s.nextSibling;if(s){let a=s;for(;;){let l=a.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;a=l}a.insertBefore(o,a.firstChild),r==o&&t.domSelection().collapse(o,i)}else o.parentNode.removeChild(o)}}function _4e(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],OS(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Vn&&t.input.lastKeyCode===8)for(let y=o;y>i;y--){let v=r.childNodes[y-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){o=y;break}if(!b||b.size)break}let d=t.state.doc,f=t.someProp("domParser")||Gp.fromSchema(t.state.schema),h=d.resolve(s),p=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:j4e,context:h});if(c&&c[0].pos!=null){let y=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=y),p={anchor:y+s,head:v+s}}return{doc:g,sel:p,from:s,to:a}}function j4e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(rr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||rr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const $4e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function I4e(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let E=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,A=sj(t,E);if(A&&!t.state.selection.eq(A)){if(Vn&&Ms&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",P=>P(t,lc(13,"Enter"))))return;let O=t.state.tr.setSelection(A);E=="pointer"?O.setMeta("pointer",!0):E=="key"&&O.scrollIntoView(),o&&O.setMeta("composition",o),t.dispatch(O)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=_4e(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,h;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=L4e(d.content,c.doc.content,c.from,f,h);if(p&&t.input.domChangeCount++,(zf&&t.input.lastIOSEnter>Date.now()-225||Ms)&&i.some(E=>E.nodeType==1&&!$4e.test(E.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",E=>E(t,lc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof We&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let E=S3(t,t.state.doc,c.sel);if(E&&!E.eq(t.state.selection)){let A=t.state.tr.setSelection(E);o&&A.setMeta("composition",o),t.dispatch(A)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof We&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Lr&&dl<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),y=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),b=g.sameParent(y)&&g.parent.inlineContent&&v.end()>=p.endA;if((zf&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&(!g.sameParent(y)||!g.parent.inlineContent)&&g.pos<y.pos&&!/\S/.test(c.doc.textBetween(g.pos,y.pos,"","")))&&t.someProp("handleKeyDown",E=>E(t,lc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&D4e(u,p.start,p.endA,g,y)&&t.someProp("handleKeyDown",E=>E(t,lc(8,"Backspace")))){Ms&&Vn&&t.domObserver.suppressSelectionUpdates();return}Vn&&p.endB==p.start&&(t.input.lastChromeDelete=Date.now()),Ms&&!b&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,y=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(E){return E(t,lc(13,"Enter"))})},20));let x=p.start,C=p.endA,S=E=>{let A=E||t.state.tr.replace(x,C,c.doc.slice(p.start-c.from,p.endB-c.from));if(c.sel){let O=S3(t,A.doc,c.sel);O&&!(Vn&&t.composing&&O.empty&&(p.start!=p.endB||t.input.lastChromeDelete<Date.now()-100)&&(O.head==x||O.head==A.mapping.map(C)-1)||Lr&&O.empty&&O.head==x)&&A.setSelection(O)}return o&&A.setMeta("composition",o),A.scrollIntoView()},k;if(b)if(g.pos==y.pos){Lr&&dl<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ds(t),20));let E=S(t.state.tr.delete(x,C)),A=u.resolve(p.start).marksAcross(u.resolve(p.endA));A&&E.ensureMarks(A),t.dispatch(E)}else if(p.endA==p.endB&&(k=R4e(g.parent.content.cut(g.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start())))){let E=S(t.state.tr);k.type=="add"?E.addMark(x,C,k.mark):E.removeMark(x,C,k.mark),t.dispatch(E)}else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let E=g.parent.textBetween(g.parentOffset,y.parentOffset),A=()=>S(t.state.tr.insertText(E,x,C));t.someProp("handleTextInput",O=>O(t,x,C,E,A))||t.dispatch(A())}else t.dispatch(S());else t.dispatch(S())}function S3(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:aj(t,e.resolve(n.anchor),e.resolve(n.head))}function R4e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(ee.from(c).eq(t))return{mark:a,type:s}}function D4e(t,e,n,r,i){if(n-e<=i.pos-r.pos||Uk(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Uk(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Uk(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Uk(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function L4e(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&C3(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&C3(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function C3(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class pY{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Qze,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(T3),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=A3(this),E3(this),this.nodeViews=O3(this),this.docView=r3(this.state.doc,k3(this),Hk(this),this.dom,this),this.domObserver=new O4e(this,(r,i,o,s)=>I4e(this,r,i,o,s)),this.domObserver.start(),e4e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ZT(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(T3),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(iY(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=O3(this);B4e(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&ZT(this),this.editable=A3(this),E3(this);let l=Hk(this),c=k3(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let f=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&pze(this);if(s){this.domObserver.stop();let h=d&&(Lr||Vn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&F4e(i.selection,e.selection);if(d){let p=Vn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=p4e(this)),(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=r3(e.doc,c,l,this.dom,this)),p&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Lze(this))?Ds(this,h):(K7(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&mze(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof _e){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&JB(this,n.getBoundingClientRect(),e)}else JB(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new sY(e.slice,e.move,i<0?void 0:_e.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Lr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&gze(this.dom),Ds(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return wze(this,e)}coordsAtPos(e,n=1){return L7(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Aze(this,n||this.state,e)}pasteHTML(e,n){return xg(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return xg(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return lj(this,e)}destroy(){this.docView&&(t4e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hk(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,ize())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return r4e(this,e)}domSelectionRange(){let e=this.domSelection();return e?rr&&this.root.nodeType===11&&cze(this.dom.ownerDocument)==this.dom&&N4e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}pY.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function k3(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[rs.node(0,t.state.doc.content.size,e)]}function E3(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:rs.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function A3(t){return!t.someProp("editable",e=>e(t.state)===!1)}function F4e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function O3(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function B4e(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function T3(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Al={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},z4e=typeof navigator<"u"&&/Mac/.test(navigator.platform),V4e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Bn=0;Bn<10;Bn++)Al[48+Bn]=Al[96+Bn]=String(Bn);for(var Bn=1;Bn<=24;Bn++)Al[Bn+111]="F"+Bn;for(var Bn=65;Bn<=90;Bn++)Al[Bn]=String.fromCharCode(Bn+32),j0[Bn]=String.fromCharCode(Bn);for(var Kk in Al)j0.hasOwnProperty(Kk)||(j0[Kk]=Al[Kk]);function W4e(t){var e=z4e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||V4e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?j0:Al)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const H4e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),U4e=typeof navigator<"u"&&/Win/.test(navigator.platform);function K4e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))H4e?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function G4e(t){let e=Object.create(null);for(let n in t)e[K4e(n)]=t[n];return e}function Gk(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function q4e(t){return new Wt({props:{handleKeyDown:hj(t)}})}function hj(t){let e=G4e(t);return function(n,r){let i=W4e(r),o,s=e[Gk(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Gk(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(U4e&&r.ctrlKey&&r.altKey)&&(o=Al[r.keyCode])&&o!=i){let a=e[Gk(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var Y4e=Object.defineProperty,pj=(t,e)=>{for(var n in e)Y4e(t,n,{get:e[n],enumerable:!0})};function PS(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var MS=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...g)=>{const y=this.buildProps(c,n),v=h(...g)(y);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:PS({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}},mY={};pj(mY,{blur:()=>X4e,clearContent:()=>J4e,clearNodes:()=>Z4e,command:()=>Q4e,createParagraphNear:()=>e5e,cut:()=>t5e,deleteCurrentNode:()=>n5e,deleteNode:()=>r5e,deleteRange:()=>i5e,deleteSelection:()=>o5e,enter:()=>s5e,exitCode:()=>a5e,extendMarkRange:()=>l5e,first:()=>c5e,focus:()=>d5e,forEach:()=>f5e,insertContent:()=>h5e,insertContentAt:()=>g5e,joinBackward:()=>b5e,joinDown:()=>v5e,joinForward:()=>x5e,joinItemBackward:()=>w5e,joinItemForward:()=>S5e,joinTextblockBackward:()=>C5e,joinTextblockForward:()=>k5e,joinUp:()=>y5e,keyboardShortcut:()=>A5e,lift:()=>O5e,liftEmptyBlock:()=>T5e,liftListItem:()=>N5e,newlineInCode:()=>P5e,resetAttributes:()=>M5e,scrollIntoView:()=>_5e,selectAll:()=>j5e,selectNodeBackward:()=>$5e,selectNodeForward:()=>I5e,selectParentNode:()=>R5e,selectTextblockEnd:()=>D5e,selectTextblockStart:()=>L5e,setContent:()=>F5e,setMark:()=>oVe,setMeta:()=>sVe,setNode:()=>aVe,setNodeSelection:()=>lVe,setTextDirection:()=>cVe,setTextSelection:()=>uVe,sinkListItem:()=>dVe,splitBlock:()=>fVe,splitListItem:()=>hVe,toggleList:()=>pVe,toggleMark:()=>mVe,toggleNode:()=>gVe,toggleWrap:()=>yVe,undoInputRule:()=>vVe,unsetAllMarks:()=>bVe,unsetMark:()=>xVe,unsetTextDirection:()=>wVe,updateAttributes:()=>SVe,wrapIn:()=>CVe,wrapInList:()=>kVe});var X4e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),J4e=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Z4e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const p=Ch(h);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,g)}(p||p===0)&&e.lift(h,p)})}),!0},Q4e=t=>e=>t(e),e5e=()=>({state:t,dispatch:e})=>H3e(t,e),t5e=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new We(r.doc.resolve(Math.max(s-1,0)))),!0},n5e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);t.delete(a,l).scrollIntoView()}return!0}return!1};function hn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var r5e=t=>({tr:e,state:n,dispatch:r})=>{const i=hn(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},i5e=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},o5e=()=>({state:t,dispatch:e})=>_3e(t,e),s5e=()=>({commands:t})=>t.keyboardShortcut("Enter"),a5e=()=>({state:t,dispatch:e})=>W3e(t,e);function mj(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function $0(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:mj(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function gY(t,e,n={}){return t.find(r=>r.type===e&&$0(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function N3(t,e,n={}){return!!gY(t,e,n)}function gj(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!gY([...i.node.marks],e,n)))return;let s=i.index,a=t.start()+i.offset,l=s+1,c=a+i.node.nodeSize;for(;s>0&&N3([...t.parent.child(s-1).marks],e,n);)s-=1,a-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&N3([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function ia(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var l5e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=ia(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=gj(l,o,e);if(d&&d.from<=c&&d.to>=u){const f=We.create(s,d.from,d.to);n.setSelection(f)}}return!0},c5e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function yY(t){return t instanceof We}function wc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function vY(t,e=null){if(!e)return null;const n=Me.atStart(t),r=Me.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?We.create(t,wc(0,i,o),wc(t.content.size,i,o)):We.create(t,wc(e,i,o),wc(e,i,o))}function P3(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function I0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function u5e(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var d5e=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{(I0()||P3())&&r.dom.focus(),u5e()&&!I0()&&!P3()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};try{if(r.hasFocus()&&t===null||t===!1)return!0}catch{return!1}if(o&&t===null&&!yY(n.state.selection))return s(),!0;const a=vY(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},f5e=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),h5e=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),bY=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&bY(r)}return t};function xv(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return bY(n)}function Sg(t,e,n){if(t instanceof cl||t instanceof ee)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ee.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Sg("",e,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const l=new Zq({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Gp.fromSchema(l).parseSlice(xv(t),n.parseOptions):Gp.fromSchema(l).parse(xv(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Gp.fromSchema(e);return n.slice?o.parseSlice(xv(t),n.parseOptions).content:o.parse(xv(t),n.parseOptions)}return Sg("",e,n)}function p5e(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof po||i instanceof Fr))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),t.setSelection(Me.near(t.doc.resolve(s),n))}var m5e=t=>!("type"in t),g5e=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=y=>{o.emit("contentError",{editor:o,error:y,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Sg(e,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(y){l(y)}try{a=Sg(e,o.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!=null?s:o.options.enableContentCheck})}catch(y){return l(y),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,h=!0;if((m5e(a)?a:[a]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,h=h?y.isBlock:!1}),u===d&&h){const{parent:y}=r.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,d+=1)}let g;if(f){if(Array.isArray(e))g=e.map(y=>y.text||"").join("");else if(e instanceof ee){let y="";e.forEach(v=>{v.text&&(y+=v.text)}),g=y}else typeof e=="object"&&e&&e.text?g=e.text:g=e;r.insertText(g,u,d)}else{g=a;const y=r.doc.resolve(u),v=y.node(),b=y.parentOffset===0,x=v.isText||v.isTextblock,C=v.content.size>0;b&&x&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,g)}n.updateSelection&&p5e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},y5e=()=>({state:t,dispatch:e})=>F3e(t,e),v5e=()=>({state:t,dispatch:e})=>B3e(t,e),b5e=()=>({state:t,dispatch:e})=>j3e(t,e),x5e=()=>({state:t,dispatch:e})=>D3e(t,e),w5e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ES(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},S5e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=ES(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},C5e=()=>({state:t,dispatch:e})=>$3e(t,e),k5e=()=>({state:t,dispatch:e})=>I3e(t,e);function xY(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function E5e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))I0()||xY()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var A5e=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=E5e(t).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Ol(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?hn(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(i,f+d.nodeSize);a.push({node:d,from:h,to:p})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>$0(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var O5e=(t,e={})=>({state:n,dispatch:r})=>{const i=hn(t,n.schema);return Ol(n,i,e)?z3e(n,r):!1},T5e=()=>({state:t,dispatch:e})=>U3e(t,e),N5e=t=>({state:e,dispatch:n})=>{const r=hn(t,e.schema);return eze(r)(e,n)},P5e=()=>({state:t,dispatch:e})=>V3e(t,e);function _S(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function M3(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var M5e=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=_S(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(o=hn(t,r.schema)),a==="mark"&&(s=ia(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{o&&o===u.type&&(l=!0,i&&n.setNodeMarkup(d,void 0,M3(u.attrs,e))),s&&u.marks.length&&u.marks.forEach(f=>{s===f.type&&(l=!0,i&&n.addMark(d,d+u.nodeSize,s.create(M3(f.attrs,e))))})})}),l},_5e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),j5e=()=>({tr:t,dispatch:e})=>{if(e){const n=new ul(t.doc);t.setSelection(n)}return!0},$5e=()=>({state:t,dispatch:e})=>R3e(t,e),I5e=()=>({state:t,dispatch:e})=>L3e(t,e),R5e=()=>({state:t,dispatch:e})=>K3e(t,e),D5e=()=>({state:t,dispatch:e})=>Y3e(t,e),L5e=()=>({state:t,dispatch:e})=>q3e(t,e);function eN(t,e,n={},r={}){return Sg(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var F5e=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{const{doc:l}=o;if(r.preserveWhitespace!=="full"){const c=eN(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return s&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return s&&o.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function wY(t,e){const n=ia(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function SY(t,e){const n=new v7(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function B5e(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function z5e(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function V5e(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function jS(t){return e=>V5e(e.$from,t)}function ke(t,e,n){return t.config[e]===void 0&&t.parent?ke(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ke(t.parent,e,n):null}):t.config[e]}function yj(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ke(e,"addExtensions",n);return r?[e,...yj(r())]:e}).flat(10)}function vj(t,e){const n=my.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function CY(t){return typeof t=="function"}function ft(t,e=void 0,...n){return CY(t)?e?t.bind(e)(...n):t(...n):t}function W5e(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Vf(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function kY(t){const e=[],{nodeExtensions:n,markExtensions:r}=Vf(t),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=ke(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,h])=>{e.push({type:d,name:f,attribute:{...o,...h}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=ke(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:u,attribute:f})})}),e}function rn(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function Cg(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>rn(n,r),{})}function H5e(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function _3(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):H5e(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function j3(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&W5e(n)?!1:n!=null))}function $3(t){var e,n;const r={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(r.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function U5e(t,e){var n;const r=kY(t),{nodeExtensions:i,markExtensions:o}=Vf(t),s=(n=i.find(c=>ke(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((v,b)=>{const x=ke(b,"extendNodeSchema",d);return{...v,...x?x(c):{}}},{}),h=j3({...f,content:ft(ke(c,"content",d)),marks:ft(ke(c,"marks",d)),group:ft(ke(c,"group",d)),inline:ft(ke(c,"inline",d)),atom:ft(ke(c,"atom",d)),selectable:ft(ke(c,"selectable",d)),draggable:ft(ke(c,"draggable",d)),code:ft(ke(c,"code",d)),whitespace:ft(ke(c,"whitespace",d)),linebreakReplacement:ft(ke(c,"linebreakReplacement",d)),defining:ft(ke(c,"defining",d)),isolating:ft(ke(c,"isolating",d)),attrs:Object.fromEntries(u.map($3))}),p=ft(ke(c,"parseHTML",d));p&&(h.parseDOM=p.map(v=>_3(v,u)));const g=ke(c,"renderHTML",d);g&&(h.toDOM=v=>g({node:v,HTMLAttributes:Cg(v,u)}));const y=ke(c,"renderText",d);return y&&(h.toText=y),[c.name,h]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((y,v)=>{const b=ke(v,"extendMarkSchema",d);return{...y,...b?b(c):{}}},{}),h=j3({...f,inclusive:ft(ke(c,"inclusive",d)),excludes:ft(ke(c,"excludes",d)),group:ft(ke(c,"group",d)),spanning:ft(ke(c,"spanning",d)),code:ft(ke(c,"code",d)),attrs:Object.fromEntries(u.map($3))}),p=ft(ke(c,"parseHTML",d));p&&(h.parseDOM=p.map(y=>_3(y,u)));const g=ke(c,"renderHTML",d);return g&&(h.toDOM=y=>g({mark:y,HTMLAttributes:Cg(y,u)})),[c.name,h]}));return new Zq({topNode:s,nodes:a,marks:l})}function K5e(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function R0(t){return t.sort((n,r)=>{const i=ke(n,"priority")||100,o=ke(r,"priority")||100;return i>o?-1:i<o?1:0})}function EY(t){const e=R0(yj(t)),n=K5e(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function AY(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=o);const h=s==null?void 0:s[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)==null?void 0:f.slice(Math.max(r,c)-c,i-c))}),a}function G5e(t,e){const n={from:0,to:t.content.size};return AY(t,n,e)}function OY(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function q5e(t,e){const n=hn(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function TY(t,e){const n=_S(typeof e=="string"?e:e.name,t.schema);return n==="node"?q5e(t,e):n==="mark"?wY(t,e):{}}function Y5e(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function X5e(t){const e=Y5e(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function NY(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[o];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=e.slice(o).map(a,-1),u=e.slice(o).map(l),d=e.invert().map(c,-1),f=e.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),X5e(r)}function bj(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),s=gj(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}var J5e=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let o=r,s=null;for(;o>0&&s===null;){const a=i.node(o);(a==null?void 0:a.type.name)===e?s=a:o-=1}return[s,o]};function wv(t,e){return e.nodes[t]||e.marks[t]||null}function mb(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var Z5e=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),n};function tN(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?ia(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>$0(d.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;t.doc.nodesBetween(h,p,(g,y)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(h,y),b=Math.min(p,y+g.nodeSize),x=b-v;s+=x,a.push(...g.marks.map(C=>({mark:C,from:v,to:b})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>$0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=s}function Q5e(t,e,n={}){if(!e)return Ol(t,null,n)||tN(t,null,n);const r=_S(e,t.schema);return r==="node"?Ol(t,e,n):r==="mark"?tN(t,e,n):!1}var eVe=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const o=jS(a=>a.type.name===e)(t.selection);if(!o)return!1;const s=t.doc.resolve(o.pos+1);return i.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},tVe=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function I3(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function R3(t,e){const{nodeExtensions:n}=Vf(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=ft(ke(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function $S(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&($S(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function PY(t){return t instanceof _e}var MY=class _Y{constructor(e){this.position=e}static fromJSON(e){return new _Y(e.position)}toJSON(){return{position:this.position}}};function nVe(t,e){const n=e.mapping.mapResult(t.position);return{position:new MY(n.pos),mapResult:n}}function rVe(t){return new MY(t)}function iVe(t,e,n){var r;const{selection:i}=e;let o=null;if(yY(i)&&(o=i.$cursor),o){const a=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=h&&p}return!c}),c})}var oVe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=ia(t,r.schema);if(i)if(s){const c=wY(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),g=Math.min(h+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(p,g,l.create({...v.attrs,...e}))}):n.addMark(p,g,l.create(e))})});return iVe(r,n,l)},sVe=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),aVe=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=hn(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>qB(o,{...s,...e})(n)?!0:a.clearNodes()).command(({state:a})=>qB(o,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},lVe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=wc(t,0,r.content.size),o=_e.create(r,i);e.setSelection(o)}return!0},cVe=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=r;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),i&&n.doc.nodesBetween(s,a,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:t})}),!0},uVe=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=We.atStart(r).from,a=We.atEnd(r).to,l=wc(i,s,a),c=wc(o,s,a),u=We.create(r,l,c);e.setSelection(u)}return!0},dVe=t=>({state:e,dispatch:n})=>{const r=hn(t,e.schema);return rze(r)(e,n)};function D3(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}var fVe=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=mb(c,a.node().type.name,a.node().attrs);if(o instanceof _e&&o.node.isBlock)return!a.parentOffset||!Dd(s,a.pos)?!1:(r&&(t&&D3(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:B5e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=Dd(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&Dd(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(p&&(o instanceof We&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),y=e.doc.resolve(g);a.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&D3(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},hVe=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const a=hn(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=ee.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let A=l.depth-b;A>=l.depth-3;A-=1)v=ee.from(l.node(A).copy(v));const x=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...mb(f,l.node().type.name,l.node().attrs),...e},S=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill(C))||void 0;v=v.append(ee.from(a.createAndFill(null,S)||void 0));const k=l.before(l.depth-(b-1));n.replace(k,l.after(-x),new he(v,4-b,0));let E=-1;n.doc.nodesBetween(k,n.doc.content.size,(A,O)=>{if(E>-1)return!1;A.isTextblock&&A.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(We.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...mb(f,d.type.name,d.attrs),...e},g={...mb(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const y=h?[{type:a,attrs:p},{type:h,attrs:g}]:[{type:a,attrs:p}];if(!Dd(n.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:b}=r,{splittableMarks:x}=o.extensionManager,C=b||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!C||!i)return!0;const S=C.filter(k=>x.includes(k.type.name));n.ensureMarks(S)}return!0},qk=(t,e)=>{const n=jS(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Fl(t.doc,n.pos)&&t.join(n.pos),!0},Yk=(t,e)=>{const n=jS(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Fl(t.doc,r)&&t.join(r),!0},pVe=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=hn(t,s.schema),p=hn(e,s.schema),{selection:g,storedMarks:y}=s,{$from:v,$to:b}=g,x=v.blockRange(b),C=y||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const S=jS(k=>R3(k.type.name,d))(g);if(x.depth>=1&&S&&x.depth-S.depth<=1){if(S.node.type===h)return c.liftListItem(p);if(R3(S.node.type.name,d)&&h.validContent(S.node.content)&&a)return l().command(()=>(o.setNodeMarkup(S.pos,h),!0)).command(()=>qk(o,h)).command(()=>Yk(o,h)).run()}return!n||!C||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>qk(o,h)).command(()=>Yk(o,h)).run():l().command(()=>{const k=u().wrapInList(h,r),E=C.filter(A=>f.includes(A.type.name));return o.ensureMarks(E),k?!0:c.clearNodes()}).wrapInList(h,r).command(()=>qk(o,h)).command(()=>Yk(o,h)).run()},mVe=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=ia(t,r.schema);return tN(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},gVe=(t,e,n={})=>({state:r,commands:i})=>{const o=hn(t,r.schema),s=hn(e,r.schema),a=Ol(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...n})},yVe=(t,e={})=>({state:n,commands:r})=>{const i=hn(t,n.schema);return Ol(n,i,e)?r.lift(i):r.wrapIn(i,e)},vVe=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},bVe=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},xVe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=ia(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:f,to:h}=a;const p=(o=c.marks().find(y=>y.type===l))==null?void 0:o.attrs,g=gj(c,l,p);g&&(f=g.from,h=g.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},wVe=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let o,s;return typeof t=="number"?(o=t,s=t):t&&"from"in t&&"to"in t?(o=t.from,s=t.to):(o=i.from,s=i.to),r&&e.doc.nodesBetween(o,s,(a,l)=>{if(a.isText)return;const c={...a.attrs};delete c.dir,e.setNodeMarkup(l,void 0,c)}),!0},SVe=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=_S(typeof t=="string"?t:t.name,r.schema);if(!a)return!1;a==="node"&&(o=hn(t,r.schema)),a==="mark"&&(s=ia(t,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,h,p,g;n.selection.empty?r.doc.nodesBetween(u,d,(y,v)=>{o&&o===y.type&&(l=!0,p=Math.max(v,u),g=Math.min(v+y.nodeSize,d),f=v,h=y)}):r.doc.nodesBetween(u,d,(y,v)=>{v<u&&o&&o===y.type&&(l=!0,p=Math.max(v,u),g=Math.min(v+y.nodeSize,d),f=v,h=y),v>=u&&v<=d&&(o&&o===y.type&&(l=!0,i&&n.setNodeMarkup(v,void 0,{...y.attrs,...e})),s&&y.marks.length&&y.marks.forEach(b=>{if(s===b.type&&(l=!0,i)){const x=Math.max(v,u),C=Math.min(v+y.nodeSize,d);n.addMark(x,C,s.create({...b.attrs,...e}))}}))}),h&&(f!==void 0&&i&&n.setNodeMarkup(f,void 0,{...h.attrs,...e}),s&&h.marks.length&&h.marks.forEach(y=>{s===y.type&&i&&n.addMark(p,g,s.create({...y.attrs,...e}))}))}),l},CVe=(t,e={})=>({state:n,dispatch:r})=>{const i=hn(t,n.schema);return X3e(i,e)(n,r)},kVe=(t,e={})=>({state:n,dispatch:r})=>{const i=hn(t,n.schema);return J3e(i,e)(n,r)},EVe=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},IS=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},AVe=(t,e)=>{if(mj(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Sv(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=Z5e(c)+o;return s.forEach(f=>{if(u)return;const h=AVe(d,f.find);if(!h)return;const p=l.state.tr,g=PS({state:l.state,transaction:p}),y={from:r-(h[0].length-o.length),to:i},{commands:v,chain:b,can:x}=new MS({editor:n,state:g});f.handler({state:g,range:y,match:h,commands:v,chain:b,can:x})===null||!p.steps.length||(f.undoable&&p.setMeta(a,{transform:p,from:r,to:i,text:o}),l.dispatch(p),u=!0)}),u}function OVe(t){const{editor:e,rules:n}=t,r=new Wt({state:{init(){return null},apply(i,o,s){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=vj(ee.from(u),s.schema);const{from:d}=l,f=d+u.length;Sv({editor:e,from:d,to:f,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return Sv({editor:e,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Sv({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Sv({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function TVe(t){return Object.prototype.toString.call(t).slice(8,-1)}function Cv(t){return TVe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function jY(t,e){const n={...t};return Cv(t)&&Cv(e)&&Object.keys(e).forEach(r=>{Cv(e[r])&&Cv(t[r])?n[r]=jY(t[r],e[r]):n[r]=e[r]}),n}var xj=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...ft(ke(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ft(ke(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>jY(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},ju=class $Y extends xj{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new $Y(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function NVe(t){return typeof t=="number"}var PVe=class{constructor(t){this.find=t.find,this.handler=t.handler}},MVe=(t,e,n)=>{if(mj(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function _Ve(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=t,{commands:l,chain:c,can:u}=new MS({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(h,p)=>{var g,y,v,b,x;if((y=(g=h.type)==null?void 0:g.spec)!=null&&y.code||!(h.isText||h.isTextblock||h.isInline))return;const C=(x=(b=(v=h.content)==null?void 0:v.size)!=null?b:h.nodeSize)!=null?x:0,S=Math.max(r,p),k=Math.min(i,p+C);if(S>=k)return;const E=h.isText?h.text||"":h.textBetween(S-p,k-p,void 0,"");MVe(E,o.find,s).forEach(O=>{if(O.index===void 0)return;const P=S+O.index+1,T=P+O[0].length,N={from:n.tr.mapping.map(P),to:n.tr.mapping.map(T)},$=o.handler({state:n,range:N,match:O,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push($)})}),d.every(h=>h!==null)}var kv=null,jVe=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function $Ve(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:f,rule:h,pasteEvt:p})=>{const g=u.tr,y=PS({state:u,transaction:g});if(!(!_Ve({editor:e,state:y,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new Wt({view(d){const f=p=>{var g;r=(g=d.dom.parentElement)!=null&&g.contains(p.target)?d.dom.parentElement:null,r&&(kv=e)},h=()=>{kv&&(kv=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(o=r===d.dom.parentElement,a=f,!o){const h=kv;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,f)=>{var h;const p=(h=f.clipboardData)==null?void 0:h.getData("text/html");return s=f,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!i,y=p.getMeta("uiEvent")==="drop"&&!o,v=p.getMeta("applyPasteRules"),b=!!v;if(!g&&!y&&!b)return;if(b){let{text:S}=v;typeof S=="string"?S=S:S=vj(ee.from(S),h.schema);const{from:k}=v,E=k+S.length,A=jVe(S);return l({rule:u,state:h,from:k,to:{b:E},pasteEvt:A})}const x=f.doc.content.findDiffStart(h.doc.content),C=f.doc.content.findDiffEnd(h.doc.content);if(!(!NVe(x)||!C||x===C.b))return l({rule:u,state:h,from:x,to:C,pasteEvt:s})}}))}var RS=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=EY(t),this.schema=U5e(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:wv(e.name,this.schema)},r=ke(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return R0([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:wv(r.name,this.schema)},o=[],s=ke(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&ke(r,"exitable",i)&&(a.ArrowRight=()=>ju.handleExit({editor:t,mark:r})),s){const f=Object.fromEntries(Object.entries(s()).map(([h,p])=>[h,()=>p({editor:t})]));a={...a,...f}}const l=q4e(a);o.push(l);const c=ke(r,"addInputRules",i);if(I3(r,t.options.enableInputRules)&&c){const f=c();if(f&&f.length){const h=OVe({editor:t,rules:f}),p=Array.isArray(h)?h:[h];o.push(...p)}}const u=ke(r,"addPasteRules",i);if(I3(r,t.options.enablePasteRules)&&u){const f=u();if(f&&f.length){const h=$Ve({editor:t,rules:f});o.push(...h)}}const d=ke(r,"addProseMirrorPlugins",i);if(d){const f=d();o.push(...f)}return o})}get attributes(){return kY(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=Vf(this.extensions);return Object.fromEntries(e.filter(n=>!!ke(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:hn(n.name,this.schema)},o=ke(n,"addNodeView",i);if(!o)return[];const s=o();if(!s)return[];const a=(l,c,u,d,f)=>{const h=Cg(l,r);return s({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:t,extension:n,HTMLAttributes:h})};return[n.name,a]}))}dispatchTransaction(t){const{editor:e}=this;return R0([...this.extensions].reverse()).reduceRight((r,i)=>{const o={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:wv(i.name,this.schema)},s=ke(i,"dispatchTransaction",o);return s?a=>{s.call(o,{transaction:a,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=Vf(this.extensions);return Object.fromEntries(e.filter(n=>!!ke(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ia(n.name,this.schema)},o=ke(n,"addMarkView",i);if(!o)return[];const s=(a,l,c)=>{const u=Cg(a,r);return o()({mark:a,view:l,inline:c,editor:t,extension:n,HTMLAttributes:u,updateAttributes:d=>{YVe(a,t,d)}})};return[n.name,s]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:wv(e.name,this.schema)};e.type==="mark"&&((n=ft(ke(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=ke(e,"onBeforeCreate",r),o=ke(e,"onCreate",r),s=ke(e,"onUpdate",r),a=ke(e,"onSelectionUpdate",r),l=ke(e,"onTransaction",r),c=ke(e,"onFocus",r),u=ke(e,"onBlur",r),d=ke(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};RS.resolve=EY;RS.sort=R0;RS.flatten=yj;var IVe={};pj(IVe,{ClipboardTextSerializer:()=>RY,Commands:()=>DY,Delete:()=>LY,Drop:()=>FY,Editable:()=>BY,FocusEvents:()=>VY,Keymap:()=>WY,Paste:()=>HY,Tabindex:()=>UY,TextDirection:()=>KY,focusEventsPluginKey:()=>zY});var Ht=class IY extends xj{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new IY(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},RY=Ht.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Wt({key:new Zt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=OY(n);return AY(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),DY=Ht.create({name:"commands",addCommands(){return{...mY}}}),LY=Ht.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const o=()=>{var s,a,l,c;if((c=(l=(a=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,t))!=null?c:t.getMeta("y-sync$"))return;const u=SY(t.before,[t,...e]);NY(u).forEach(h=>{u.mapping.mapResult(h.oldRange.from).deletedAfter&&u.mapping.mapResult(h.oldRange.to).deletedBefore&&u.before.nodesBetween(h.oldRange.from,h.oldRange.to,(p,g)=>{const y=g+p.nodeSize-2,v=h.oldRange.from<=g&&y<=h.oldRange.to;this.editor.emit("delete",{type:"node",node:p,from:g,to:y,newFrom:u.mapping.map(g),newTo:u.mapping.map(y),deletedRange:h.oldRange,newRange:h.newRange,partial:!v,editor:this.editor,transaction:t,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((h,p)=>{var g,y;if(h instanceof Sh){const v=f.slice(p).map(h.from,-1),b=f.slice(p).map(h.to),x=f.invert().map(v,-1),C=f.invert().map(b),S=(g=u.doc.nodeAt(v-1))==null?void 0:g.marks.some(E=>E.eq(h.mark)),k=(y=u.doc.nodeAt(b))==null?void 0:y.marks.some(E=>E.eq(h.mark));this.editor.emit("delete",{type:"mark",mark:h.mark,from:h.from,to:h.to,deletedRange:{from:x,to:C},newRange:{from:v,to:b},partial:!!(k||S),editor:this.editor,transaction:t,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),FY=Ht.create({name:"drop",addProseMirrorPlugins(){return[new Wt({key:new Zt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),BY=Ht.create({name:"editable",addProseMirrorPlugins(){return[new Wt({key:new Zt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),zY=new Zt("focusEvents"),VY=Ht.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Wt({key:zY,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),WY=Ht.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,g=p.parent.type.spec.isolating,y=d.pos-d.parentOffset,v=g&&p.parent.childCount===1?y===d.pos:Me.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return I0()||xY()?o:i},addProseMirrorPlugins(){return[new Wt({key:new Zt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(g=>g.getMeta("composition")))return;const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=Me.atStart(e.doc).from,c=Me.atEnd(e.doc).to;if(o||!(s===l&&a===c)||!$S(n.doc))return;const f=n.tr,h=PS({state:n,transaction:f}),{commands:p}=new MS({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),HY=Ht.create({name:"paste",addProseMirrorPlugins(){return[new Wt({key:new Zt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),UY=Ht.create({name:"tabindex",addProseMirrorPlugins(){return[new Wt({key:new Zt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),KY=Ht.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=Vf(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Wt({key:new Zt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),RVe=class xp{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new xp(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new xp(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new xp(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,s=n.isInline,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(a);if(!i&&!s&&l.depth<=this.depth)return;const c=new xp(l,this.editor,i,i||s?n:null);i&&(c.actualDepth=this.depth+1),e.push(c)}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(l=>n[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},DVe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function LVe(t,e,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute(`data-tiptap-style${n?`-${n}`:""}`,""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var FVe=class extends EVe{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:nVe,createMappablePosition:rVe},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=vY(e,this.options.autofocus);this.editorState=Cd.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=LVe(DVe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=CY(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(s=>!s.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[BY,RY.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),DY,VY,WY,UY,FY,HY,LY,KY.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new RS(r,this)}createCommandManager(){this.commandManager=new MS({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=eN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=eN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),i=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new pY(t,{...e,attributes:{role:"textbox",...e==null?void 0:e.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),i=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const s=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=s==null?void 0:s.getMeta("focus"),l=s==null?void 0:s.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),!(t.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return TY(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return Q5e(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return vj(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return G5e(this.state.doc,{blockSeparator:e,textSerializers:{...OY(this.schema),...n}})}get isEmpty(){return $S(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new RVe(e,this)}get $doc(){return this.$pos(0)}};function Wf(t){return new IS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ft(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(bj(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(g=>g===t.type&&g!==h.mark.type)).filter(h=>h.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const f=n.from+l+s.length;o.addMark(n.from+l,f,t.type.create(i||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function GY(t){return new IS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=ft(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?s:s-1;o.insert(c,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()},undoable:t.undoable})}function nN(t){return new IS({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=ft(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function Hf(t){return new IS({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=ft(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&nj(l,t.type,o);if(!c)return null;if(s.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:h}=t.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(y=>h.includes(y.type.name));s.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&Fl(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&s.join(n.from-1)},undoable:t.undoable})}var BVe=t=>"touches"in t,zVe=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.clientX-this.startX,c=a.clientY-this.startY;this.handleResize(l,c)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.touches[0];if(!l)return;const c=l.clientX-this.startX,u=l.clientY-this.startY;this.handleResize(c,u)},this.handleMouseUp=()=>{if(!this.isResizing)return;const a=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(a,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,i,o,s;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t==null?void 0:t.options)!=null&&r.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(o=t.options)!=null&&o.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(s=t.options)!=null&&s.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var t;return(t=this.contentElement)!=null?t:null}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),i=e.includes("left"),o=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),i&&(t.style.left="0"),o&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,BVe(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),o=this.applyConstraints(r,i,n);this.element.style.width=`${o.width}px`,this.element.style.height=`${o.height}px`,this.onResize&&this.onResize(o.width,o.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,i=this.startHeight;const o=t.includes("right"),s=t.includes("left"),a=t.includes("bottom"),l=t.includes("top");return o?r=this.startWidth+e:s&&(r=this.startWidth-e),a?i=this.startHeight+n:l&&(i=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(o?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(a?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,t):{width:r,height:i}}applyConstraints(t,e,n){var r,i,o,s;if(!n){let c=Math.max(this.minSize.width,t),u=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(c=Math.min(this.maxSize.width,c)),(i=this.maxSize)!=null&&i.height&&(u=Math.min(this.maxSize.height,u)),{width:c,height:u}}let a=t,l=e;return a<this.minSize.width&&(a=this.minSize.width,l=a/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,a=l*this.aspectRatio),(o=this.maxSize)!=null&&o.width&&a>this.maxSize.width&&(a=this.maxSize.width,l=a/this.aspectRatio),(s=this.maxSize)!=null&&s.height&&l>this.maxSize.height&&(l=this.maxSize.height,a=l*this.aspectRatio),{width:a,height:l}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function VVe(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof _e){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var WVe={};pj(WVe,{createAtomBlockMarkdownSpec:()=>HVe,createBlockMarkdownSpec:()=>UVe,createInlineMarkdownSpec:()=>qVe,parseAttributes:()=>wj,parseIndentedBlocks:()=>rN,renderNestedMarkdownContent:()=>Cj,serializeAttributes:()=>Sj});function wj(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));e.class=c.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const s=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(s)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),h=n[f];h&&(e[c]=h.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(e[u]=!0)}),e}function Sj(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function HVe(t){const{nodeName:e,name:n,parseAttributes:r=wj,serializeAttributes:i=Sj,defaultAttributes:o={},requiredAttributes:s=[],allowedAttributes:a}=t,l=n||e,c=u=>{if(!a)return u;const d={};return a.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...o,...u.attributes};return d.createNode(e,f,[])},markdownTokenizer:{name:e,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),h=(d=u.match(f))==null?void 0:d.index;return h!==void 0?h:-1},tokenize(u,d,f){const h=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),p=u.match(h);if(!p)return;const g=p[1]||"",y=r(g);if(!s.find(b=>!(b in y)))return{type:e,raw:p[0],attributes:y}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=i(d),h=f?` {${f}}`:"";return`:::${l}${h} :::`}}}function UVe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=wj,serializeAttributes:o=Sj,defaultAttributes:s={},content:a="block",allowedAttributes:l}=t,c=n||e,u=d=>{if(!l)return d;const f={};return l.forEach(h=>{h in d&&(f[h]=d[h])}),f};return{parseMarkdown:(d,f)=>{let h;if(r){const g=r(d);h=typeof g=="string"?[{type:"text",text:g}]:g}else a==="block"?h=f.parseChildren(d.tokens||[]):h=f.parseInline(d.tokens||[]);const p={...s,...d.attributes};return f.createNode(e,p,h)},markdownTokenizer:{name:e,level:"block",start(d){var f;const h=new RegExp(`^:::${c}`,"m"),p=(f=d.match(h))==null?void 0:f.index;return p!==void 0?p:-1},tokenize(d,f,h){var p;const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),y=d.match(g);if(!y)return;const[v,b=""]=y,x=i(b);let C=1;const S=v.length;let k="";const E=/^:::([\w-]*)(\s.*)?/gm,A=d.slice(S);for(E.lastIndex=0;;){const O=E.exec(A);if(O===null)break;const P=O.index,T=O[1];if(!((p=O[2])!=null&&p.endsWith(":::"))){if(T)C+=1;else if(C-=1,C===0){const N=A.slice(0,P);k=N.trim();const $=d.slice(0,S+P+O[0].length);let _=[];if(k)if(a==="block")for(_=h.blockTokens(N),_.forEach(I=>{I.text&&(!I.tokens||I.tokens.length===0)&&(I.tokens=h.inlineTokens(I.text))});_.length>0;){const I=_[_.length-1];if(I.type==="paragraph"&&(!I.text||I.text.trim()===""))_.pop();else break}else _=h.inlineTokens(k);return{type:e,raw:$,attributes:x,content:k,tokens:_}}}}}},renderMarkdown:(d,f)=>{const h=u(d.attrs||{}),p=o(h),g=p?` {${p}}`:"",y=f.renderChildren(d.content||[],`

`);return`:::${c}${g}

${y}

:::`}}}function KVe(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,o,s]=r;e[i]=o||s,r=n.exec(t)}return e}function GVe(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function qVe(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=KVe,serializeAttributes:o=GVe,defaultAttributes:s={},selfClosing:a=!1,allowedAttributes:l}=t,c=n||e,u=f=>{if(!l)return f;const h={};return l.forEach(p=>{const g=typeof p=="string"?p:p.name,y=typeof p=="string"?void 0:p.skipIfDefault;if(g in f){const v=f[g];if(y!==void 0&&v===y)return;h[g]=v}}),h},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,h)=>{const p={...s,...f.attributes};if(a)return h.createNode(e,p);const g=r?r(f):f.content||"";return g?h.createNode(e,p,[h.createTextNode(g)]):h.createNode(e,p,[])},markdownTokenizer:{name:e,level:"inline",start(f){const h=a?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),p=f.match(h),g=p==null?void 0:p.index;return g!==void 0?g:-1},tokenize(f,h,p){const g=a?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),y=f.match(g);if(!y)return;let v="",b="";if(a){const[,C]=y;b=C}else{const[,C,S]=y;b=C,v=S||""}const x=i(b.trim());return{type:e,raw:y[0],content:v.trim(),attributes:x}}},renderMarkdown:f=>{let h="";r?h=r(f):f.content&&f.content.length>0&&(h=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const p=u(f.attrs||{}),g=o(p),y=g?` ${g}`:"";return a?`[${c}${y}]`:`[${c}${y}]${h}[/${c}]`}}}function rN(t,e,n){var r,i,o,s;const a=t.split(`
`),l=[];let c="",u=0;const d=e.baseIndentSize||2;for(;u<a.length;){const f=a[u],h=f.match(e.itemPattern);if(!h){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const p=e.extractItemData(h),{indentLevel:g,mainContent:y}=p;c=`${c}${f}
`;const v=[y];for(u+=1;u<a.length;){const S=a[u];if(S.trim()===""){const E=a.slice(u+1).findIndex(P=>P.trim()!=="");if(E===-1)break;if((((i=(r=a[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>g){v.push(S),c=`${c}${S}
`,u+=1;continue}else break}if((((s=(o=S.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:s.length)||0)>g)v.push(S),c=`${c}${S}
`,u+=1;else break}let b;const x=v.slice(1);if(x.length>0){const S=x.map(k=>k.slice(g+d)).join(`
`);S.trim()&&(e.customNestedParser?b=e.customNestedParser(S):b=n.blockTokens(S))}const C=e.createToken(p,b);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function Cj(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[o,...s]=t.content,a=e.renderChildren([o]),l=[`${i}${a}`];return s&&s.length>0&&s.forEach(c=>{const u=e.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?e.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function YVe(t,e,n={}){const{state:r}=e,{doc:i,tr:o}=r,s=t;i.descendants((a,l)=>{const c=o.mapping.map(l),u=o.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(h=>{if(h!==s)return!1;d=h}),!d)return;let f=!1;if(Object.keys(n).forEach(h=>{n[h]!==d.attrs[h]&&(f=!0)}),f){const h=t.type.create({...t.attrs,...n});o.removeMark(c,u,t.type),o.addMark(c,u,h)}}),o.docChanged&&e.view.dispatch(o)}var zr=class qY extends xj{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new qY(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function fu(t){return new PVe({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=ft(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),f=d+a.length;if(bj(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(y=>y===t.type&&y!==p.mark.type)).filter(p=>p.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+a.length,s.addMark(n.from+u,c,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}var YY={exports:{}},XY={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS=w,XVe=E1;function JVe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ZVe=typeof Object.is=="function"?Object.is:JVe,QVe=XVe.useSyncExternalStore,eWe=DS.useRef,tWe=DS.useEffect,nWe=DS.useMemo,rWe=DS.useDebugValue;XY.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=eWe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=nWe(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return d=p}return d=h}if(p=d,ZVe(u,h))return p;var g=r(h);return i!==void 0&&i(p,g)?(u=h,p):(u=h,d=g)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=QVe(t,o[0],o[1]);return tWe(function(){s.hasValue=!0,s.value=a},[a]),rWe(a),a};YY.exports=XY;var iWe=YY.exports,oWe=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},sWe=({contentComponent:t})=>{const e=E1.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return m.jsx(m.Fragment,{children:Object.values(e)})};function aWe(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:JP.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var lWe=class extends M.Component{constructor(t){var e;super(t),this.editorContentRef=M.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=aWe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:oWe(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&m.jsx(sWe,{contentComponent:t.contentComponent})]})}},cWe=w.forwardRef((t,e)=>{const n=M.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return M.createElement(lWe,{key:n,innerRef:e,...t})}),JY=M.memo(cWe),uWe=typeof window<"u"?w.useLayoutEffect:w.useEffect,dWe=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function fWe(t){var e;const[n]=w.useState(()=>new dWe(t.editor)),r=iWe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:P9);return uWe(()=>n.watch(t.editor),[t.editor,n]),w.useDebugValue(r),r}var hWe=!1,iN=typeof window>"u",pWe=iN||!!(typeof window<"u"&&window.next),mWe=class ZY{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return iN||pWe?null:this.createEditor();if(this.options.current.immediatelyRender&&iN&&hWe)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new FVe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,o)=>{var s;return i===((s=n.extensions)==null?void 0:s[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ZY.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function gWe(t={},e=[]){const n=w.useRef(t);n.current=t;const[r]=w.useState(()=>new mWe(n)),i=E1.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return w.useDebugValue(i),w.useEffect(r.onRender(e)),fWe({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),i}var QY=w.createContext({editor:null});QY.Consumer;var yWe=w.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),vWe=()=>w.useContext(yWe);M.forwardRef((t,e)=>{const{onDragStart:n}=vWe(),r=t.as||"div";return m.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});M.createContext({markViewContentRef:()=>{}});var kj=w.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});kj.displayName="TiptapContext";var bWe=()=>w.useContext(kj);function eX({editor:t,instance:e,children:n}){const r=t??e;if(!r)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const i=w.useMemo(()=>({editor:r}),[r]),o=w.useMemo(()=>({editor:r}),[r]);return m.jsx(QY.Provider,{value:o,children:m.jsx(kj.Provider,{value:i,children:n})})}eX.displayName="Tiptap";function tX({...t}){const{editor:e}=bWe();return m.jsx(JY,{editor:e,...t})}tX.displayName="Tiptap.Content";Object.assign(eX,{Content:tX});var D0=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},xWe=/^\s*>\s$/,wWe=zr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return D0("blockquote",{...rn(this.options.HTMLAttributes,t),children:D0("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const a=e.renderChildren([i]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(a.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Hf({find:xWe,type:this.type})]}}),SWe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,CWe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,kWe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,EWe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,AWe=ju.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return D0("strong",{...rn(this.options.HTMLAttributes,t),children:D0("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Wf({find:SWe,type:this.type}),Wf({find:kWe,type:this.type})]},addPasteRules(){return[fu({find:CWe,type:this.type}),fu({find:EWe,type:this.type})]}}),OWe=/(^|[^`])`([^`]+)`(?!`)$/,TWe=/(^|[^`])`([^`]+)`(?!`)/g,NWe=ju.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",rn(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Wf({find:OWe,type:this.type})]},addPasteRules(){return[fu({find:TWe,type:this.type})]}}),Xk=4,PWe=/^```([a-z]+)?[\s\n]$/,MWe=/^~~~([a-z]+)?[\s\n]$/,_We=zr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Xk,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",rn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Xk,{state:r}=t,{selection:i}=r,{$from:o,empty:s}=i;if(o.parent.type!==this.type)return!1;const a=" ".repeat(n);return s?t.commands.insertContent(a):t.commands.command(({tr:l})=>{const{from:c,to:u}=i,h=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>a+p).join(`
`);return l.replaceWith(c,u,r.schema.text(h)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Xk,{state:r}=t,{selection:i}=r,{$from:o,empty:s}=i;return o.parent.type!==this.type?!1:s?t.commands.command(({tr:a})=>{var l;const{pos:c}=o,u=o.start(),d=o.end(),h=r.doc.textBetween(u,d,`
`,`
`).split(`
`);let p=0,g=0;const y=c-u;for(let k=0;k<h.length;k+=1){if(g+h[k].length>=y){p=k;break}g+=h[k].length+1}const b=((l=h[p].match(/^ */))==null?void 0:l[0])||"",x=Math.min(b.length,n);if(x===0)return!0;let C=u;for(let k=0;k<p;k+=1)C+=h[k].length+1;return a.delete(C,C+x),c-C<=x&&a.setSelection(We.create(a.doc,C)),!0}):t.commands.command(({tr:a})=>{const{from:l,to:c}=i,f=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(h=>{var p;const g=((p=h.match(/^ */))==null?void 0:p[0])||"",y=Math.min(g.length,n);return h.slice(y)}).join(`
`);return a.replaceWith(l,c,r.schema.text(f)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Me.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[nN({find:PWe,type:this.type,getAttributes:t=>({language:t[1]})}),nN({find:MWe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Wt({key:new Zt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(We.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),jWe=zr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),$We=zr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",rn(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(f=>a.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),IWe=zr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,rn(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>nN({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),RWe=zr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",rn(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!VVe(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return PY(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:s,dispatch:a})=>{if(a){const{$to:l}=s.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?s.setSelection(We.create(s.doc,l.pos+1)):l.nodeAfter.isBlock?s.setSelection(_e.create(s.doc,l.pos)):s.setSelection(We.create(s.doc,l.pos));else{const u=o.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u==null?void 0:u.create();d&&(s.insert(c,d),s.setSelection(We.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[GY({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),DWe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,LWe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,FWe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,BWe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,zWe=ju.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",rn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Wf({find:DWe,type:this.type}),Wf({find:FWe,type:this.type})]},addPasteRules(){return[fu({find:LWe,type:this.type}),fu({find:BWe,type:this.type})]}});const VWe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",WWe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",oN="numeric",sN="ascii",aN="alpha",Zp="asciinumeric",wp="alphanumeric",lN="domain",nX="emoji",HWe="scheme",UWe="slashscheme",Jk="whitespace";function KWe(t,e){return t in e||(e[t]=[]),e[t]}function Sc(t,e,n){e[oN]&&(e[Zp]=!0,e[wp]=!0),e[sN]&&(e[Zp]=!0,e[aN]=!0),e[Zp]&&(e[wp]=!0),e[aN]&&(e[wp]=!0),e[wp]&&(e[lN]=!0),e[nX]&&(e[lN]=!0);for(const r in e){const i=KWe(r,n);i.indexOf(t)<0&&i.push(t)}}function GWe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Mr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Mr.groups={};Mr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Mr.groups;let i;return e&&e.j?i=e:(i=new Mr(e),n&&r&&Sc(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(t[s]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||Mr.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let s,a=i.go(t);if(a?(s=new Mr,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Mr,o){if(r)if(s.t&&typeof s.t=="string"){const l=Object.assign(GWe(s.t,r),n);Sc(o,l,r)}else n&&Sc(o,n,r);s.t=o}return i.j[t]=s,s}};const Ke=(t,e,n,r,i)=>t.ta(e,n,r,i),Ut=(t,e,n,r,i)=>t.tr(e,n,r,i),L3=(t,e,n,r,i)=>t.ts(e,n,r,i),X=(t,e,n,r,i)=>t.tt(e,n,r,i),ms="WORD",cN="UWORD",rX="ASCIINUMERICAL",iX="ALPHANUMERICAL",kg="LOCALHOST",uN="TLD",dN="UTLD",gb="SCHEME",rd="SLASH_SCHEME",Ej="NUM",fN="WS",Aj="NL",Qp="OPENBRACE",em="CLOSEBRACE",L0="OPENBRACKET",F0="CLOSEBRACKET",B0="OPENPAREN",z0="CLOSEPAREN",V0="OPENANGLEBRACKET",W0="CLOSEANGLEBRACKET",H0="FULLWIDTHLEFTPAREN",U0="FULLWIDTHRIGHTPAREN",K0="LEFTCORNERBRACKET",G0="RIGHTCORNERBRACKET",q0="LEFTWHITECORNERBRACKET",Y0="RIGHTWHITECORNERBRACKET",X0="FULLWIDTHLESSTHAN",J0="FULLWIDTHGREATERTHAN",Z0="AMPERSAND",Q0="APOSTROPHE",ew="ASTERISK",Ea="AT",tw="BACKSLASH",nw="BACKTICK",rw="CARET",ja="COLON",Oj="COMMA",iw="DOLLAR",Co="DOT",ow="EQUALS",Tj="EXCLAMATION",vi="HYPHEN",tm="PERCENT",sw="PIPE",aw="PLUS",lw="POUND",nm="QUERY",Nj="QUOTE",oX="FULLWIDTHMIDDLEDOT",Pj="SEMI",ko="SLASH",rm="TILDE",cw="UNDERSCORE",sX="EMOJI",uw="SYM";var aX=Object.freeze({__proto__:null,ALPHANUMERICAL:iX,AMPERSAND:Z0,APOSTROPHE:Q0,ASCIINUMERICAL:rX,ASTERISK:ew,AT:Ea,BACKSLASH:tw,BACKTICK:nw,CARET:rw,CLOSEANGLEBRACKET:W0,CLOSEBRACE:em,CLOSEBRACKET:F0,CLOSEPAREN:z0,COLON:ja,COMMA:Oj,DOLLAR:iw,DOT:Co,EMOJI:sX,EQUALS:ow,EXCLAMATION:Tj,FULLWIDTHGREATERTHAN:J0,FULLWIDTHLEFTPAREN:H0,FULLWIDTHLESSTHAN:X0,FULLWIDTHMIDDLEDOT:oX,FULLWIDTHRIGHTPAREN:U0,HYPHEN:vi,LEFTCORNERBRACKET:K0,LEFTWHITECORNERBRACKET:q0,LOCALHOST:kg,NL:Aj,NUM:Ej,OPENANGLEBRACKET:V0,OPENBRACE:Qp,OPENBRACKET:L0,OPENPAREN:B0,PERCENT:tm,PIPE:sw,PLUS:aw,POUND:lw,QUERY:nm,QUOTE:Nj,RIGHTCORNERBRACKET:G0,RIGHTWHITECORNERBRACKET:Y0,SCHEME:gb,SEMI:Pj,SLASH:ko,SLASH_SCHEME:rd,SYM:uw,TILDE:rm,TLD:uN,UNDERSCORE:cw,UTLD:dN,UWORD:cN,WORD:ms,WS:fN});const fs=/[a-z]/,Qh=/\p{L}/u,Zk=/\p{Emoji}/u,hs=/\d/,Qk=/\s/,F3="\r",eE=`
`,qWe="",YWe="",tE="";let Ev=null,Av=null;function XWe(t=[]){const e={};Mr.groups=e;const n=new Mr;Ev==null&&(Ev=B3(VWe)),Av==null&&(Av=B3(WWe)),X(n,"'",Q0),X(n,"{",Qp),X(n,"}",em),X(n,"[",L0),X(n,"]",F0),X(n,"(",B0),X(n,")",z0),X(n,"<",V0),X(n,">",W0),X(n,"",H0),X(n,"",U0),X(n,"",K0),X(n,"",G0),X(n,"",q0),X(n,"",Y0),X(n,"",X0),X(n,"",J0),X(n,"&",Z0),X(n,"*",ew),X(n,"@",Ea),X(n,"`",nw),X(n,"^",rw),X(n,":",ja),X(n,",",Oj),X(n,"$",iw),X(n,".",Co),X(n,"=",ow),X(n,"!",Tj),X(n,"-",vi),X(n,"%",tm),X(n,"|",sw),X(n,"+",aw),X(n,"#",lw),X(n,"?",nm),X(n,'"',Nj),X(n,"/",ko),X(n,";",Pj),X(n,"~",rm),X(n,"_",cw),X(n,"\\",tw),X(n,"",oX);const r=Ut(n,hs,Ej,{[oN]:!0});Ut(r,hs,r);const i=Ut(r,fs,rX,{[Zp]:!0}),o=Ut(r,Qh,iX,{[wp]:!0}),s=Ut(n,fs,ms,{[sN]:!0});Ut(s,hs,i),Ut(s,fs,s),Ut(i,hs,i),Ut(i,fs,i);const a=Ut(n,Qh,cN,{[aN]:!0});Ut(a,fs),Ut(a,hs,o),Ut(a,Qh,a),Ut(o,hs,o),Ut(o,fs),Ut(o,Qh,o);const l=X(n,eE,Aj,{[Jk]:!0}),c=X(n,F3,fN,{[Jk]:!0}),u=Ut(n,Qk,fN,{[Jk]:!0});X(n,tE,u),X(c,eE,l),X(c,tE,u),Ut(c,Qk,u),X(u,F3),X(u,eE),Ut(u,Qk,u),X(u,tE,u);const d=Ut(n,Zk,sX,{[nX]:!0});X(d,"#"),Ut(d,Zk,d),X(d,qWe,d);const f=X(d,YWe);X(f,"#"),Ut(f,Zk,d);const h=[[fs,s],[hs,i]],p=[[fs,null],[Qh,a],[hs,o]];for(let g=0;g<Ev.length;g++)da(n,Ev[g],uN,ms,h);for(let g=0;g<Av.length;g++)da(n,Av[g],dN,cN,p);Sc(uN,{tld:!0,ascii:!0},e),Sc(dN,{utld:!0,alpha:!0},e),da(n,"file",gb,ms,h),da(n,"mailto",gb,ms,h),da(n,"http",rd,ms,h),da(n,"https",rd,ms,h),da(n,"ftp",rd,ms,h),da(n,"ftps",rd,ms,h),Sc(gb,{scheme:!0,ascii:!0},e),Sc(rd,{slashscheme:!0,ascii:!0},e),t=t.sort((g,y)=>g[0]>y[0]?1:-1);for(let g=0;g<t.length;g++){const y=t[g][0],b=t[g][1]?{[HWe]:!0}:{[UWe]:!0};y.indexOf("-")>=0?b[lN]=!0:fs.test(y)?hs.test(y)?b[Zp]=!0:b[sN]=!0:b[oN]=!0,L3(n,y,y,b)}return L3(n,"localhost",kg,{ascii:!0}),n.jd=new Mr(uw),{start:n,tokens:Object.assign({groups:e},aX)}}function lX(t,e){const n=JWe(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let a=t,l=null,c=0,u=null,d=-1,f=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(d=0,f=0,u=a):d>=0&&(d+=n[s].length,f++),c+=n[s].length,o+=n[s].length,s++;o-=d,s-=f,c-=d,i.push({t:u.t,v:e.slice(o-c,o),s:o-c,e:o})}return i}function JWe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function da(t,e,n,r,i){let o;const s=e.length;for(let a=0;a<s-1;a++){const l=e[a];t.j[l]?o=t.j[l]:(o=new Mr(r),o.jr=i.slice(),t.j[l]=o),t=o}return o=new Mr(n),o.jr=i.slice(),t.j[e[s-1]]=o,o}function B3(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let s=parseInt(t.substring(r,r+o),10);s>0;s--)n.pop();r+=o}else n.push(t[r]),r++}return e}const Eg={defaultProtocol:"http",events:null,format:z3,formatHref:z3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Mj(t,e=null){let n=Object.assign({},Eg);t&&(n=Object.assign(n,t instanceof Mj?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}Mj.prototype={o:Eg,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Eg[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function z3(t){return t}function cX(t,e){this.t="token",this.v=t,this.tk=e}cX.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Eg.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),s={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),u&&Object.assign(s,u),{tagName:i,attributes:s,content:o,eventListeners:d}}};function LS(t,e){class n extends cX{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const V3=LS("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),W3=LS("text"),ZWe=LS("nl"),Ov=LS("url",{isLink:!0,toHref(t=Eg.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==kg&&t[1].t===ja}}),gi=t=>new Mr(t);function QWe({groups:t}){const e=t.domain.concat([Z0,ew,Ea,tw,nw,rw,iw,ow,vi,Ej,tm,sw,aw,lw,ko,uw,rm,cw]),n=[Q0,ja,Oj,Co,Tj,tm,nm,Nj,Pj,V0,W0,Qp,em,F0,L0,B0,z0,H0,U0,K0,G0,q0,Y0,X0,J0],r=[Z0,Q0,ew,tw,nw,rw,iw,ow,vi,Qp,em,tm,sw,aw,lw,nm,ko,uw,rm,cw],i=gi(),o=X(i,rm);Ke(o,r,o),Ke(o,t.domain,o);const s=gi(),a=gi(),l=gi();Ke(i,t.domain,s),Ke(i,t.scheme,a),Ke(i,t.slashscheme,l),Ke(s,r,o),Ke(s,t.domain,s);const c=X(s,Ea);X(o,Ea,c),X(a,Ea,c),X(l,Ea,c);const u=X(o,Co);Ke(u,r,o),Ke(u,t.domain,o);const d=gi();Ke(c,t.domain,d),Ke(d,t.domain,d);const f=X(d,Co);Ke(f,t.domain,d);const h=gi(V3);Ke(f,t.tld,h),Ke(f,t.utld,h),X(c,kg,h);const p=X(d,vi);X(p,vi,p),Ke(p,t.domain,d),Ke(h,t.domain,d),X(h,Co,f),X(h,vi,p);const g=X(h,ja);Ke(g,t.numeric,V3);const y=X(s,vi),v=X(s,Co);X(y,vi,y),Ke(y,t.domain,s),Ke(v,r,o),Ke(v,t.domain,s);const b=gi(Ov);Ke(v,t.tld,b),Ke(v,t.utld,b),Ke(b,t.domain,s),Ke(b,r,o),X(b,Co,v),X(b,vi,y),X(b,Ea,c);const x=X(b,ja),C=gi(Ov);Ke(x,t.numeric,C);const S=gi(Ov),k=gi();Ke(S,e,S),Ke(S,n,k),Ke(k,e,S),Ke(k,n,k),X(b,ko,S),X(C,ko,S);const E=X(a,ja),A=X(l,ja),O=X(A,ko),P=X(O,ko);Ke(a,t.domain,s),X(a,Co,v),X(a,vi,y),Ke(l,t.domain,s),X(l,Co,v),X(l,vi,y),Ke(E,t.domain,S),X(E,ko,S),X(E,nm,S),Ke(P,t.domain,S),Ke(P,e,S),X(P,ko,S);const T=[[Qp,em],[L0,F0],[B0,z0],[V0,W0],[H0,U0],[K0,G0],[q0,Y0],[X0,J0]];for(let N=0;N<T.length;N++){const[$,_]=T[N],I=X(S,$);X(k,$,I),X(I,_,S);const R=gi(Ov);Ke(I,e,R);const F=gi();Ke(I,n),Ke(R,e,R),Ke(R,n,F),Ke(F,e,R),Ke(F,n,F),X(R,_,S),X(F,_,S)}return X(i,kg,b),X(i,Aj,ZWe),{start:i,tokens:aX}}function eHe(t,e,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let a=t,l=null,c=null,u=0,d=null,f=-1;for(;i<r&&!(l=a.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,i++,u++;if(f<0)i-=u,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(nE(W3,e,s)),s=[]),i-=f,u-=f;const h=d.t,p=n.slice(i-u,i);o.push(nE(h,e,p))}}return s.length>0&&o.push(nE(W3,e,s)),o}function nE(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const tHe=typeof console<"u"&&console&&console.warn||(()=>{}),nHe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Pt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function rHe(){return Mr.groups={},Pt.scanner=null,Pt.parser=null,Pt.tokenQueue=[],Pt.pluginQueue=[],Pt.customSchemes=[],Pt.initialized=!1,Pt}function H3(t,e=!1){if(Pt.initialized&&tHe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${nHe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Pt.customSchemes.push([t,e])}function iHe(){Pt.scanner=XWe(Pt.customSchemes);for(let t=0;t<Pt.tokenQueue.length;t++)Pt.tokenQueue[t][1]({scanner:Pt.scanner});Pt.parser=QWe(Pt.scanner.tokens);for(let t=0;t<Pt.pluginQueue.length;t++)Pt.pluginQueue[t][1]({scanner:Pt.scanner,parser:Pt.parser});return Pt.initialized=!0,Pt}function _j(t){return Pt.initialized||iHe(),eHe(Pt.parser.start,t,lX(Pt.scanner.start,t))}_j.scan=lX;function uX(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Mj(n),i=_j(t),o=[];for(let s=0;s<i.length;s++){const a=i[s];a.isLink&&(!e||a.t===e)&&r.check(a)&&o.push(a.toFormattedObject(r))}return o}var jj="[\0- -\u2029]",oHe=new RegExp(jj),sHe=new RegExp(`${jj}$`),aHe=new RegExp(jj,"g");function lHe(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function cHe(t){return new Wt({key:new Zt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=e.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=SY(n.doc,[...e]);if(NY(a).forEach(({newRange:c})=>{const u=z5e(r.doc,c,h=>h.isTextblock);let d,f;if(u.length>1)d=u[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const h=r.doc.textBetween(c.from,c.to," "," ");if(!sHe.test(h))return;d=u[0],f=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&f){const h=f.split(oHe).filter(Boolean);if(h.length<=0)return!1;const p=h[h.length-1],g=d.pos+f.lastIndexOf(p);if(!p)return!1;const y=_j(p).map(v=>v.toObject(t.defaultProtocol));if(!lHe(y))return!1;y.filter(v=>v.isLink).map(v=>({...v,from:g+v.start+1,to:g+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>t.validate(v.value)).filter(v=>t.shouldAutoLink(v.value)).forEach(v=>{bj(v.from,v.to,r.doc).some(b=>b.mark.type===t.type)||s.addMark(v.from,v.to,t.type.create({href:v.href}))})}}),!!s.steps.length)return s}})}function uHe(t){return new Wt({key:new Zt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let s=null;if(r.target instanceof HTMLAnchorElement)s=r.target;else{const l=r.target;if(!l)return!1;const c=t.editor.view.dom;s=l.closest("a"),s&&!c.contains(s)&&(s=null)}if(!s)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){const l=TY(e.state,t.type.name),c=(i=s.href)!=null?i:l.href,u=(o=s.target)!=null?o:l.target;c&&(window.open(c,u),a=!0)}return a}}})}function dHe(t){return new Wt({key:new Zt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:o}=e,{selection:s}=o,{empty:a}=s;if(a)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=uX(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.value)?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function ql(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(aHe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var dX=ju.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){H3(t);return}H3(t.scheme,t.optionalSlashes)})},onDestroy(){rHe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!ql(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const i=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!ql(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!ql(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rn(this.options.HTMLAttributes,t),0]:["a",rn(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n,r,i,o;const s=(r=(n=t.attrs)==null?void 0:n.href)!=null?r:"",a=(o=(i=t.attrs)==null?void 0:i.title)!=null?o:"",l=e.renderChildren(t);return a?`[${l}](${s} "${a}")`:`[${l}](${s})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!ql(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!ql(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[fu({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=uX(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:s=>!!ql(s,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(cHe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!ql(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(uHe({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(dHe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),fHe=Object.defineProperty,hHe=(t,e)=>{for(var n in e)fHe(t,n,{get:e[n],enumerable:!0})},pHe="listItem",U3="textStyle",K3=/^\s*([-+*])\s$/,fX=zr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",rn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(pHe,this.editor.getAttributes(U3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Hf({find:K3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Hf({find:K3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(U3),editor:this.editor})),[t]}}),hX=zr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",rn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const s=t.tokens.slice(1),a=e.parseChildren(s);n.push(...a)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Cj(t,e,r=>{var i,o;return r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${(((o=(i=r.meta)==null?void 0:i.parentAttrs)==null?void 0:o.start)||1)+r.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),mHe={};hHe(mHe,{findListItemPos:()=>by,getNextListDepth:()=>$j,handleBackspace:()=>hN,handleDelete:()=>pN,hasListBefore:()=>pX,hasListItemAfter:()=>gHe,hasListItemBefore:()=>mX,listItemHasSubList:()=>gX,nextListIsDeeper:()=>yX,nextListIsHigher:()=>vX});var by=(t,e)=>{const{$from:n}=e.selection,r=hn(t,e.schema);let i=null,o=n.depth,s=n.pos,a=null;for(;o>0&&a===null;)i=n.node(o),i.type===r?a=o:(o-=1,s-=1);return a===null?null:{$pos:e.doc.resolve(s),depth:a}},$j=(t,e)=>{const n=by(t,e);if(!n)return!1;const[,r]=J5e(e,t,n.$pos.pos+4);return r},pX=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),o=t.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},mX=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},gX=(t,e,n)=>{if(!n)return!1;const r=hn(t,e.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},hN=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Ol(t.state,e)&&pX(t.state,e,n)){const{$anchor:a}=t.state.selection,l=t.state.doc.resolve(a.before()-1),c=[];l.node().descendants((f,h)=>{f.type.name===e&&c.push({node:f,pos:h})});const u=c.at(-1);if(!u)return!1;const d=t.state.doc.resolve(l.start()+u.pos+1);return t.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!Ol(t.state,e)||!tVe(t.state))return!1;const r=by(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),s=gX(e,t.state,o);return mX(e,t.state)&&!s?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},yX=(t,e)=>{const n=$j(t,e),r=by(t,e);return!r||!n?!1:n>r.depth},vX=(t,e)=>{const n=$j(t,e),r=by(t,e);return!r||!n?!1:n<r.depth},pN=(t,e)=>{if(!Ol(t.state,e)||!eVe(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:yX(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():vX(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},gHe=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},bX=Ht.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&pN(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&pN(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&hN(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&hN(t,n,r)&&(e=!0)}),e}}}}),G3=/^(\s*)(\d+)\.\s+(.*)$/,yHe=/^\s/;function vHe(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],o=i.match(G3);if(!o)break;const[,s,a,l]=o,c=s.length;let u=l,d=n+1;const f=[i];for(;d<t.length;){const h=t[d];if(h.match(G3))break;if(h.trim()==="")f.push(h),u+=`
`,d+=1;else if(h.match(yHe))f.push(h),u+=`
${h.slice(c+2)}`,d+=1;else break}e.push({indent:c,number:parseInt(a,10),content:u.trim(),raw:f.join(`
`)}),r=d,n=d}return[e,r]}function xX(t,e,n){var r;const i=[];let o=0;for(;o<t.length;){const s=t[o];if(s.indent===e){const a=s.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=a.slice(1).join(`
`).trim();if(u){const h=n.blockTokens(u);c.push(...h)}let d=o+1;const f=[];for(;d<t.length&&t[d].indent>e;)f.push(t[d]),d+=1;if(f.length>0){const h=Math.min(...f.map(g=>g.indent)),p=xX(f,h,n);c.push({type:"list",ordered:!0,start:f[0].number,items:p,raw:f.map(g=>g.raw).join(`
`)})}i.push({type:"list_item",raw:s.raw,tokens:c}),o=d}else o+=1}return i}function bHe(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var xHe="listItem",q3="textStyle",Y3=/^(\d+)\.\s$/,wX=zr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",rn(this.options.HTMLAttributes,n),0]:["ol",rn(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?bHe(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[o,s]=vHe(i);if(o.length===0)return;const a=xX(o,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:a,raw:i.slice(0,s).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(xHe,this.editor.getAttributes(q3)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Hf({find:Y3,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Hf({find:Y3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(q3)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),wHe=/^\s*(\[([( |x])?\])\s$/,SHe=zr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",rn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Cj(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=d=>{var f,h;a.ariaLabel=((h=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:h.call(f,d,a.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};c(t),o.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",d=>d.preventDefault()),a.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const p=n();if(typeof p!="number")return!1;const g=h.doc.nodeAt(p);return h.setNodeMarkup(p,void 0,{...g==null?void 0:g.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,f)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{i.setAttribute(d,f)}),i.dataset.checked=t.attrs.checked,a.checked=t.attrs.checked,o.append(a,s),i.append(o,l),Object.entries(e).forEach(([d,f])=>{i.setAttribute(d,f)});let u=new Set(Object.keys(e));return{dom:i,contentDOM:l,update:d=>{if(d.type!==this.type)return!1;i.dataset.checked=d.attrs.checked,a.checked=d.attrs.checked,c(d);const f=r.extensionManager.attributes,h=Cg(d,f),p=new Set(Object.keys(h)),g=this.options.HTMLAttributes;return u.forEach(y=>{p.has(y)||(y in g?i.setAttribute(y,g[y]):i.removeAttribute(y))}),Object.entries(h).forEach(([y,v])=>{v==null?y in g?i.setAttribute(y,g[y]):i.removeAttribute(y):i.setAttribute(y,v)}),u=p,!0}}}},addInputRules(){return[Hf({find:wHe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),CHe=zr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",rn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=o=>{const s=rN(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);return s?[{type:"taskList",raw:s.raw,items:s.items}]:n.blockTokens(o)},i=rN(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,s)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:s}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Ht.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(fX.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(hX.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(bX.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(wX.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(SHe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(CHe.configure(this.options.taskList)),t}});var X3="&nbsp;",kHe="",EHe=zr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",rn(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];if(n.length===1&&n[0].type==="image")return e.parseChildren([n[0]]);const r=e.parseInline(n);return r.length===1&&r[0].type==="text"&&(r[0].text===X3||r[0].text===kHe)?e.createNode("paragraph",void 0,[]):e.createNode("paragraph",void 0,r)},renderMarkdown:(t,e)=>{if(!t)return"";const n=Array.isArray(t.content)?t.content:[];return n.length===0?X3:e.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),AHe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,OHe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,THe=ju.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",rn(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Wf({find:AHe,type:this.type})]},addPasteRules(){return[fu({find:OHe,type:this.type})]}}),NHe=zr.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),SX=ju.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",rn(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function PHe(t={}){return new Wt({view(e){return new MHe(e,t)}})}class MHe{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),s=o.width/i.offsetWidth,a=o.height/i.offsetHeight;if(n){let d=e.nodeBefore,f=e.nodeAfter;if(d||f){let h=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(h){let p=h.getBoundingClientRect(),g=d?p.bottom:p.top;d&&f&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;r={left:p.left,right:p.right,top:g-y,bottom:g+y}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*s;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,h=d.height/l.offsetHeight;c=d.left-l.scrollLeft*f,u=d.top-l.scrollTop*h}this.element.style.left=(r.left-c)/s+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=d7(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Xt extends Me{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Xt.valid(r)?new Xt(r):Me.near(r)}content(){return he.empty}eq(e){return e instanceof Xt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Xt(e.resolve(n.pos))}getBookmark(){return new Ij(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!_He(e)||!jHe(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Xt.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(Xt.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!_e.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(Xt.valid(a))return a}return null}}}Xt.prototype.visible=!1;Xt.findFrom=Xt.findGapCursorFrom;Me.jsonID("gapcursor",Xt);class Ij{constructor(e){this.pos=e}map(e){return new Ij(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Xt.valid(n)?new Xt(n):Me.near(n)}}function CX(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function _He(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||CX(i.type))return!0;if(i.inlineContent)return!1}}return!0}function jHe(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||CX(i.type))return!0;if(i.inlineContent)return!1}}return!0}function $He(){return new Wt({props:{decorations:LHe,createSelectionBetween(t,e,n){return e.pos==n.pos&&Xt.valid(n)?new Xt(n):null},handleClick:RHe,handleKeyDown:IHe,handleDOMEvents:{beforeinput:DHe}}})}const IHe=hj({ArrowLeft:Tv("horiz",-1),ArrowRight:Tv("horiz",1),ArrowUp:Tv("vert",-1),ArrowDown:Tv("vert",1)});function Tv(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof We){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Xt.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Xt(c))),!0):!1}}function RHe(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Xt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&_e.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Xt(r))),!0)}function DHe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Xt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ee.empty;for(let s=r.length-1;s>=0;s--)i=ee.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new he(i,0,0));return o.setSelection(We.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function LHe(t){if(!(t.selection instanceof Xt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Sr.create(t.doc,[rs.widget(t.selection.head,e,{key:"gapcursor"})])}var dw=200,Pn=function(){};Pn.prototype.append=function(e){return e.length?(e=Pn.from(e),!this.length&&e||e.length<dw&&this.leafAppend(e)||this.length<dw&&e.leafPrepend(this)||this.appendInner(e)):this};Pn.prototype.prepend=function(e){return e.length?Pn.from(e).append(this):this};Pn.prototype.appendInner=function(e){return new FHe(this,e)};Pn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Pn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Pn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Pn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Pn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Pn.from=function(e){return e instanceof Pn?e:e&&e.length?new kX(e):Pn.empty};var kX=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=dw)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=dw)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Pn);Pn.empty=new kX([]);var FHe=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Pn);const BHe=500;class ro{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new fa(d.map));let h=d.step.map(i.slice(o)),p;h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new fa(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new ro(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new fa(e.mapping.maps[u],d,n),h;(h=l&&l.merge(f))&&(f=h,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let c=s-r.depth;return c>VHe&&(a=zHe(a,c),s-=c),new ro(a.append(o),s)}remapping(e,n){let r=new a7;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new ro(this.items.append(e.map(n=>new fa(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let p=o.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),y=f.selection&&f.selection.map(o.slice(l+1,h));y&&a++,r.push(new fa(p,g,y))}else r.push(new fa(p))},i);let c=[];for(let f=n;f<s;f++)c.push(new fa(o.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new ro(u,a);return d.emptyItemCount()>BHe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let d=new fa(c.invert(),l,u),f,h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new ro(Pn.from(i.reverse()),o)}}ro.empty=new ro(Pn.empty,0);function zHe(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}let fa=class EX{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new EX(n.getMap().invert(),n,this.selection)}}};class Aa{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const VHe=20;function WHe(t,e,n,r){let i=n.getMeta(Bc),o;if(i)return i.historyState;n.getMeta(KHe)&&(t=new Aa(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Bc))return s.getMeta(Bc).redo?new Aa(t.done.addTransform(n,void 0,r,yb(e)),t.undone,J3(n.mapping.maps),t.prevTime,t.prevComposition):new Aa(t.done,t.undone.addTransform(n,void 0,r,yb(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!HHe(n,t.prevRanges)),c=s?rE(t.prevRanges,n.mapping):J3(n.mapping.maps);return new Aa(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,yb(e)),ro.empty,c,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Aa(t.done.rebased(n,o),t.undone.rebased(n,o),rE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Aa(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),rE(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function HHe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function J3(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function rE(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function UHe(t,e,n){let r=yb(e),i=Bc.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new Aa(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Bc,{redo:n,historyState:l})}let iE=!1,Z3=null;function yb(t){let e=t.plugins;if(Z3!=e){iE=!1,Z3=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){iE=!0;break}}return iE}const Bc=new Zt("history"),KHe=new Zt("closeHistory");function GHe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Wt({key:Bc,state:{init(){return new Aa(ro.empty,ro.empty,null,0,-1)},apply(e,n,r){return WHe(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?OX:r=="historyRedo"?TX:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function AX(t,e){return(n,r)=>{let i=Bc.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=UHe(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const OX=AX(!1,!0),TX=AX(!0,!0);Ht.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Wt({key:new Zt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const s=o-i,a=0,l=s;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return t=!0,c}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!e.getMeta("paste"))return!1;const a=e.selection.$head.pos,l=o-r,c=a-l,u=a;return e.deleteRange(c,u),!(this.storage.characters({node:e.doc})>r)}})]}});var qHe=Ht.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[PHe(this.options)]}});Ht.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Wt({key:new Zt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return Sr.create(t,[]);let s=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;s+=1});let a=0;return t.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&s-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";o.push(rs.node(c,c+l.nodeSize,{class:this.options.className}))}),Sr.create(t,o)}}})]}});var YHe=Ht.create({name:"gapCursor",addProseMirrorPlugins(){return[$He()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ft(ke(t,"allowGapCursor",n)))!=null?e:null}}}),Q3="placeholder";function XHe(t){return t.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}var JHe=Ht.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:Q3,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const t=this.options.dataAttribute?`data-${XHe(this.options.dataAttribute)}`:`data-${Q3}`;return[new Wt({key:new Zt("placeholder"),props:{decorations:({doc:e,selection:n})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=n,o=[];if(!r)return null;const s=this.editor.isEmpty;return e.descendants((a,l)=>{const c=i>=l&&i<=l+a.nodeSize,u=!a.isLeaf&&$S(a);if((c||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const f=rs.node(l,l+a.nodeSize,{class:d.join(" "),[t]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:l,hasAnchor:c}):this.options.placeholder});o.push(f)}return this.options.includeChildren}),Sr.create(e,o)}}})]}});Ht.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Wt({key:new Zt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||PY(n.selection)||t.view.dragging?null:Sr.create(n.doc,[rs.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function ez({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var ZHe=Ht.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Zt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Wt({key:e,appendTransaction:(i,o,s)=>{const{doc:a,tr:l,schema:c}=s,u=e.getState(s),d=a.content.size,f=c.nodes[n];if(u)return l.insert(d,f.create())},state:{init:(i,o)=>{const s=o.tr.doc.lastChild;return!ez({node:s,types:r})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const s=i.doc.lastChild;return!ez({node:s,types:r})}}})]}}),QHe=Ht.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>OX(t,e),redo:()=>({state:t,dispatch:e})=>TX(t,e)}},addProseMirrorPlugins(){return[GHe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),eUe=Ht.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(AWe.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(wWe.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(fX.configure(this.options.bulletList)),this.options.code!==!1&&i.push(NWe.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(_We.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(jWe.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(qHe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(YHe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push($We.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(IWe.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(QHe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(RWe.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(zWe.configure(this.options.italic)),this.options.listItem!==!1&&i.push(hX.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(bX.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(dX.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(wX.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(EHe.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(THe.configure(this.options.strike)),this.options.text!==!1&&i.push(NHe.configure(this.options.text)),this.options.underline!==!1&&i.push(SX.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(ZHe.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),tUe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,nUe=zr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",rn(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,o,s;const a=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",l=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",c=(s=(o=t.attrs)==null?void 0:o.title)!=null?s:"";return c?`![${l}](${a} "${c}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:o,HTMLAttributes:s,editor:a})=>{const l=document.createElement("img");Object.entries(s).forEach(([d,f])=>{if(f!=null)switch(d){case"width":case"height":break;default:l.setAttribute(d,f);break}}),l.src=s.src;const c=new zVe({element:l,editor:a,node:i,getPos:o,onResize:(d,f)=>{l.style.width=`${d}px`,l.style.height=`${f}px`},onCommit:(d,f)=>{const h=o();h!==void 0&&this.editor.chain().setNodeSelection(h).updateAttributes(this.name,{width:d,height:f}).run()},onUpdate:(d,f,h)=>d.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),u=c.dom;return u.style.visibility="hidden",u.style.pointerEvents="none",l.onload=()=>{u.style.visibility="",u.style.pointerEvents=""},c}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[GY({find:tUe,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),rUe=Ht.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}});function Ln(t){this.content=t}Ln.prototype={constructor:Ln,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Ln(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ln(n)},addToStart:function(t,e){return new Ln([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ln(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Ln(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ln.from(t),t.size?new Ln(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ln.from(t),t.size?new Ln(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ln.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ln.from=function(t){if(t instanceof Ln)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ln(e)};function NX(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=NX(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function PX(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=PX(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Y{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Y(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new Y(r,i)}cutByIndex(e,n){return e==n?Y.empty:e==0&&n==this.content.length?this:new Y(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Y(i,o)}addToStart(e){return new Y([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Y(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return NX(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return PX(this,e,n,r)}findIndex(e){if(e==0)return Nv(0,e);if(e==this.size)return Nv(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?Nv(n+1,o):Nv(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Y.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Y(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Y.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Y(n||e,r)}static from(e){if(!e)return Y.empty;if(e instanceof Y)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Y([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Y.empty=new Y([],0);const oE={index:0,offset:0};function Nv(t,e){return oE.index=t,oE.offset=e,oE}function fw(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!fw(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!fw(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Rt=class mN{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&fw(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return mN.none;if(e instanceof mN)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Rt.none=[];class hw extends Error{}class se{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=_X(this.content,e+this.openStart,n);return r&&new se(r,this.openStart,this.openEnd)}removeBetween(e,n){return new se(MX(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return se.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new se(Y.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new se(e,r,i)}}se.empty=new se(Y.empty,0,0);function MX(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(MX(o.content,e-i-1,n-i-1)))}function _X(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=_X(s.content,e-o-1,n,s);return a&&t.replaceChild(i,s.copy(a))}function iUe(t,e,n){if(n.openStart>t.depth)throw new hw("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new hw("Inconsistent open depths");return jX(t,e,n,0)}function jX(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=jX(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return Vc(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=oUe(n,t);return Vc(o,IX(t,s,a,e,r))}else return Vc(o,pw(t,e,r))}function $X(t,e){if(!e.type.compatibleContent(t.type))throw new hw("Cannot join "+e.type.name+" onto "+t.type.name)}function gN(t,e,n){let r=t.node(n);return $X(r,e.node(n)),r}function zc(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function im(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(zc(t.nodeAfter,r),o++));for(let a=o;a<s;a++)zc(i.child(a),r);e&&e.depth==n&&e.textOffset&&zc(e.nodeBefore,r)}function Vc(t,e){return t.type.checkContent(e),t.copy(e)}function IX(t,e,n,r,i){let o=t.depth>i&&gN(t,e,i+1),s=r.depth>i&&gN(n,r,i+1),a=[];return im(null,t,i,a),o&&s&&e.index(i)==n.index(i)?($X(o,s),zc(Vc(o,IX(t,e,n,r,i+1)),a)):(o&&zc(Vc(o,pw(t,e,i+1)),a),im(e,n,i,a),s&&zc(Vc(s,pw(n,r,i+1)),a)),im(r,null,i,a),new Y(a)}function pw(t,e,n){let r=[];if(im(null,t,n,r),t.depth>n){let i=gN(t,e,n+1);zc(Vc(i,pw(t,e,n+1)),r)}return im(e,null,n,r),new Y(r)}function oUe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(Y.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Ag{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Rt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new mw(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new Ag(n,r,o)}static resolveCached(e,n){let r=tz.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else tz.set(e,r=new sUe);let i=r.elts[r.i]=Ag.resolve(e,n);return r.i=(r.i+1)%aUe,i}}class sUe{constructor(){this.elts=[],this.i=0}}const aUe=12,tz=new WeakMap;class mw{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const lUe=Object.create(null);let Wc=class yN{constructor(e,n,r,i=Rt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Y.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&fw(this.attrs,n||e.defaultAttrs||lUe)&&Rt.sameSet(this.marks,r||Rt.none)}copy(e=null){return e==this.content?this:new yN(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new yN(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return se.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new se(c,i.depth-s,o.depth-s)}replace(e,n,r){return iUe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Ag.resolveCached(this,e)}resolveNoCache(e){return Ag.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),RX(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Y.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Rt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Rt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Y.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Wc.prototype.text=void 0;class gw extends Wc{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):RX(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new gw(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new gw(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function RX(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class hu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new cUe(e,n);if(r.next==null)return hu.empty;let i=DX(r);r.next&&r.err("Unexpected trailing text");let o=gUe(mUe(i));return yUe(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return Y.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}hu.empty=new hu(!0);class cUe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function DX(t){let e=[];do e.push(uUe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function uUe(t){let e=[];do e.push(dUe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function dUe(t){let e=pUe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=fUe(t,e);else break;return e}function nz(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function fUe(t,e){let n=nz(t),r=n;return t.eat(",")&&(t.next!="}"?r=nz(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function hUe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function pUe(t){if(t.eat("(")){let e=DX(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=hUe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function mUe(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function LX(t,e){return e-t}function rz(t,e){let n=[];return r(e),n.sort(LX);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function gUe(t){let e=Object.create(null);return n(rz(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);rz(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=e[r.join(",")]=new hu(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(LX);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function yUe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function FX(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function BX(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function zX(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function VX(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new bUe(t,r,e[r]);return n}let iz=class WX{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=VX(e,r.attrs),this.defaultAttrs=FX(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==hu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:BX(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wc(this,this.computeAttrs(e),Y.from(n),Rt.setFrom(r))}createChecked(e=null,n,r){return n=Y.from(n),this.checkContent(n),new Wc(this,this.computeAttrs(e),n,Rt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Y.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Y.empty,!0);return o?new Wc(this,e,n.append(o),Rt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){zX(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Rt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new WX(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function vUe(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class bUe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?vUe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class FS{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=VX(e,i.attrs),this.excluded=null;let o=FX(this.attrs);this.instance=o?new Rt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Rt(this,BX(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new FS(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){zX(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class xUe{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ln.from(e.nodes),n.marks=Ln.from(e.marks||{}),this.nodes=iz.compile(this.spec.nodes,this),this.marks=FS.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=hu.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?oz(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:oz(this,s.split(" "))}this.nodeFromJSON=i=>Wc.fromJSON(this,i),this.markFromJSON=i=>Rt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof iz){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new gw(r,r.defaultAttrs,e,Rt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function oz(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function wUe(t){return t.tag!=null}function SUe(t){return t.style!=null}class Hc{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(wUe(i))this.tags.push(i);else if(SUe(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new az(this,n,!1);return r.addAll(e,Rt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new az(this,n,!0);return r.addAll(e,Rt.none,n.from,n.to),se.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(EUe(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lz(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lz(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Hc(e,Hc.schemaRules(e)))}}const HX={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},CUe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},UX={ol:!0,ul:!0},Og=1,vN=2,om=4;function sz(t,e,n){return e!=null?(e?Og:0)|(e==="full"?vN:0):t&&t.whitespace=="pre"?Og|vN:n&~om}class Pv{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Rt.none,this.match=o||(s&om?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Y.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Og)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Y.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Y.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!HX.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class az{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,s=sz(null,n.preserveWhitespace,0)|(r?om:0);i?o=new Pv(i.type,i.attrs,Rt.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Pv(null,null,Rt.none,!0,null,s):o=new Pv(e.schema.topNodeType,null,Rt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&vN?"full":this.localPreserveWS||(i.options&Og)>0,{schema:s}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(s.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(s.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(s.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(s.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(s.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),a;UX.hasOwnProperty(s)&&this.parser.normalizeLists&&kUe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:CUe.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(HX.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let d=l&&l.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}o&&this.sync(a)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,o=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(o);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let s=Rt.none;for(let a of i.concat(e.marks))(o.type?o.type.allowsMarkType(a.type):cz(a.type,e.type))&&(s=a.addToSet(s));return o.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let a=sz(e,o,s.options);s.options&om&&s.content.length==0&&(a|=om);let l=Rt.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):cz(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Pv(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Og)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function kUe(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&UX.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function EUe(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function lz(t){let e={};for(let n in t)e[n]=t[n];return e}function cz(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class BS{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=sE(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=vb(sE(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&vb(sE(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return vb(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new BS(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=uz(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return uz(e.marks)}}function uz(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function sE(t){return t.document||window.document}const dz=new WeakMap;function AUe(t){let e=dz.get(t);return e===void 0&&dz.set(t,e=OUe(t)),e}function OUe(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function vb(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=AUe(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=vb(t,f,n,r);if(l.appendChild(h),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const KX=65535,GX=Math.pow(2,16);function TUe(t,e){return t+e*GX}function fz(t){return t&KX}function NUe(t){return(t-(t&KX))/GX}const qX=1,YX=2,bb=4,XX=8;class bN{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&XX)>0}get deletedBefore(){return(this.delInfo&(qX|bb))>0}get deletedAfter(){return(this.delInfo&(YX|bb))>0}get deletedAcross(){return(this.delInfo&bb)>0}}class Xr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Xr.empty)return Xr.empty}recover(e){let n=0,r=fz(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+NUe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,h=l+i+(f<0?0:u);if(r)return h;let p=e==(n<0?l:d)?null:TUe(a/3,e-l),g=e==l?YX:e==d?qX:bb;return(n<0?e!=l:e!=d)&&(g|=XX),new bN(h,g,p)}i+=u-c}return r?e+i:new bN(e+i,0,null)}touches(e,n){let r=0,i=fz(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new Xr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Xr.empty:new Xr(e<0?[0,-e,0]:[0,0,e])}}Xr.empty=new Xr([]);class yw{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new yw(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new yw;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new bN(e,i,null)}}const aE=Object.create(null);class ar{getMap(){return Xr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=aE[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in aE)throw new RangeError("Duplicate use of step JSON ID "+e);return aE[e]=n,n.prototype.jsonID=e,n}}class un{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new un(e,null)}static fail(e){return new un(null,e)}static fromReplace(e,n,r,i){try{return un.ok(e.replace(n,r,i))}catch(o){if(o instanceof hw)return un.fail(o.message);throw o}}}function Rj(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Rj(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return Y.fromArray(r)}class qa extends ar{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new se(Rj(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return un.fromReplace(e,this.from,this.to,o)}invert(){return new Lo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new qa(n.pos,r.pos,this.mark)}merge(e){return e instanceof qa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new qa(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("addMark",qa);class Lo extends ar{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new se(Rj(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return un.fromReplace(e,this.from,this.to,r)}invert(){return new qa(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Lo(n.pos,r.pos,this.mark)}merge(e){return e instanceof Lo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Lo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Lo(n.from,n.to,e.markFromJSON(n.mark))}}ar.jsonID("removeMark",Lo);class Ya extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return un.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return un.fromReplace(e,this.pos,this.pos+1,new se(Y.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ya(this.pos,n.marks[i]);return new Ya(this.pos,this.mark)}}return new pu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ya(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ya(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("addNodeMark",Ya);class pu extends ar{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return un.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return un.fromReplace(e,this.pos,this.pos+1,new se(Y.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ya(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new pu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new pu(n.pos,e.markFromJSON(n.mark))}}ar.jsonID("removeNodeMark",pu);class Tn extends ar{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&xN(e,this.from,this.to)?un.fail("Structure replace would overwrite content"):un.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Xr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Tn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Tn(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Tn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?se.empty:new se(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Tn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?se.empty:new se(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Tn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Tn(n.from,n.to,se.fromJSON(e,n.slice),!!n.structure)}}ar.jsonID("replace",Tn);class Mn extends ar{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(xN(e,this.from,this.gapFrom)||xN(e,this.gapTo,this.to)))return un.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return un.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?un.fromReplace(e,this.from,this.to,r):un.fail("Content does not fit in gap")}getMap(){return new Xr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Mn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Mn(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Mn(n.from,n.to,n.gapFrom,n.gapTo,se.fromJSON(e,n.slice),n.insert,!!n.structure)}}ar.jsonID("replaceAround",Mn);function xN(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function PUe(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=h:i.push(s=new Lo(f,h,d[g])));a&&a.to==f?a.to=h:o.push(a=new qa(f,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function MUe(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof FS){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new Lo(s.from,s.to,s.style)))}function Dj(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new Tn(a,u,se.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Lo(a,u,c.marks[f]));if(i&&c.isText&&n.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(c.text);)p||(p=new se(Y.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new Tn(a+f.index,a+f.index+f[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore(Y.empty,!0);t.replace(a,a,new se(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function _Ue(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function kh(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,o=0;;--r){let s=t.$from.node(r),a=t.$from.index(r)+i,l=t.$to.indexAfter(r)-o;if(r<t.depth&&s.canReplace(a,l,n))return r;if(r==0||s.type.spec.isolating||!_Ue(s,a,l))break;a&&(i=1),l<s.childCount&&(o=1)}return null}function jUe(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=Y.empty,d=0;for(let p=o,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=Y.from(r.node(p).copy(u)),d++):l--;let f=Y.empty,h=0;for(let p=o,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,f=Y.from(i.node(p).copy(f)),h++):c++;t.step(new Mn(l,c,s,a,new se(u.append(f),d,h),u.size-d,!0))}function JX(t,e,n=null,r=t){let i=$Ue(t,e),o=i&&IUe(r,e);return o?i.map(hz).concat({type:e,attrs:n}).concat(o.map(hz)):null}function hz(t){return{type:t,attrs:null}}function $Ue(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function IUe(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function RUe(t,e,n){let r=Y.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Y.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Mn(i,o,i,o,new se(r,0,0),n.length,!0))}function DUe(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&LUe(t.doc,t.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?c=!1:!h&&p&&(c=!0)}c===!1&&QX(t,s,a,o),Dj(t,t.mapping.slice(o).map(a,1),r,void 0,c===null);let u=t.mapping.slice(o),d=u.map(a,1),f=u.map(a+s.nodeSize,1);return t.step(new Mn(d,f,d+1,f-1,new se(Y.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&ZX(t,s,a,o),!1}})}function ZX(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function QX(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function LUe(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function FUe(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Mn(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new se(Y.from(s),0,0),1,!0))}function Fd(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function BUe(t,e,n=1,r){let i=t.doc.resolve(e),o=Y.empty,s=Y.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=Y.from(i.node(a).copy(o));let u=r&&r[c];s=Y.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new Tn(e,e,new se(o.append(s),n,n),!0))}function $u(t,e){let n=t.resolve(e),r=n.index();return eJ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function zUe(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function eJ(t,e){return!!(t&&e&&!t.isLeaf&&zUe(t,e))}function zS(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&eJ(o,s)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function VUe(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);QX(t,u.node(),u.before(),a)}s.inlineContent&&Dj(t,e+n-1,s,o.node().contentMatchAt(o.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new Tn(c,l.map(e+n,-1),se.empty,!0)),r===!0){let u=t.doc.resolve(c);ZX(t,u.node(),u.before(),t.steps.length)}return t}function WUe(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function HUe(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function VS(t,e,n=e,r=se.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return tJ(i,o,r)?new Tn(e,n,r):new UUe(i,o,r).fit()}function tJ(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class UUe{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Y.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Y.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new se(o,s,a);return e>-1?new Mn(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Tn(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=lE(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(Y.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=lE(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new se(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=lE(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new se(Sp(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new se(Sp(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),y=d.matchType(g.type);if(!y)break;c++,(c>1||l==0||g.content.size)&&(d=y,u.push(nJ(g.mark(f.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=Cp(this.placed,n,Y.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<h;g++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=p?e==0?se.empty:new se(Sp(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new se(Sp(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!cE(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=cE(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=cE(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Cp(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Cp(this.placed,this.depth,Y.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Y.empty,!0);n.childCount&&(this.placed=Cp(this.placed,this.frontier.length,n))}}function Sp(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Sp(t.firstChild.content,e-1,n)))}function Cp(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Cp(t.lastChild.content,e-1,n)))}function lE(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function nJ(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,nJ(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Y.empty,!0)))),t.copy(r)}function cE(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!KUe(n,o.content,s)?a:null}function KUe(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function GUe(t){return t.spec.defining||t.spec.definingForContent}function qUe(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(tJ(i,o,r))return t.step(new Tn(e,n,r));let s=iJ(i,o);s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=GUe(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(p)for(let g=0;g<s.length;g++){let y=s[(g+l)%s.length],v=!0;y<0&&(v=!1,y=-y);let b=i.node(y-1),x=i.index(y-1);if(b.canReplaceWith(x,x,p.type,p.marks))return t.replace(i.before(y),v?o.after(y):n,new se(rJ(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}function rJ(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(rJ(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(Y.empty,!0))}return t}function YUe(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=WUe(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new se(Y.from(r),0,0))}function XUe(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=iJ(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function iJ(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Bd extends ar{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return un.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return un.fromReplace(e,this.pos,this.pos+1,new se(Y.from(i),0,n.isLeaf?0:1))}getMap(){return Xr.empty}invert(e){return new Bd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Bd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Bd(n.pos,n.attr,n.value)}}ar.jsonID("attr",Bd);class Tg extends ar{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return un.ok(r)}getMap(){return Xr.empty}invert(e){return new Tg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Tg(n.attr,n.value)}}ar.jsonID("docAttr",Tg);let Uf=class extends Error{};Uf=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Uf.prototype=Object.create(Error.prototype);Uf.prototype.constructor=Uf;Uf.prototype.name="TransformError";class JUe{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new yw}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Uf(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let e=1e9,n=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let i=this.mapping.maps[r];r&&(e=i.map(e,1),n=i.map(n,-1)),i.forEach((o,s,a,l)=>{e=Math.min(e,a),n=Math.max(n,l)})}return e==1e9?null:{from:e,to:n}}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=se.empty){let i=VS(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new se(Y.from(r),0,0))}delete(e,n){return this.replace(e,n,se.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return qUe(this,e,n,r),this}replaceRangeWith(e,n,r){return YUe(this,e,n,r),this}deleteRange(e,n){return XUe(this,e,n),this}lift(e,n){return jUe(this,e,n),this}join(e,n=1){return VUe(this,e,n),this}wrap(e,n){return RUe(this,e,n),this}setBlockType(e,n=e,r,i=null){return DUe(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return FUe(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Bd(e,n,r)),this}setDocAttribute(e,n){return this.step(new Tg(e,n)),this}addNodeMark(e,n){return this.step(new Ya(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Rt)n.isInSet(r.marks)&&this.step(new pu(e,n));else{let i=r.marks,o,s=[];for(;o=n.isInSet(i);)s.push(new pu(e,o)),i=o.removeFromSet(i);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(e,n=1,r){return BUe(this,e,n,r),this}addMark(e,n,r){return PUe(this,e,n,r),this}removeMark(e,n,r){return MUe(this,e,n,r),this}clearIncompatible(e,n,r){return Dj(this,e,n,r),this}}const uE=Object.create(null);class Ue{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new oJ(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=se.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?se.empty:n),a==0&&gz(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),gz(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ve(e):id(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?id(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):id(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new $i(e.node(0))}static atStart(e){return id(e,e,0,0,1)||new $i(e)}static atEnd(e){return id(e,e,e.content.size,e.childCount,-1)||new $i(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=uE[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in uE)throw new RangeError("Duplicate use of selection JSON ID "+e);return uE[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ve.between(this.$anchor,this.$head).getBookmark()}}Ue.prototype.visible=!0;class oJ{constructor(e,n){this.$from=e,this.$to=n}}let pz=!1;function mz(t){!pz&&!t.parent.inlineContent&&(pz=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ve extends Ue{constructor(e,n=e){mz(e),mz(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ue.near(r);let i=e.resolve(n.map(this.anchor));return new Ve(i.parent.inlineContent?i:r,r)}replace(e,n=se.empty){if(super.replace(e,n),n==se.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new WS(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ve(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Ue.findFrom(n,r,!0)||Ue.findFrom(n,-r,!0);if(o)n=o.$head;else return Ue.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ue.findFrom(e,-r,!0)||Ue.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ve(e,n)}}Ue.jsonID("text",Ve);class WS{constructor(e,n){this.anchor=e,this.head=n}map(e){return new WS(e.map(this.anchor),e.map(this.head))}resolve(e){return Ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class je extends Ue{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Ue.near(o):new je(o)}content(){return new se(Y.from(this.node),0,0)}eq(e){return e instanceof je&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Lj(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new je(e.resolve(n.anchor))}static create(e,n){return new je(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}je.prototype.visible=!1;Ue.jsonID("node",je);class Lj{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new WS(r,r):new Lj(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&je.isSelectable(r)?new je(n):Ue.near(n)}}class $i extends Ue{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=se.empty){if(n==se.empty){e.delete(0,e.doc.content.size);let r=Ue.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new $i(e)}map(e){return new $i(e)}eq(e){return e instanceof $i}getBookmark(){return ZUe}}Ue.jsonID("all",$i);const ZUe={map(){return this},resolve(t){return new $i(t)}};function id(t,e,n,r,i,o=!1){if(e.inlineContent)return Ve.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&je.isSelectable(a))return je.create(t,n-(i<0?a.nodeSize:0))}else{let l=id(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function gz(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Tn||i instanceof Mn))return;let o=t.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),t.setSelection(Ue.near(t.doc.resolve(s),n))}function yz(t,e){return!e||!t?t:t.bind(e)}class Mv{constructor(e,n,r){this.name=e,this.init=yz(n.init,r),this.apply=yz(n.apply,r)}}new Mv("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Mv("selection",{init(t,e){return t.selection||Ue.atStart(e.doc)},apply(t){return t.selection}}),new Mv("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Mv("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}});function sJ(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=sJ(i,e,{})),n[r]=i}return n}class oa{constructor(e){this.spec=e,this.props={},e.props&&sJ(e.props,this,this.props),this.key=e.key?e.key.key:aJ("plugin")}getState(e){return e[this.key]}}const dE=Object.create(null);function aJ(t){return t in dE?t+"$"+ ++dE[t]:(dE[t]=0,t+"$")}class is{constructor(e="key"){this.key=aJ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Iu=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},lJ=function(t,e,n,r){return n&&(vz(t,e,n,r,-1)||vz(t,e,n,r,1))},QUe=/^(img|br|input|textarea|hr)$/i;function vz(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:vw(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Fj(t)||QUe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Iu(t)+(i<0?0:1),t=s}else if(t.nodeType==1){let s=t.childNodes[e+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=s,e=i<0?vw(t):0}else return!1}}function vw(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function e6e(t,e,n){for(let r=e==0,i=e==vw(t);r||i;){if(t==n)return!0;let o=Iu(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==vw(t)}}function Fj(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const cJ=function(t){return t.focusNode&&lJ(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function uJ(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const Qo=typeof navigator<"u"?navigator:null,bz=typeof document<"u"?document:null,zl=Qo&&Qo.userAgent||"",wN=/Edge\/(\d+)/.exec(zl),dJ=/MSIE \d/.exec(zl),SN=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(zl),xy=!!(dJ||SN||wN),fJ=dJ?document.documentMode:SN?+SN[1]:wN?+wN[1]:0,HS=!xy&&/gecko\/(\d+)/i.test(zl);HS&&+(/Firefox\/(\d+)/.exec(zl)||[0,0])[1];const CN=!xy&&/Chrome\/(\d+)/.exec(zl),sa=!!CN,hJ=CN?+CN[1]:0,Ru=!xy&&!!Qo&&/Apple Computer/.test(Qo.vendor),Bj=Ru&&(/Mobile\/\w+/.test(zl)||!!Qo&&Qo.maxTouchPoints>2),wi=Bj||(Qo?/Mac/.test(Qo.platform):!1),pJ=Qo?/Win/.test(Qo.platform):!1,wy=/Android \d/.test(zl),zj=!!bz&&"webkitFontSmoothing"in bz.documentElement.style,t6e=zj?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function n6e(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(cJ(n)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&je.isSelectable(d)&&i.parent&&!(d.isInline&&e6e(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;c=new je(s==f?a:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let h=0;h<n.rangeCount;h++){let p=n.getRangeAt(h);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,s]=f==t.state.selection.anchor?[f,d]:[d,f],a=r.resolve(s)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;c=gJ(t,u,a,d)}return c}function mJ(t){return t.editable?t.hasFocus():s6e(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Vj(t,e=!1){let n=t.state.selection;if(o6e(t,n),!!mJ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&sa){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&lJ(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)i6e(t);else{let{anchor:r,head:i}=n,o,s;xz&&!(n instanceof Ve)&&(n.$from.parent.inlineContent||(o=wz(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=wz(t,n.to))),t.docView.setSelection(r,i,t,e),xz&&(o&&Sz(o),s&&Sz(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&r6e(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const xz=Ru||sa&&hJ<63;function wz(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Ru&&i&&i.contentEditable=="false")return fE(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return fE(i);if(o)return fE(o)}}function fE(t){return t.contentEditable="true",Ru&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Sz(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function r6e(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!mJ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function i6e(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Iu(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&xy&&fJ<=11&&(n.disabled=!0,n.disabled=!1)}function o6e(t,e){if(e instanceof je){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Cz(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Cz(t)}function Cz(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function gJ(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ve.between(e,n,r)}function s6e(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function kN(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Ue.findFrom(o,e)}function Oa(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function kz(t,e,n){let r=t.state.selection;if(r instanceof Ve)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Oa(t,new Ve(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=kN(t.state,e);return i&&i instanceof je?Oa(t,i):!1}else if(!(wi&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?je.isSelectable(o)?Oa(t,new je(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):zj?Oa(t,new Ve(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof je&&r.node.isInline)return Oa(t,new Ve(e>0?r.$to:r.$from));{let i=kN(t.state,e);return i?Oa(t,i):!1}}}function bw(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function sm(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Yu(t,e){return e<0?a6e(t):l6e(t)}function a6e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(HS&&n.nodeType==1&&r<bw(n)&&sm(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(sm(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(yJ(n))break;{let a=n.previousSibling;for(;a&&sm(a,-1);)i=n.parentNode,o=Iu(a),a=a.previousSibling;if(a)n=a,r=bw(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?EN(t,n,r):i&&EN(t,i,o)}function l6e(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=bw(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(sm(a,1))o=n,s=++r;else break}else{if(yJ(n))break;{let a=n.nextSibling;for(;a&&sm(a,1);)o=a.parentNode,s=Iu(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=bw(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&EN(t,o,s)}function yJ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function c6e(t,e){for(;t&&e==t.childNodes.length&&!Fj(t);)e=Iu(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function u6e(t,e){for(;t&&!e&&!Fj(t);)e=Iu(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function EN(t,e,n){if(e.nodeType!=3){let o,s;(s=c6e(e,n))?(e=s,n=0):(o=u6e(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(cJ(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Vj(t)},50)}function Ez(t,e){let n=t.state.doc.resolve(e);if(!(sa||pJ)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Az(t,e,n){let r=t.state.selection;if(r instanceof Ve&&!r.empty||n.indexOf("s")>-1||wi&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=kN(t.state,e);if(s&&s instanceof je)return Oa(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof $i?Ue.near(s,e):Ue.findFrom(s,e);return a?Oa(t,a):!1}return!1}function Oz(t,e){if(!(t.state.selection instanceof Ve))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Tz(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function d6e(t){if(!Ru||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Tz(t,r,"true"),setTimeout(()=>Tz(t,r,"false"),20)}return!1}function f6e(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function h6e(t,e){let n=e.keyCode,r=f6e(e);if(n==8||wi&&n==72&&r=="c")return Oz(t,-1)||Yu(t,-1);if(n==46&&!e.shiftKey||wi&&n==68&&r=="c")return Oz(t,1)||Yu(t,1);if(n==13||n==27)return!0;if(n==37||wi&&n==66&&r=="c"){let i=n==37?Ez(t,t.state.selection.from)=="ltr"?-1:1:-1;return kz(t,i,r)||Yu(t,i)}else if(n==39||wi&&n==70&&r=="c"){let i=n==39?Ez(t,t.state.selection.from)=="ltr"?1:-1:1;return kz(t,i,r)||Yu(t,i)}else{if(n==38||wi&&n==80&&r=="c")return Az(t,-1,r)||Yu(t,-1);if(n==40||wi&&n==78&&r=="c")return d6e(t)||Az(t,1,r)||Yu(t,1);if(r==(wi?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function vJ(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||BS.fromSchema(t.state.schema),a=kJ(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=CJ[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f,slice:e}}function bJ(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=!!e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return a=new se(Y.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",f=>{a=f(a,t,!0)}),a;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,p=BS.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=s.appendChild(document.createElement("p"));g&&y.appendChild(p.serializeNode(h.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=y6e(n),zj&&v6e(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Hc.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!p6e.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=b6e(Nz(a,+u[1],+u[2]),u[4]);else if(a=se.maxOpen(m6e(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=Nz(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t,l)}),a}const p6e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function m6e(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&wJ(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=SJ(s[s.length-1],o.length));let u=xJ(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return Y.from(s)}return t}function xJ(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Y.from(t));return t}function wJ(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=wJ(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Y.from(xJ(n,t,i+1))))}}function SJ(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,SJ(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Y.empty,!0);return t.copy(n.append(r))}function AN(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=AN(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Y.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function Nz(t,e,n){return e<t.openStart&&(t=new se(AN(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new se(AN(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const CJ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Pz=null;function kJ(){return Pz||(Pz=document.implementation.createHTMLDocument("title"))}let hE=null;function g6e(t){let e=window.trustedTypes;return e?(hE||(hE=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),hE.createHTML(t)):t}function y6e(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=kJ().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&CJ[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=g6e(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function v6e(t){let e=t.querySelectorAll(sa?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function b6e(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Y.from(l.create(r[a+1],i)),o++,s++}return new se(i,o,s)}const yo={},li={};function Xa(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}li.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!AJ(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(wy&&sa&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Bj&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,uJ(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||h6e(t,n)?n.preventDefault():Xa(t,"key")};li.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};li.keypress=(t,e)=>{let n=e;if(AJ(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||wi&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ve)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function US(t){return{left:t.clientX,top:t.clientY}}function x6e(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Wj(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function zd(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function w6e(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&je.isSelectable(r)?(zd(t,new je(n),"pointer"),!0):!1}function S6e(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof je&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(je.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(zd(t,je.create(t.state.doc,i),"pointer"),!0):!1}function C6e(t,e,n,r,i){return Wj(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?S6e(t,n):w6e(t,n))}function k6e(t,e,n,r){return Wj(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function E6e(t,e,n,r){return Wj(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||A6e(t,n,r)}function A6e(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(zd(t,Ve.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)zd(t,Ve.create(r,a+1,a+1+s.content.size),"pointer");else if(je.isSelectable(s))zd(t,je.create(r,a),"pointer");else continue;return!0}}function Hj(t){return xw(t)}const EJ=wi?"metaKey":"ctrlKey";yo.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Hj(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&x6e(n,t.input.lastClick)&&!n[EJ]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=t.posAtCoords(US(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new O6e(t,s,n,!!r)):(o=="doubleClick"?k6e:E6e)(t,s.pos,s.inside,n)?n.preventDefault():Xa(t,"pointer"))};class O6e{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[EJ],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof je&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&HS&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Xa(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Vj(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(US(e))),this.updateAllowDefault(e),this.allowDefault||!n?Xa(this.view,"pointer"):C6e(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ru&&this.mightDrag&&!this.mightDrag.node.isAtom||sa&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(zd(this.view,Ue.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Xa(this.view,"pointer")}move(e){this.updateAllowDefault(e),Xa(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}yo.touchstart=t=>{t.input.lastTouch=Date.now(),Hj(t),Xa(t,"pointer")};yo.touchmove=t=>{t.input.lastTouch=Date.now(),Xa(t,"pointer")};yo.contextmenu=t=>Hj(t);function AJ(t,e){return t.composing?!0:Ru&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const T6e=wy?5e3:-1;li.compositionstart=li.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ve&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||sa&&pJ&&N6e(t)))t.markCursor=t.state.storedMarks||n.marks(),xw(t,!0),t.markCursor=null;else if(xw(t,!e.selection.empty),HS&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=t.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}OJ(t,T6e)};function N6e(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}li.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,OJ(t,20))};function OJ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>xw(t),e))}function P6e(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=M6e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function M6e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function xw(t,e=!1){if(!(wy&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),P6e(t),e||t.docView&&t.docView.dirty){let n=n6e(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function _6e(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Ng=xy&&fJ<15||Bj&&t6e<604;yo.copy=li.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Ng?null:n.clipboardData,s=r.content(),{dom:a,text:l}=vJ(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):_6e(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function j6e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function $6e(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ON(t,r.value,null,i,e):ON(t,r.textContent,r.innerHTML,i,e)},50)}function ON(t,e,n,r,i){let o=bJ(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||se.empty)))return!0;if(!o)return!1;let s=j6e(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function TJ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}li.paste=(t,e)=>{let n=e;if(t.composing&&!wy)return;let r=Ng?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ON(t,TJ(r),r.getData("text/html"),i,n)?n.preventDefault():$6e(t,n)};class I6e{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const R6e=wi?"altKey":"ctrlKey";function NJ(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[R6e]}yo.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(US(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof je?i.to-1:i.to))){if(r&&r.mightDrag)s=je.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=je.create(t.state.doc,d.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:c,slice:u}=vJ(t,a);(!n.dataTransfer.files.length||!sa||hJ>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ng?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ng||n.dataTransfer.setData("text/plain",c),t.dragging=new I6e(u,NJ(t,n),s)};yo.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};li.dragover=li.dragenter=(t,e)=>e.preventDefault();li.drop=(t,e)=>{try{D6e(t,e,t.dragging)}finally{t.dragging=null}};function D6e(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(US(e));if(!r)return;let i=t.state.doc.resolve(r.pos),o=n&&n.slice;o?t.someProp("transformPasted",h=>{o=h(o,t,!1)}):o=bJ(t,TJ(e.dataTransfer),Ng?null:e.dataTransfer.getData("text/html"),!1,i);let s=!!(n&&NJ(t,e));if(t.someProp("handleDrop",h=>h(t,e,o||se.empty,s))){e.preventDefault();return}if(!o)return;e.preventDefault();let a=o?HUe(t.state.doc,i.pos,o):i.pos;a==null&&(a=i.pos);let l=t.state.tr;if(s){let{node:h}=n;h?h.replace(l):l.deleteSelection()}let c=l.mapping.map(a),u=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=l.doc;if(u?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),l.doc.eq(d))return;let f=l.doc.resolve(c);if(u&&je.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new je(f));else{let h=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((p,g,y,v)=>h=v),l.setSelection(gJ(t,f,l.doc.resolve(h)))}t.focus(),t.dispatch(l.setMeta("uiEvent","drop"))}yo.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Vj(t)},20))};yo.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};yo.beforeinput=(t,e)=>{if(sa&&wy&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,uJ(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in li)yo[t]=li[t];function Pg(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class ww{constructor(e,n){this.toDOM=e,this.spec=n||Uc,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Ti(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ww&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Pg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class hl{constructor(e,n){this.attrs=e,this.spec=n||Uc}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Ti(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof hl&&Pg(this.attrs,e.attrs)&&Pg(this.spec,e.spec)}static is(e){return e.type instanceof hl}destroy(){}}class Uj{constructor(e,n){this.attrs=e,this.spec=n||Uc}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Ti(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Uj&&Pg(this.attrs,e.attrs)&&Pg(this.spec,e.spec)}destroy(){}}class Ti{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Ti(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Ti(e,e,new ww(n,r))}static inline(e,n,r,i){return new Ti(e,n,new hl(r,i))}static node(e,n,r,i){return new Ti(e,n,new Uj(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof hl}get widget(){return this.type instanceof ww}}const od=[],Uc={};class ln{constructor(e,n){this.local=e.length?e:od,this.children=n.length?n:od}static create(e,n){return n.length?Sw(n,e,0,Uc):hr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==hr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Uc)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?L6e(this.children,s||[],e,n,r,i,o):s?new ln(s.sort(Kc),od):hr}add(e,n){return n.length?this==hr?ln.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let c=l+r,u;if(u=MJ(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,Sw(u,a,c+1,Uc)),o+=3}});let s=PJ(o?_J(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new ln(s.length?this.local.concat(s).sort(Kc):this.local,i||this.children)}remove(e){return e.length==0||this==hr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=hr?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ln(i,r):hr}forChild(e,n){if(this==hr)return this;if(n.isLeaf)return ln.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof hl){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new ln(i.sort(Kc),od);return r?new cc([a,r]):a}return r||hr}eq(e){if(this==e)return!0;if(!(e instanceof ln)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Kj(this.localsInner(e))}localsInner(e){if(this==hr)return od;if(e.inlineContent||!this.local.some(hl.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof hl||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ln.empty=new ln([],[]);ln.removeOverlap=Kj;const hr=ln.empty;class cc{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Uc));return cc.from(r)}forChild(e,n){if(n.isLeaf)return ln.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=hr&&(o instanceof cc?r=r.concat(o.members):r.push(o))}return cc.from(r)}eq(e){if(!(e instanceof cc)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Kj(r?n:n.sort(Kc)):od}static from(e){switch(e.length){case 0:return hr;case 1:return e[0];default:return new cc(e.every(n=>n instanceof ln)?e:e.reduce((n,r)=>n.concat(r instanceof ln?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function L6e(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,g)=>{let y=g-p-(h-f);for(let v=0;v<a.length;v+=3){let b=a[v+1];if(b<0||f>b+u-d)continue;let x=a[v]+u-d;h>=x?a[v+1]=f<=x?-2:-1:f>=u&&y&&(a[v]+=y,a[v+1]+=y)}d+=y}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+o,-1),h=f-i,{index:p,offset:g}=r.content.findIndex(d),y=r.maybeChild(p);if(y&&g==d&&g+y.nodeSize==h){let v=a[c+2].mapInner(n,y,u+1,t[c]+o+1,s);v!=hr?(a[c]=d,a[c+1]=h,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=F6e(a,t,e,n,i,o,s),u=Sw(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new ln(e.sort(Kc),a)}function PJ(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Ti(i.from+e,i.to+e,i.type))}return n}function F6e(t,e,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function MJ(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function _J(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Sw(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let c=MJ(t,a,l+n);if(c){o=!0;let u=Sw(c,a,n+l+1,r);u!=hr&&i.push(l,l+a.nodeSize,u)}});let s=PJ(o?_J(t):t,-n).sort(Kc);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new ln(s,i):hr}function Kc(t,e){return t.from-e.from||t.to-e.to}function Kj(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Mz(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Mz(e,i,r.copy(o.from,r.to)));break}}}return e}function Mz(t,e,n){for(;e<t.length&&Kc(n,t[e])>0;)e++;t.splice(e,0,n)}var Tl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Cw={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},B6e=typeof navigator<"u"&&/Mac/.test(navigator.platform),z6e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var zn=0;zn<10;zn++)Tl[48+zn]=Tl[96+zn]=String(zn);for(var zn=1;zn<=24;zn++)Tl[zn+111]="F"+zn;for(var zn=65;zn<=90;zn++)Tl[zn]=String.fromCharCode(zn+32),Cw[zn]=String.fromCharCode(zn);for(var pE in Tl)Cw.hasOwnProperty(pE)||(Cw[pE]=Tl[pE]);function V6e(t){var e=B6e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||z6e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Cw:Tl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const W6e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),H6e=typeof navigator<"u"&&/Win/.test(navigator.platform);function U6e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))W6e?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function K6e(t){let e=Object.create(null);for(let n in t)e[U6e(n)]=t[n];return e}function mE(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function G6e(t){let e=K6e(t);return function(n,r){let i=V6e(r),o,s=e[mE(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[mE(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(H6e&&r.ctrlKey&&r.altKey)&&(o=Tl[r.keyCode])&&o!=i){let a=e[mE(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const q6e=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function jJ(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Y6e=(t,e,n)=>{let r=jJ(t,n);if(!r)return!1;let i=Gj(r);if(!i){let s=r.blockRange(),a=s&&kh(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(DJ(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Kf(o,"end")||je.isSelectable(o)))for(let s=r.depth;;s--){let a=VS(t.doc,r.before(s),r.after(s),se.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Kf(o,"end")?Ue.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):je.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},X6e=(t,e,n)=>{let r=jJ(t,n);if(!r)return!1;let i=Gj(r);return i?$J(t,i,e):!1},J6e=(t,e,n)=>{let r=IJ(t,n);if(!r)return!1;let i=qj(r);return i?$J(t,i,e):!1};function $J(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let s=e.nodeAfter,a=s,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=VS(t.doc,o,l,se.empty);if(!c||c.from!=o||c instanceof Tn&&c.slice.size>=l-o)return!1;if(n){let u=t.tr.step(c);u.setSelection(Ve.create(u.doc,o)),n(u.scrollIntoView())}return!0}function Kf(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Z6e=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Gj(r)}let s=o&&o.nodeBefore;return!s||!je.isSelectable(s)?!1:(e&&e(t.tr.setSelection(je.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Gj(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function IJ(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Q6e=(t,e,n)=>{let r=IJ(t,n);if(!r)return!1;let i=qj(r);if(!i)return!1;let o=i.nodeAfter;if(DJ(t,i,e,1))return!0;if(r.parent.content.size==0&&(Kf(o,"start")||je.isSelectable(o))){let s=VS(t.doc,r.before(),r.after(),se.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Kf(o,"start")?Ue.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):je.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},e8e=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=qj(r)}let s=o&&o.nodeAfter;return!s||!je.isSelectable(s)?!1:(e&&e(t.tr.setSelection(je.create(t.doc,o.pos)).scrollIntoView()),!0)};function qj(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const t8e=(t,e)=>{let n=t.selection,r=n instanceof je,i;if(r){if(n.node.isTextblock||!$u(t.doc,n.from))return!1;i=n.from}else if(i=zS(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(je.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},n8e=(t,e)=>{let n=t.selection,r;if(n instanceof je){if(n.node.isTextblock||!$u(t.doc,n.to))return!1;r=n.to}else if(r=zS(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},r8e=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&kh(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},i8e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function RJ(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const o8e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=RJ(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ue.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},s8e=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof $i||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=RJ(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(Ve.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},a8e=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Fd(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&kh(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},l8e=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(je.create(t.doc,i))),!0)};function c8e(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||$u(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function DJ(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&c8e(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let h=e.pos+o.nodeSize,p=Y.empty;for(let v=s.length-1;v>=0;v--)p=Y.from(s[v].create(null,p));p=Y.from(i.copy(p));let g=t.tr.step(new Mn(e.pos-1,h,e.pos,h,new se(p,1,0),s.length,!0)),y=g.doc.resolve(h+2*s.length);y.nodeAfter&&y.nodeAfter.type==i.type&&$u(g.doc,y.pos)&&g.join(y.pos),n(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:Ue.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),f=d&&kh(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(c&&Kf(o,"start",!0)&&Kf(i,"end")){let h=i,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let g=o,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(h.canReplace(h.childCount,h.childCount,g.content)){if(n){let v=Y.empty;for(let x=p.length-1;x>=0;x--)v=Y.from(p[x].copy(v));let b=t.tr.step(new Mn(e.pos-p.length,e.pos+o.nodeSize,e.pos+y,e.pos+o.nodeSize-y,new se(v,p.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function LJ(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(Ve.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const u8e=LJ(-1),d8e=LJ(1);function f8e(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&JX(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function _z(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function h8e(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o);if(!s)return!1;let a=r?n.tr:null;return p8e(a,s,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function p8e(t,e,n,r=null){let i=!1,o=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);o=new mw(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new mw(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=JX(o,n,r,e);return a?(t&&m8e(t,e,a,i,n),!0):!1}function m8e(t,e,n,r,i){let o=Y.empty;for(let u=n.length-1;u>=0;u--)o=Y.from(n[u].type.create(n[u].attrs,o));t.step(new Mn(e.start-(r?2:0),e.end,e.start,e.end,new se(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&Fd(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function g8e(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?y8e(e,n,t,o):v8e(e,n,o):!0:!1}}function y8e(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Mn(o-1,s,o,s,new se(Y.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new mw(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=kh(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return $u(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function v8e(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?Y.empty:Y.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Mn(d-(a?1:0),f+(l?1:0),d+1,f-1,new se((a?Y.empty:Y.from(i.copy(Y.empty))).append(l?Y.empty:Y.from(i.copy(Y.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function b8e(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=Y.from(c?t.create():null),d=new se(Y.from(t.create(null,Y.from(a.type.create(null,u)))),c?3:1,0),f=o.start,h=o.end;n(e.tr.step(new Mn(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function FJ(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class x8e{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,c=e||o.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),a.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...g)=>{const y=this.buildProps(c,n),v=h(...g)(y);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:FJ({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}function tr(t,e,n){return t.config[e]===void 0&&t.parent?tr(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?tr(t.parent,e,n):null}):t.config[e]}function w8e(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function ir(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Sy(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),a.forEach(u=>{const[d,f]=u.split(":").map(h=>h.trim());c.set(d,f)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function S8e(t){return typeof t=="function"}function $r(t,e=void 0,...n){return S8e(t)?e?t.bind(e)(...n):t(...n):t}function C8e(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function k8e(t){return Object.prototype.toString.call(t).slice(8,-1)}function _v(t){return k8e(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function KS(t,e){const n={...t};return _v(t)&&_v(e)&&Object.keys(e).forEach(r=>{_v(e[r])&&_v(t[r])?n[r]=KS(t[r],e[r]):n[r]=e[r]}),n}class kw{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=$r(tr(this,"addOptions",{name:this.name}))),this.storage=$r(tr(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new kw(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>KS(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new kw(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=$r(tr(n,"addOptions",{name:n.name})),n.storage=$r(tr(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=s.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}class Fi{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=$r(tr(this,"addOptions",{name:this.name}))),this.storage=$r(tr(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Fi(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>KS(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Fi({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=$r(tr(n,"addOptions",{name:n.name})),n.storage=$r(tr(n,"addStorage",{name:n.name,options:n.options})),n}}function E8e(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(a+=o);const h=s==null?void 0:s[l.type.name];if(h)return u&&(a+=h({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(f=l==null?void 0:l.text)===null||f===void 0?void 0:f.slice(Math.max(r,c)-c,i-c))}),a}function A8e(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}Fi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new oa({key:new is("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=A8e(n);return E8e(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});const O8e=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),T8e=(t=!1)=>({commands:e})=>e.setContent("",t),N8e=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+a.nodeSize)),h=d.blockRange(f);if(!h)return;const p=kh(h);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(h.start,g)}(p||p===0)&&e.lift(h,p)})}),!0},P8e=t=>e=>t(e),M8e=()=>({state:t,dispatch:e})=>s8e(t,e),_8e=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new Ve(r.doc.resolve(Math.max(s-1,0)))),!0},j8e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const a=i.before(o),l=i.after(o);t.delete(a,l).scrollIntoView()}return!0}return!1},$8e=t=>({tr:e,state:n,dispatch:r})=>{const i=ir(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},I8e=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},R8e=()=>({state:t,dispatch:e})=>q6e(t,e),D8e=()=>({commands:t})=>t.keyboardShortcut("Enter"),L8e=()=>({state:t,dispatch:e})=>o8e(t,e);function Ew(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:C8e(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function BJ(t,e,n={}){return t.find(r=>r.type===e&&Ew(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function jz(t,e,n={}){return!!BJ(t,e,n)}function zJ(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!BJ([...i.node.marks],e,n)))return;let s=i.index,a=t.start()+i.offset,l=s+1,c=a+i.node.nodeSize;for(;s>0&&jz([...t.parent.child(s-1).marks],e,n);)s-=1,a-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&jz([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Vl(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const F8e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=Vl(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=zJ(l,o,e);if(d&&d.from<=c&&d.to>=u){const f=Ve.create(s,d.from,d.to);n.setSelection(f)}}return!0},B8e=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function VJ(t){return t instanceof Ve}function Cc(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function z8e(t,e=null){if(!e)return null;const n=Ue.atStart(t),r=Ue.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?Ve.create(t,Cc(0,i,o),Cc(t.content.size,i,o)):Ve.create(t,Cc(e,i,o),Cc(e,i,o))}function $z(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Aw(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function V8e(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}const W8e=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{(Aw()||$z())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),V8e()&&!Aw()&&!$z()&&r.dom.focus({preventScroll:!0}))})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!VJ(n.state.selection))return s(),!0;const a=z8e(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},H8e=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),U8e=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),WJ=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&WJ(r)}return t};function jv(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return WJ(n)}function Mg(t,e,n){if(t instanceof Wc||t instanceof Y)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Y.fromArray(t.map(a=>e.nodeFromJSON(a)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Mg("",e,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const l=new xUe({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Hc.fromSchema(l).parseSlice(jv(t),n.parseOptions):Hc.fromSchema(l).parse(jv(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Hc.fromSchema(e);return n.slice?o.parseSlice(jv(t),n.parseOptions).content:o.parse(jv(t),n.parseOptions)}return Mg("",e,n)}function K8e(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Tn||i instanceof Mn))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),t.setSelection(Ue.near(t.doc.resolve(s),n))}const G8e=t=>!("type"in t),q8e=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=y=>{o.emit("contentError",{editor:o,error:y,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Mg(e,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(y){l(y)}try{a=Mg(e,o.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(y){return l(y),!1}let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,h=!0;if((G8e(a)?a:[a]).forEach(y=>{y.check(),f=f?y.isText&&y.marks.length===0:!1,h=h?y.isBlock:!1}),u===d&&h){const{parent:y}=r.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,d+=1)}let g;if(f){if(Array.isArray(e))g=e.map(y=>y.text||"").join("");else if(e instanceof Y){let y="";e.forEach(v=>{v.text&&(y+=v.text)}),g=y}else typeof e=="object"&&e&&e.text?g=e.text:g=e;r.insertText(g,u,d)}else g=a,r.replaceWith(u,d,g);n.updateSelection&&K8e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},Y8e=()=>({state:t,dispatch:e})=>t8e(t,e),X8e=()=>({state:t,dispatch:e})=>n8e(t,e),J8e=()=>({state:t,dispatch:e})=>Y6e(t,e),Z8e=()=>({state:t,dispatch:e})=>Q6e(t,e),Q8e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=zS(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},e9e=()=>({state:t,dispatch:e,tr:n})=>{try{const r=zS(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},t9e=()=>({state:t,dispatch:e})=>X6e(t,e),n9e=()=>({state:t,dispatch:e})=>J6e(t,e);function HJ(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function r9e(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Aw()||HJ()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const i9e=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=r9e(t).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Yj(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?ir(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(i,f+d.nodeSize);a.push({node:d,from:h,to:p})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Ew(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}const o9e=(t,e={})=>({state:n,dispatch:r})=>{const i=ir(t,n.schema);return Yj(n,i,e)?r8e(n,r):!1},s9e=()=>({state:t,dispatch:e})=>a8e(t,e),a9e=t=>({state:e,dispatch:n})=>{const r=ir(t,e.schema);return g8e(r)(e,n)},l9e=()=>({state:t,dispatch:e})=>i8e(t,e);function UJ(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Iz(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const c9e=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=UJ(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=ir(t,r.schema)),a==="mark"&&(s=Vl(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{o&&o===c.type&&n.setNodeMarkup(u,void 0,Iz(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&n.addMark(u,u+c.nodeSize,s.create(Iz(d.attrs,e)))})})}),!0):!1},u9e=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),d9e=()=>({tr:t,dispatch:e})=>{if(e){const n=new $i(t.doc);t.setSelection(n)}return!0},f9e=()=>({state:t,dispatch:e})=>Z6e(t,e),h9e=()=>({state:t,dispatch:e})=>e8e(t,e),p9e=()=>({state:t,dispatch:e})=>l8e(t,e),m9e=()=>({state:t,dispatch:e})=>d8e(t,e),g9e=()=>({state:t,dispatch:e})=>u8e(t,e);function y9e(t,e,n={},r={}){return Mg(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const v9e=(t,e=!1,n={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,c;const{doc:u}=o;if(n.preserveWhitespace!=="full"){const d=y9e(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function b9e(t,e){const n=Vl(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function x9e(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function KJ(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Xj(t){return e=>KJ(e.$from,t)}function xb(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function w9e(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?Vl(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>Ew(d.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;t.doc.nodesBetween(h,p,(g,y)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(h,y),b=Math.min(p,y+g.nodeSize),x=b-v;s+=x,a.push(...g.marks.map(C=>({mark:C,from:v,to:b})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>Ew(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=s}function Rz(t,e){const{nodeExtensions:n}=w8e(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=$r(tr(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function GJ(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(GJ(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function S9e(t,e,n){var r;const{selection:i}=e;let o=null;if(VJ(i)&&(o=i.$cursor),o){const a=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const h=!f||f.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=h&&p}return!c}),c})}const C9e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=Vl(t,r.schema);if(i)if(s){const c=b9e(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,h)=>{const p=Math.max(h,u),g=Math.min(h+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(p,g,l.create({...v.attrs,...e}))}):n.addMark(p,g,l.create(e))})});return S9e(r,n,l)},k9e=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),E9e=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=ir(t,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>_z(o,{...s,...e})(n)?!0:a.clearNodes()).command(({state:a})=>_z(o,{...s,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},A9e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Cc(t,0,r.content.size),o=je.create(r,i);e.setSelection(o)}return!0},O9e=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=Ve.atStart(r).from,a=Ve.atEnd(r).to,l=Cc(i,s,a),c=Cc(o,s,a),u=Ve.create(r,l,c);e.setSelection(u)}return!0},T9e=t=>({state:e,dispatch:n})=>{const r=ir(t,e.schema);return b8e(r)(e,n)};function Dz(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const N9e=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=xb(c,a.node().type.name,a.node().attrs);if(o instanceof je&&o.node.isBlock)return!a.parentOffset||!Fd(s,a.pos)?!1:(r&&(t&&Dz(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=a.depth===0?void 0:x9e(a.node(-1).contentMatchAt(a.indexAfter(-1)));let h=d&&f?[{type:f,attrs:u}]:void 0,p=Fd(e.doc,e.mapping.map(a.pos),1,h);if(!h&&!p&&Fd(e.doc,e.mapping.map(a.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:u}]:void 0),r){if(p&&(o instanceof Ve&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,h),f&&!d&&!a.parentOffset&&a.parent.type!==f)){const g=e.mapping.map(a.before()),y=e.doc.resolve(g);a.node(-1).canReplaceWith(y.index(),y.index()+1,f)&&e.setNodeMarkup(e.mapping.map(a.before()),f)}t&&Dz(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},P9e=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const a=ir(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const f=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=Y.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let A=l.depth-b;A>=l.depth-3;A-=1)v=Y.from(l.node(A).copy(v));const x=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...xb(f,l.node().type.name,l.node().attrs),...e},S=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(C))||void 0;v=v.append(Y.from(a.createAndFill(null,S)||void 0));const k=l.before(l.depth-(b-1));n.replace(k,l.after(-x),new se(v,4-b,0));let E=-1;n.doc.nodesBetween(k,n.doc.content.size,(A,O)=>{if(E>-1)return!1;A.isTextblock&&A.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(Ve.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const h=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...xb(f,d.type.name,d.attrs),...e},g={...xb(f,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const y=h?[{type:a,attrs:p},{type:h,attrs:g}]:[{type:a,attrs:p}];if(!Fd(n.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:b}=r,{splittableMarks:x}=o.extensionManager,C=b||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!C||!i)return!0;const S=C.filter(k=>x.includes(k.type.name));n.ensureMarks(S)}return!0},gE=(t,e)=>{const n=Xj(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&$u(t.doc,n.pos)&&t.join(n.pos),!0},yE=(t,e)=>{const n=Xj(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&$u(t.doc,r)&&t.join(r),!0},M9e=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,h=ir(t,s.schema),p=ir(e,s.schema),{selection:g,storedMarks:y}=s,{$from:v,$to:b}=g,x=v.blockRange(b),C=y||g.$to.parentOffset&&g.$from.marks();if(!x)return!1;const S=Xj(k=>Rz(k.type.name,d))(g);if(x.depth>=1&&S&&x.depth-S.depth<=1){if(S.node.type===h)return c.liftListItem(p);if(Rz(S.node.type.name,d)&&h.validContent(S.node.content)&&a)return l().command(()=>(o.setNodeMarkup(S.pos,h),!0)).command(()=>gE(o,h)).command(()=>yE(o,h)).run()}return!n||!C||!a?l().command(()=>u().wrapInList(h,r)?!0:c.clearNodes()).wrapInList(h,r).command(()=>gE(o,h)).command(()=>yE(o,h)).run():l().command(()=>{const k=u().wrapInList(h,r),E=C.filter(A=>f.includes(A.type.name));return o.ensureMarks(E),k?!0:c.clearNodes()}).wrapInList(h,r).command(()=>gE(o,h)).command(()=>yE(o,h)).run()},_9e=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Vl(t,r.schema);return w9e(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},j9e=(t,e,n={})=>({state:r,commands:i})=>{const o=ir(t,r.schema),s=ir(e,r.schema),a=Yj(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...n})},$9e=(t,e={})=>({state:n,commands:r})=>{const i=ir(t,n.schema);return Yj(n,i,e)?r.lift(i):r.wrapIn(i,e)},I9e=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},R9e=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},D9e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=Vl(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:f,to:h}=a;const p=(o=c.marks().find(y=>y.type===l))===null||o===void 0?void 0:o.attrs,g=zJ(c,l,p);g&&(f=g.from,h=g.to),n.removeMark(f,h,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},L9e=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=UJ(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=ir(t,r.schema)),a==="mark"&&(s=Vl(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let d,f,h,p;n.selection.empty?r.doc.nodesBetween(c,u,(g,y)=>{o&&o===g.type&&(h=Math.max(y,c),p=Math.min(y+g.nodeSize,u),d=y,f=g)}):r.doc.nodesBetween(c,u,(g,y)=>{y<c&&o&&o===g.type&&(h=Math.max(y,c),p=Math.min(y+g.nodeSize,u),d=y,f=g),y>=c&&y<=u&&(o&&o===g.type&&n.setNodeMarkup(y,void 0,{...g.attrs,...e}),s&&g.marks.length&&g.marks.forEach(v=>{if(s===v.type){const b=Math.max(y,c),x=Math.min(y+g.nodeSize,u);n.addMark(b,x,s.create({...v.attrs,...e}))}}))}),f&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...f.attrs,...e}),s&&f.marks.length&&f.marks.forEach(g=>{s===g.type&&n.addMark(h,p,s.create({...g.attrs,...e}))}))}),!0):!1},F9e=(t,e={})=>({state:n,dispatch:r})=>{const i=ir(t,n.schema);return f8e(i,e)(n,r)},B9e=(t,e={})=>({state:n,dispatch:r})=>{const i=ir(t,n.schema);return h8e(i,e)(n,r)};var z9e=Object.freeze({__proto__:null,blur:O8e,clearContent:T8e,clearNodes:N8e,command:P8e,createParagraphNear:M8e,cut:_8e,deleteCurrentNode:j8e,deleteNode:$8e,deleteRange:I8e,deleteSelection:R8e,enter:D8e,exitCode:L8e,extendMarkRange:F8e,first:B8e,focus:W8e,forEach:H8e,insertContent:U8e,insertContentAt:q8e,joinBackward:J8e,joinDown:X8e,joinForward:Z8e,joinItemBackward:Q8e,joinItemForward:e9e,joinTextblockBackward:t9e,joinTextblockForward:n9e,joinUp:Y8e,keyboardShortcut:i9e,lift:o9e,liftEmptyBlock:s9e,liftListItem:a9e,newlineInCode:l9e,resetAttributes:c9e,scrollIntoView:u9e,selectAll:d9e,selectNodeBackward:f9e,selectNodeForward:h9e,selectParentNode:p9e,selectTextblockEnd:m9e,selectTextblockStart:g9e,setContent:v9e,setMark:C9e,setMeta:k9e,setNode:E9e,setNodeSelection:A9e,setTextSelection:O9e,sinkListItem:T9e,splitBlock:N9e,splitListItem:P9e,toggleList:M9e,toggleMark:_9e,toggleNode:j9e,toggleWrap:$9e,undoInputRule:I9e,unsetAllMarks:R9e,unsetMark:D9e,updateAttributes:L9e,wrapIn:F9e,wrapInList:B9e});Fi.create({name:"commands",addCommands(){return{...z9e}}});Fi.create({name:"drop",addProseMirrorPlugins(){return[new oa({key:new is("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}});Fi.create({name:"editable",addProseMirrorPlugins(){return[new oa({key:new is("editable"),props:{editable:()=>this.editor.options.editable}})]}});const V9e=new is("focusEvents");Fi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new oa({key:V9e,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}});Fi.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?a.doc.resolve(f-1):d,g=p.parent.type.spec.isolating,y=d.pos-d.parentOffset,v=g&&p.parent.childCount===1?y===d.pos:Ue.atStart(c).from===f;return!u||!h.type.isTextblock||h.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Aw()||HJ()?o:i},addProseMirrorPlugins(){return[new oa({key:new is("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(g=>g.getMeta("composition")))return;const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=e.selection,l=Ue.atStart(e.doc).from,c=Ue.atEnd(e.doc).to;if(o||!(s===l&&a===c)||!GJ(n.doc))return;const f=n.tr,h=FJ({state:n,transaction:f}),{commands:p}=new x8e({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}});Fi.create({name:"paste",addProseMirrorPlugins(){return[new oa({key:new is("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}});Fi.create({name:"tabindex",addProseMirrorPlugins(){return[new oa({key:new is("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});let GS=class TN{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=$r(tr(this,"addOptions",{name:this.name}))),this.storage=$r(tr(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new TN(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>KS(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new TN(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=$r(tr(n,"addOptions",{name:n.name})),n.storage=$r(tr(n,"addStorage",{name:n.name,options:n.options})),n}};const W9e=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,i;const o=n.getAttribute("style"),s=(i=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");n.setAttribute("style",`${s};${o}`)})},H9e=kw.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&W9e(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Sy(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),U9e=Fi.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});let NN,PN;if(typeof WeakMap<"u"){let t=new WeakMap;NN=e=>t.get(e),PN=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;NN=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},PN=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Jt=class{constructor(e,n,r,i){this.width=e,this.height=n,this.map=r,this.problems=i}findCell(e){for(let n=0;n<this.map.length;n++){const r=this.map[n];if(r!=e)continue;const i=n%this.width,o=n/this.width|0;let s=i+1,a=o+1;for(let l=1;s<this.width&&this.map[n+l]==r;l++)s++;for(let l=1;a<this.height&&this.map[n+this.width*l]==r;l++)a++;return{left:i,top:o,right:s,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let n=0;n<this.map.length;n++)if(this.map[n]==e)return n%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,n,r){const{left:i,right:o,top:s,bottom:a}=this.findCell(e);return n=="horiz"?(r<0?i==0:o==this.width)?null:this.map[s*this.width+(r<0?i-1:o)]:(r<0?s==0:a==this.height)?null:this.map[i+this.width*(r<0?s-1:a)]}rectBetween(e,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(e),{left:a,right:l,top:c,bottom:u}=this.findCell(n);return{left:Math.min(r,a),top:Math.min(o,c),right:Math.max(i,l),bottom:Math.max(s,u)}}cellsInRect(e){const n=[],r={};for(let i=e.top;i<e.bottom;i++)for(let o=e.left;o<e.right;o++){const s=i*this.width+o,a=this.map[s];r[a]||(r[a]=!0,!(o==e.left&&o&&this.map[s-1]==a||i==e.top&&i&&this.map[s-this.width]==a)&&n.push(a))}return n}positionAt(e,n,r){for(let i=0,o=0;;i++){const s=o+r.child(i).nodeSize;if(i==e){let a=n+e*this.width;const l=(e+1)*this.width;for(;a<l&&this.map[a]<o;)a++;return a==l?s-1:this.map[a]}o=s}}static get(e){return NN(e)||PN(e,K9e(e))}};function K9e(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=G9e(t),n=t.childCount,r=[];let i=0,o=null;const s=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=t.child(c);u++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==d.childCount)break;const g=d.child(p),{colspan:y,rowspan:v,colwidth:b}=g.attrs;for(let x=0;x<v;x++){if(x+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:v-x});break}const C=i+x*e;for(let S=0;S<y;S++){r[C+S]==0?r[C+S]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:y-S});const k=b&&b[S];if(k){const E=(C+S)%e*2,A=s[E];A==null||A!=k&&s[E+1]==1?(s[E]=k,s[E+1]=1):A==k&&s[E+1]++}}}i+=y,u+=g.nodeSize}const f=(c+1)*e;let h=0;for(;i<f;)r[i++]==0&&h++;h&&(o||(o=[])).push({type:"missing",row:c,n:h}),u++}(e===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const a=new Jt(e,n,r,o);let l=!1;for(let c=0;!l&&c<s.length;c+=2)s[c]!=null&&s[c+1]<n&&(l=!0);return l&&q9e(a,s,t),a}function G9e(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let s=0;s<r;s++){const a=t.child(s);for(let l=0;l<a.childCount;l++){const c=a.child(l);s+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const a=i.child(s);o+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function q9e(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(r[o])continue;r[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let a=null;const l=s.attrs;for(let c=0;c<l.colspan;c++){const u=e[(i+c)%t.width*2];u!=null&&(!l.colwidth||l.colwidth[c]!=u)&&((a||(a=Y9e(l)))[c]=u)}a&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}function Y9e(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function or(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}const $a=new is("selectingCells");function mu(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function X9e(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function vo(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function qS(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=mu(e.$head)||J9e(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function J9e(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function MN(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function Z9e(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function Jj(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function qJ(t,e,n){const r=t.node(-1),i=Jt.get(r),o=t.start(-1),s=i.nextCell(t.pos-o,e,n);return s==null?null:t.node(0).resolve(o+s)}function gu(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function YJ(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function Q9e(t,e,n){const r=or(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var At=class gs extends Ue{constructor(e,n=e){const r=e.node(-1),i=Jt.get(r),o=e.start(-1),s=i.rectBetween(e.pos-o,n.pos-o),a=e.node(0),l=i.cellsInRect(s).filter(u=>u!=n.pos-o);l.unshift(n.pos-o);const c=l.map(u=>{const d=r.nodeAt(u);if(!d)throw new RangeError(`No cell with offset ${u} found`);const f=o+u+1;return new oJ(a.resolve(f),a.resolve(f+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(MN(r)&&MN(i)&&Jj(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?gs.rowSelection(r,i):o&&this.isColSelection()?gs.colSelection(r,i):new gs(r,i)}return Ve.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Jt.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},s=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,d=i.left;d<i.right;d++,u++){const f=n.map[u];if(o[f])continue;o[f]=!0;const h=n.findCell(f);let p=e.nodeAt(f);if(!p)throw new RangeError(`No cell with offset ${f} found`);const g=i.left-h.left,y=h.right-i.right;if(g>0||y>0){let v=p.attrs;if(g>0&&(v=gu(v,0,g)),y>0&&(v=gu(v,v.colspan-y,y)),h.left<i.left){if(p=p.type.createAndFill(v),!p)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(v)}`)}else p=p.type.create(v,p.content)}if(h.top<i.top||h.bottom>i.bottom){const v={...p.attrs,rowspan:Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top)};h.top<i.top?p=p.type.createAndFill(v):p=p.type.create(v,p.content)}c.push(p)}s.push(e.child(l).copy(Y.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:s;return new se(Y.from(a),1,1)}replace(e,n=se.empty){const r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){const{$from:a,$to:l}=i[s],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),s?se.empty:n)}const o=Ue.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new se(Y.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Jt.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let s=0;s<o.length;s++)e(n.nodeAt(o[s]),i+o[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Jt.get(r),o=e.start(-1),s=i.findCell(e.pos-o),a=i.findCell(n.pos-o),l=e.node(0);return s.top<=a.top?(s.top>0&&(e=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(e=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))),new gs(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Jt.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const s=i+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,a)==n.width}eq(e){return e instanceof gs&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Jt.get(r),o=e.start(-1),s=i.findCell(e.pos-o),a=i.findCell(n.pos-o),l=e.node(0);return s.left<=a.left?(s.left>0&&(e=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(n=l.resolve(o+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(e=l.resolve(o+i.map[i.width*(s.top+1)-1]))),new gs(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new gs(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new gs(e.resolve(n),e.resolve(r))}getBookmark(){return new eKe(this.$anchorCell.pos,this.$headCell.pos)}};At.prototype.visible=!1;Ue.jsonID("cell",At);var eKe=class XJ{constructor(e,n){this.anchor=e,this.head=n}map(e){return new XJ(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&Jj(n,r)?new At(n,r):Ue.near(r,1)}};function tKe(t){if(!(t.selection instanceof At))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Ti.node(r,r+n.nodeSize,{class:"selectedCell"}))}),ln.create(t.doc,e)}function nKe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let o=e.depth;o>=0&&!(e.before(o+1)>e.start(o));o--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function rKe({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&e.parentOffset===0}function iKe(t,e,n){const r=(e||t).selection,i=(e||t).doc;let o,s;if(r instanceof je&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=At.create(i,r.from);else if(s=="row"){const a=i.resolve(r.from+1);o=At.rowSelection(a,a)}else if(!n){const a=Jt.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];o=At.create(i,l+1,c)}}else r instanceof Ve&&nKe(r)?o=Ve.create(i,r.from):r instanceof Ve&&rKe(r)&&(o=Ve.create(i,r.$from.start(),r.$from.end()));return o&&(e||(e=t.tr)).setSelection(o),e}const oKe=new is("fix-tables");function JJ(t,e,n,r){const i=t.childCount,o=e.childCount;e:for(let s=0,a=0;s<o;s++){const l=e.child(s);for(let c=a,u=Math.min(i,s+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&t.child(a).sameMarkup(l)?JJ(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function ZJ(t,e){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=sKe(t,i,o,n))};return e?e.doc!=t.doc&&JJ(e.doc,t.doc,0,r):t.doc.descendants(r),n}function sKe(t,e,n,r){const i=Jt.get(e);if(!i.problems)return r;r||(r=t.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let f=0;f<d.rowspan;f++)o[c.row+f]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,gu(d,d.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const u=r.mapping.map(n);r.delete(u,u+e.nodeSize)}}let s,a;for(let l=0;l<o.length;l++)o[l]&&(s==null&&(s=l),a=l);for(let l=0,c=n+1;l<i.height;l++){const u=e.child(l),d=c+u.nodeSize,f=o[l];if(f>0){let h="cell";u.firstChild&&(h=u.firstChild.type.spec.tableRole);const p=[];for(let y=0;y<f;y++){const v=or(t.schema)[h].createAndFill();v&&p.push(v)}const g=(l==0||s==l-1)&&a==l?c+1:d-1;r.insert(r.mapping.map(g),p)}c=d}return r.setMeta(oKe,{fixTables:!0})}function ss(t){const e=t.selection,n=qS(t),r=n.node(-1),i=n.start(-1),o=Jt.get(r);return{...e instanceof At?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function QJ(t,{map:e,tableStart:n,table:r},i){let o=i>0?-1:0;Q9e(e,r,i+o)&&(o=i==0||i==e.width?null:0);for(let s=0;s<e.height;s++){const a=s*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,YJ(c.attrs,i-e.colCount(l))),s+=c.attrs.rowspan-1}else{const l=o==null?or(r.type.schema).cell:r.nodeAt(e.map[a+o]).type,c=e.positionAt(s,i,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function aKe(t,e){if(!vo(t))return!1;if(e){const n=ss(t);e(QJ(t.tr,n,n.left))}return!0}function lKe(t,e){if(!vo(t))return!1;if(e){const n=ss(t);e(QJ(t.tr,n,n.right))}return!0}function cKe(t,{map:e,table:n,tableStart:r},i){const o=t.mapping.maps.length;for(let s=0;s<e.height;){const a=s*e.width+i,l=e.map[a],c=n.nodeAt(l),u=c.attrs;if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(o).map(r+l),null,gu(u,i-e.colCount(l)));else{const d=t.mapping.slice(o).map(r+l);t.delete(d,d+c.nodeSize)}s+=u.rowspan}}function uKe(t,e){if(!vo(t))return!1;if(e){const n=ss(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;cKe(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw new RangeError("No table found");n.table=o,n.map=Jt.get(o)}e(r)}return!0}function dKe(t,e,n){var r;const i=or(e.type.schema).header_cell;for(let o=0;o<t.width;o++)if(((r=e.nodeAt(t.map[o+n*t.width]))===null||r===void 0?void 0:r.type)!=i)return!1;return!0}function eZ(t,{map:e,tableStart:n,table:r},i){let o=n;for(let c=0;c<i;c++)o+=r.child(c).nodeSize;const s=[];let a=i>0?-1:0;dKe(e,r,i+a)&&(a=i==0||i==e.height?null:0);for(let c=0,u=e.width*i;c<e.width;c++,u++)if(i>0&&i<e.height&&e.map[u]==e.map[u-e.width]){const d=e.map[u],f=r.nodeAt(d).attrs;t.setNodeMarkup(n+d,null,{...f,rowspan:f.rowspan+1}),c+=f.colspan-1}else{var l;const d=a==null?or(r.type.schema).cell:(l=r.nodeAt(e.map[u+a*e.width]))===null||l===void 0?void 0:l.type,f=d==null?void 0:d.createAndFill();f&&s.push(f)}return t.insert(o,or(r.type.schema).row.create(null,s)),t}function fKe(t,e){if(!vo(t))return!1;if(e){const n=ss(t);e(eZ(t.tr,n,n.top))}return!0}function hKe(t,e){if(!vo(t))return!1;if(e){const n=ss(t);e(eZ(t.tr,n,n.bottom))}return!0}function pKe(t,{map:e,table:n,tableStart:r},i){let o=0;for(let c=0;c<i;c++)o+=n.child(c).nodeSize;const s=o+n.child(i).nodeSize,a=t.mapping.maps.length;t.delete(o+r,s+r);const l=new Set;for(let c=0,u=i*e.width;c<e.width;c++,u++){const d=e.map[u];if(!l.has(d)){if(l.add(d),i>0&&d==e.map[u-e.width]){const f=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...f,rowspan:f.rowspan-1}),c+=f.colspan-1}else if(i<e.height&&d==e.map[u+e.width]){const f=n.nodeAt(d),h=f.attrs,p=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),g=e.positionAt(i+1,c,n);t.insert(t.mapping.slice(a).map(r+g),p),c+=h.colspan-1}}}}function mKe(t,e){if(!vo(t))return!1;if(e){const n=ss(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;pKe(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw new RangeError("No table found");n.table=o,n.map=Jt.get(n.table)}e(r)}return!0}function Lz(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function gKe({width:t,height:e,map:n},r){let i=r.top*t+r.left,o=i,s=(r.bottom-1)*t+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<t&&n[a]==n[a+1])return!0;o+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[s]==n[s+t])return!0;i++,s++}return!1}function Fz(t,e){const n=t.selection;if(!(n instanceof At)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=ss(t),{map:i}=r;if(gKe(i,r))return!1;if(e){const o=t.tr,s={};let a=Y.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){const f=i.map[u*i.width+d],h=r.table.nodeAt(f);if(!(s[f]||!h))if(s[f]=!0,l==null)l=f,c=h;else{Lz(h)||(a=a.append(h.content));const p=o.mapping.map(f+r.tableStart);o.delete(p,p+h.nodeSize)}}if(l==null||c==null)return!0;if(o.setNodeMarkup(l+r.tableStart,null,{...YJ(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size>0){const u=l+1+c.content.size,d=Lz(c)?l+1:u;o.replaceWith(d+r.tableStart,u+r.tableStart,a)}o.setSelection(new At(o.doc.resolve(l+r.tableStart))),e(o)}return!0}function Bz(t,e){const n=or(t.schema);return yKe(({node:r})=>n[r.type.spec.tableRole])(t,e)}function yKe(t){return(e,n)=>{const r=e.selection;let i,o;if(r instanceof At){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,o=r.$anchorCell.pos}else{var s;if(i=X9e(r.$from),!i)return!1;o=(s=mu(r.$from))===null||s===void 0?void 0:s.pos}if(i==null||o==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let a=i.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=ss(e),d=e.tr;for(let h=0;h<u.right-u.left;h++)l.push(c?{...a,colwidth:c&&c[h]?[c[h]]:null}:a);let f;for(let h=u.top;h<u.bottom;h++){let p=u.map.positionAt(h,u.left,u.table);h==u.top&&(p+=i.nodeSize);for(let g=u.left,y=0;g<u.right;g++,y++)g==u.left&&h==u.top||d.insert(f=d.mapping.map(p+u.tableStart,1),t({node:i,row:h,col:g}).createAndFill(l[y]))}d.setNodeMarkup(o,t({node:i,row:u.top,col:u.left}),l[0]),r instanceof At&&d.setSelection(new At(d.doc.resolve(r.$anchorCell.pos),f?d.doc.resolve(f):void 0)),n(d)}return!0}}function vKe(t,e){return function(n,r){if(!vo(n))return!1;const i=qS(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const o=n.tr;n.selection instanceof At?n.selection.forEachCell((s,a)=>{s.attrs[t]!==e&&o.setNodeMarkup(a,null,{...s.attrs,[t]:e})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(o)}return!0}}function bKe(t){return function(e,n){if(!vo(e))return!1;if(n){const r=or(e.schema),i=ss(e),o=e.tr,s=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=s.map(l=>i.table.nodeAt(l));for(let l=0;l<s.length;l++)a[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[l],r.cell,a[l].attrs);if(o.steps.length===0)for(let l=0;l<s.length;l++)o.setNodeMarkup(i.tableStart+s[l],r.header_cell,a[l].attrs);n(o)}return!0}}function zz(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function _g(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?bKe(t):function(n,r){if(!vo(n))return!1;if(r){const i=or(n.schema),o=ss(n),s=n.tr,a=zz("row",o,i),l=zz("column",o,i),c=(t==="column"?a:t==="row"&&l)?1:0,u=t=="column"?{left:0,top:c,right:1,bottom:o.map.height}:t=="row"?{left:c,top:0,right:o.map.width,bottom:1}:o,d=t=="column"?l?i.cell:i.header_cell:t=="row"?a?i.cell:i.header_cell:i.cell;o.map.cellsInRect(u).forEach(f=>{const h=f+o.tableStart,p=s.doc.nodeAt(h);p&&s.setNodeMarkup(h,d,p.attrs)}),r(s)}return!0}}_g("row",{useDeprecatedLogic:!0});_g("column",{useDeprecatedLogic:!0});const xKe=_g("cell",{useDeprecatedLogic:!0});function wKe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const o=t.node(-1).child(r),s=o.lastChild;if(s)return i-1-s.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function Vz(t){return function(e,n){if(!vo(e))return!1;const r=wKe(qS(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(Ve.between(i,Z9e(i))).scrollIntoView())}return!0}}function SKe(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function $v(t,e){const n=t.selection;if(!(n instanceof At))return!1;if(e){const r=t.tr,i=or(t.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new se(i,0,0))}),r.docChanged&&e(r)}return!0}function CKe(t){if(t.size===0)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),o=i.type.spec.tableRole,s=i.type.schema,a=[];if(o=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=_N(or(s).row,new se(c,u,d)).content),a.push(c)}else if(o=="cell"||o=="header_cell")a.push(n||r?_N(or(s).row,new se(e,n,r)).content:e);else return null;return kKe(s,a)}function kKe(t,e){const n=[];for(let i=0;i<e.length;i++){const o=e[i];for(let s=o.childCount-1;s>=0;s--){const{rowspan:a,colspan:l}=o.child(s).attrs;for(let c=i;c<i+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(Y.empty),n[i]<r){const o=or(t).cell.createAndFill(),s=[];for(let a=n[i];a<r;a++)s.push(o);e[i]=e[i].append(Y.from(s))}return{height:e.length,width:r,rows:e}}function _N(t,e){const n=t.createAndFill();return new JUe(n).replace(0,n.content.size,e).doc}function EKe({width:t,height:e,rows:n},r,i){if(t!=r){const o=[],s=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=o[a]||0,d=0;u<r;d++){let f=l.child(d%l.childCount);u+f.attrs.colspan>r&&(f=f.type.createChecked(gu(f.attrs,f.attrs.colspan,u+f.attrs.colspan-r),f.content)),c.push(f),u+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)o[a+h]=(o[a+h]||0)+f.attrs.colspan}s.push(Y.from(c))}n=s,t=r}if(e!=i){const o=[];for(let s=0,a=0;s<i;s++,a++){const l=[],c=n[a%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);s+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}o.push(Y.from(l))}n=o,e=i}return{width:t,height:e,rows:n}}function AKe(t,e,n,r,i,o,s){const a=t.doc.type.schema,l=or(a);let c,u;if(i>e.width)for(let d=0,f=0;d<e.height;d++){const h=n.child(d);f+=h.nodeSize;const p=[];let g;h.lastChild==null||h.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let y=e.width;y<i;y++)p.push(g);t.insert(t.mapping.slice(s).map(f-1+r),p)}if(o>e.height){const d=[];for(let p=0,g=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const y=p>=e.width?!1:n.nodeAt(e.map[g+p]).type==l.header_cell;d.push(y?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const f=l.row.create(null,Y.from(d)),h=[];for(let p=e.height;p<o;p++)h.push(f);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),h)}return!!(c||u)}function Wz(t,e,n,r,i,o,s,a){if(s==0||s==e.height)return!1;let l=!1;for(let c=i;c<o;c++){const u=s*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){l=!0;const f=n.nodeAt(d),{top:h,left:p}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...f.attrs,rowspan:s-h}),t.insert(t.mapping.slice(a).map(e.positionAt(s,p,n)),f.type.createAndFill({...f.attrs,rowspan:h+f.attrs.rowspan-s})),c+=f.attrs.colspan-1}}return l}function Hz(t,e,n,r,i,o,s,a){if(s==0||s==e.width)return!1;let l=!1;for(let c=i;c<o;c++){const u=c*e.width+s,d=e.map[u];if(e.map[u-1]==d){l=!0;const f=n.nodeAt(d),h=e.colCount(d),p=t.mapping.slice(a).map(d+r);t.setNodeMarkup(p,null,gu(f.attrs,s-h,f.attrs.colspan-(s-h))),t.insert(p+f.nodeSize,f.type.createAndFill(gu(f.attrs,0,s-h))),c+=f.attrs.rowspan-1}}return l}function Uz(t,e,n,r,i){let o=n?t.doc.nodeAt(n-1):t.doc;if(!o)throw new Error("No table found");let s=Jt.get(o);const{top:a,left:l}=r,c=l+i.width,u=a+i.height,d=t.tr;let f=0;function h(){if(o=n?d.doc.nodeAt(n-1):d.doc,!o)throw new Error("No table found");s=Jt.get(o),f=d.mapping.maps.length}AKe(d,s,o,n,c,u,f)&&h(),Wz(d,s,o,n,l,c,a,f)&&h(),Wz(d,s,o,n,l,c,u,f)&&h(),Hz(d,s,o,n,a,u,l,f)&&h(),Hz(d,s,o,n,a,u,c,f)&&h();for(let p=a;p<u;p++){const g=s.positionAt(p,l,o),y=s.positionAt(p,c,o);d.replace(d.mapping.slice(f).map(g+n),d.mapping.slice(f).map(y+n),new se(i.rows[p-a],0,0))}h(),d.setSelection(new At(d.doc.resolve(n+s.positionAt(a,l,o)),d.doc.resolve(n+s.positionAt(u-1,c-1,o)))),e(d)}const OKe=G6e({ArrowLeft:Iv("horiz",-1),ArrowRight:Iv("horiz",1),ArrowUp:Iv("vert",-1),ArrowDown:Iv("vert",1),"Shift-ArrowLeft":Rv("horiz",-1),"Shift-ArrowRight":Rv("horiz",1),"Shift-ArrowUp":Rv("vert",-1),"Shift-ArrowDown":Rv("vert",1),Backspace:$v,"Mod-Backspace":$v,Delete:$v,"Mod-Delete":$v});function wb(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Iv(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof At)return wb(n,r,Ue.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const s=tZ(i,t,e);if(s==null)return!1;if(t=="horiz")return wb(n,r,Ue.near(n.doc.resolve(o.head+e),e));{const a=n.doc.resolve(s),l=qJ(a,t,e);let c;return l?c=Ue.near(l,1):e<0?c=Ue.near(n.doc.resolve(a.before(-1)),-1):c=Ue.near(n.doc.resolve(a.after(-1)),1),wb(n,r,c)}}}function Rv(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let s;if(o instanceof At)s=o;else{const l=tZ(i,t,e);if(l==null)return!1;s=new At(n.doc.resolve(l))}const a=qJ(s.$headCell,t,e);return a?wb(n,r,new At(s.$anchorCell,a)):!1}}function TKe(t,e){const n=t.state.doc,r=mu(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new At(r))),!0):!1}function NKe(t,e,n){if(!vo(t.state))return!1;let r=CKe(n);const i=t.state.selection;if(i instanceof At){r||(r={width:1,height:1,rows:[Y.from(_N(or(t.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),a=Jt.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=EKe(r,a.right-a.left,a.bottom-a.top),Uz(t.state,t.dispatch,s,a,r),!0}else if(r){const o=qS(t.state),s=o.start(-1);return Uz(t.state,t.dispatch,s,Jt.get(o.node(-1)).findCell(o.pos-s),r),!0}else return!1}function PKe(t,e){var n;if(e.button!=0||e.ctrlKey||e.metaKey)return;const r=Kz(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof At)o(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=mu(t.state.selection.$anchor))!=null&&((n=vE(t,e))===null||n===void 0?void 0:n.pos)!=i.pos)o(i,e),e.preventDefault();else if(!r)return;function o(l,c){let u=vE(t,c);const d=$a.getState(t.state)==null;if(!u||!Jj(l,u))if(d)u=l;else return;const f=new At(l,u);if(d||!t.state.selection.eq(f)){const h=t.state.tr.setSelection(f);d&&h.setMeta($a,l.pos),t.dispatch(h)}}function s(){t.root.removeEventListener("mouseup",s),t.root.removeEventListener("dragstart",s),t.root.removeEventListener("mousemove",a),$a.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta($a,-1))}function a(l){const c=l,u=$a.getState(t.state);let d;if(u!=null)d=t.state.doc.resolve(u);else if(Kz(t,c.target)!=r&&(d=vE(t,e),!d))return s();d&&o(d,c)}t.root.addEventListener("mouseup",s),t.root.addEventListener("dragstart",s),t.root.addEventListener("mousemove",a)}function tZ(t,e,n){if(!(t.state.selection instanceof Ve))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?s:null}}return null}function Kz(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function vE(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});if(!n)return null;let{inside:r,pos:i}=n;return r>=0&&mu(t.state.doc.resolve(r))||mu(t.state.doc.resolve(i))}var MKe=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),jN(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,jN(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function jN(t,e,n,r,i,o){let s=0,a=!0,l=e.firstChild;const c=t.firstChild;if(c){for(let d=0,f=0;d<c.childCount;d++){const{colspan:h,colwidth:p}=c.child(d).attrs;for(let g=0;g<h;g++,f++){const y=i==f?o:p&&p[g],v=y?y+"px":"";if(s+=y||r,y||(a=!1),l)l.style.width!=v&&(l.style.width=v),l=l.nextSibling;else{const b=document.createElement("col");b.style.width=v,e.appendChild(b)}}}for(;l;){var u;const d=l.nextSibling;(u=l.parentNode)===null||u===void 0||u.removeChild(l),l=d}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}const Jr=new is("tableColumnResizing");function _Ke({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=MKe,lastColumnResizable:i=!0}={}){const o=new oa({key:Jr,state:{init(s,a){var l;const c=(l=o.spec)===null||l===void 0||(l=l.props)===null||l===void 0?void 0:l.nodeViews,u=or(a.schema).table.name;return r&&c&&(c[u]=(d,f)=>new r(d,n,f)),new jKe(-1,!1)},apply(s,a){return a.apply(s)}},props:{attributes:s=>{const a=Jr.getState(s);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,a)=>{$Ke(s,a,t,i)},mouseleave:s=>{IKe(s)},mousedown:(s,a)=>{RKe(s,a,e,n)}},decorations:s=>{const a=Jr.getState(s);if(a&&a.activeHandle>-1)return zKe(s,a.activeHandle)},nodeViews:{}}});return o}var jKe=class Sb{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Jr);if(r&&r.setHandle!=null)return new Sb(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Sb(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return MN(e.doc.resolve(i))||(i=-1),new Sb(i,n.dragging)}return n}};function $Ke(t,e,n,r){if(!t.editable)return;const i=Jr.getState(t.state);if(i&&!i.dragging){const o=LKe(e.target);let s=-1;if(o){const{left:a,right:l}=o.getBoundingClientRect();e.clientX-a<=n?s=Gz(t,e,"left",n):l-e.clientX<=n&&(s=Gz(t,e,"right",n))}if(s!=i.activeHandle){if(!r&&s!==-1){const a=t.state.doc.resolve(s),l=a.node(-1),c=Jt.get(l),u=a.start(-1);if(c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==c.width-1)return}nZ(t,s)}}}function IKe(t){if(!t.editable)return;const e=Jr.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&nZ(t,-1)}function RKe(t,e,n,r){var i;if(!t.editable)return!1;const o=(i=t.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,s=Jr.getState(t.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const a=t.state.doc.nodeAt(s.activeHandle),l=DKe(t,s.activeHandle,a.attrs);t.dispatch(t.state.tr.setMeta(Jr,{setDragging:{startX:e.clientX,startWidth:l}}));function c(d){o.removeEventListener("mouseup",c),o.removeEventListener("mousemove",u);const f=Jr.getState(t.state);f!=null&&f.dragging&&(FKe(t,f.activeHandle,qz(f.dragging,d,n)),t.dispatch(t.state.tr.setMeta(Jr,{setDragging:null})))}function u(d){if(!d.which)return c(d);const f=Jr.getState(t.state);if(f&&f.dragging){const h=qz(f.dragging,d,n);Yz(t,f.activeHandle,h,r)}}return Yz(t,s.activeHandle,l,r),o.addEventListener("mouseup",c),o.addEventListener("mousemove",u),e.preventDefault(),!0}function DKe(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=t.domAtPos(e);let s=o.node.childNodes[o.offset].offsetWidth,a=n;if(r)for(let l=0;l<n;l++)r[l]&&(s-=r[l],a--);return s/a}function LKe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function Gz(t,e,n,r){const i=n=="right"?-r:r,o=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!o)return-1;const{pos:s}=o,a=mu(t.state.doc.resolve(s));if(!a)return-1;if(n=="right")return a.pos;const l=Jt.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function qz(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function nZ(t,e){t.dispatch(t.state.tr.setMeta(Jr,{setHandle:e}))}function FKe(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),o=Jt.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<o.height;c++){const u=c*o.width+a;if(c&&o.map[u]==o.map[u-o.width])continue;const d=o.map[u],f=i.nodeAt(d).attrs,h=f.colspan==1?0:a-o.colCount(d);if(f.colwidth&&f.colwidth[h]==n)continue;const p=f.colwidth?f.colwidth.slice():BKe(f.colspan);p[h]=n,l.setNodeMarkup(s+d,null,{...f,colwidth:p})}l.docChanged&&t.dispatch(l)}function Yz(t,e,n,r){const i=t.state.doc.resolve(e),o=i.node(-1),s=i.start(-1),a=Jt.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&jN(o,l.firstChild,l,r,a,n)}function BKe(t){return Array(t).fill(0)}function zKe(t,e){const n=[],r=t.doc.resolve(e),i=r.node(-1);if(!i)return ln.empty;const o=Jt.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1;for(let c=0;c<o.height;c++){const u=a+c*o.width;if((a==o.width-1||o.map[u]!=o.map[u+1])&&(c==0||o.map[u]!=o.map[u-o.width])){var l;const d=o.map[u],f=s+d+i.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",!((l=Jr.getState(t))===null||l===void 0)&&l.dragging&&n.push(Ti.node(s+d,s+d+i.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),n.push(Ti.widget(f,h))}}return ln.create(t.doc,n)}function VKe({allowTableNodeSelection:t=!1}={}){return new oa({key:$a,state:{init(){return null},apply(e,n){const r=e.getMeta($a);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:o}=e.mapping.mapResult(n);return i?null:o}},props:{decorations:tKe,handleDOMEvents:{mousedown:PKe},createSelectionBetween(e){return $a.getState(e.state)!=null?e.state.selection:null},handleTripleClick:TKe,handleKeyDown:OKe,handlePaste:NKe},appendTransaction(e,n,r){return iKe(r,ZJ(r,n),t)}})}function $N(t,e){return e?["width",`${Math.max(e,t)}px`]:["min-width",`${t}px`]}function Xz(t,e,n,r,i,o){var s;let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u!==null)for(let d=0,f=0;d<u.childCount;d+=1){const{colspan:h,colwidth:p}=u.child(d).attrs;for(let g=0;g<h;g+=1,f+=1){const y=i===f?o:p&&p[g],v=y?`${y}px`:"";if(a+=y||r,y||(l=!1),c){if(c.style.width!==v){const[b,x]=$N(r,y);c.style.setProperty(b,x)}c=c.nextSibling}else{const b=document.createElement("col"),[x,C]=$N(r,y);b.style.setProperty(x,C),e.appendChild(b)}}}for(;c;){const d=c.nextSibling;(s=c.parentNode)===null||s===void 0||s.removeChild(c),c=d}l?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}class WKe{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Xz(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Xz(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function HKe(t,e,n,r){let i=0,o=!0;const s=[],a=t.firstChild;if(!a)return{};for(let d=0,f=0;d<a.childCount;d+=1){const{colspan:h,colwidth:p}=a.child(d).attrs;for(let g=0;g<h;g+=1,f+=1){const y=n===f?r:p&&p[g];i+=y||e,y||(o=!1);const[v,b]=$N(e,y);s.push(["col",{style:`${v}: ${b}`}])}}const l=o?`${i}px`:"",c=o?"":`${i}px`;return{colgroup:["colgroup",{},...s],tableWidth:l,tableMinWidth:c}}function Jz(t,e){return e?t.createChecked(null,e):t.createAndFill()}function UKe(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function KKe(t,e,n,r,i){const o=UKe(t),s=[],a=[];for(let c=0;c<n;c+=1){const u=Jz(o.cell,i);if(u&&a.push(u),r){const d=Jz(o.header_cell,i);d&&s.push(d)}}const l=[];for(let c=0;c<e;c+=1)l.push(o.row.createChecked(null,r&&c===0?s:a));return o.table.createChecked(null,l)}function GKe(t){return t instanceof At}const Dv=({editor:t})=>{const{selection:e}=t.state;if(!GKe(e))return!1;let n=0;const r=KJ(e.ranges[0].$from,o=>o.type.name==="table");return r==null||r.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},qKe=GS.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:WKe,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=HKe(t,this.options.cellMinWidth),o=["table",Sy(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},o]:o},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const s=KKe(o.schema,t,e,n);if(i){const a=r.selection.from+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(Ve.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>aKe(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>lKe(t,e),deleteColumn:()=>({state:t,dispatch:e})=>uKe(t,e),addRowBefore:()=>({state:t,dispatch:e})=>fKe(t,e),addRowAfter:()=>({state:t,dispatch:e})=>hKe(t,e),deleteRow:()=>({state:t,dispatch:e})=>mKe(t,e),deleteTable:()=>({state:t,dispatch:e})=>SKe(t,e),mergeCells:()=>({state:t,dispatch:e})=>Fz(t,e),splitCell:()=>({state:t,dispatch:e})=>Bz(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>_g("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>_g("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>xKe(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>Fz(t,e)?!0:Bz(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>vKe(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>Vz(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>Vz(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&ZJ(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=At.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Dv,"Mod-Backspace":Dv,Delete:Dv,"Mod-Delete":Dv}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[_Ke({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],VKe({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:$r(tr(t,"tableRole",e))}}}),YKe=GS.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Sy(this.options.HTMLAttributes,t),0]}}),XKe=GS.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Sy(this.options.HTMLAttributes,t),0]}}),JKe=GS.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Sy(this.options.HTMLAttributes,t),0]}}),ZKe=Ht.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize.replace(/['"]+/g,""),renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Yn=({onClick:t,isActive:e=!1,children:n,title:r})=>m.jsx("button",{type:"button",onClick:t,className:ce("p-2 rounded-md transition-colors hover:bg-muted",e?"bg-muted text-primary":"text-muted-foreground"),title:r,children:n});function QKe({value:t,onChange:e,placeholder:n,className:r}){const i=gWe({extensions:[eUe,SX,H9e,U9e,ZKe,qKe.configure({resizable:!0,HTMLAttributes:{class:"border-collapse table-auto w-full"}}),YKe,JKe,XKe.configure({HTMLAttributes:{class:"border border-border p-2"}}),dX.configure({openOnClick:!1,HTMLAttributes:{class:"text-primary underline decoration-primary underline-offset-4"}}),nUe.configure({HTMLAttributes:{class:"rounded-lg border border-border"}}),rUe.configure({types:["heading","paragraph"]}),JHe.configure({placeholder:n||"Comece a escrever..."})],content:t,onUpdate:({editor:a})=>{e(a.getHTML())},editorProps:{attributes:{class:"prose prose-sm dark:prose-invert max-w-none min-h-[150px] p-4 focus:outline-none"}}});w.useEffect(()=>{i&&t!==i.getHTML()&&i.commands.setContent(t)},[t,i]);const o=w.useCallback(()=>{if(!i)return;const a=i.getAttributes("link").href,l=window.prompt("URL:",a);if(l!==null){if(l===""){i.chain().focus().extendMarkRange("link").unsetLink().run();return}i.chain().focus().extendMarkRange("link").setLink({href:l}).run()}},[i]),s=w.useCallback(()=>{if(!i)return;const a=window.prompt("URL da imagem:");a&&i.chain().focus().setImage({src:a}).run()},[i]);return i?m.jsxs("div",{className:ce("border rounded-md bg-background",r),children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-1 border-b p-2 bg-muted/30",children:[m.jsx(Yn,{onClick:()=>i.chain().focus().toggleBold().run(),isActive:i.isActive("bold"),title:"Negrito",children:m.jsx(Zie,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:()=>i.chain().focus().toggleItalic().run(),isActive:i.isActive("italic"),title:"Itlico",children:m.jsx(foe,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:()=>i.chain().focus().toggleUnderline().run(),isActive:i.isActive("underline"),title:"Sublinhado",children:m.jsx($oe,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:()=>i.chain().focus().toggleStrike().run(),isActive:i.isActive("strike"),title:"Rasurado",children:m.jsx(Noe,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-6 bg-border mx-1"}),m.jsx(Yn,{onClick:()=>i.chain().focus().toggleHeading({level:1}).run(),isActive:i.isActive("heading",{level:1}),title:"Ttulo 1",children:m.jsx(coe,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:()=>i.chain().focus().toggleHeading({level:2}).run(),isActive:i.isActive("heading",{level:2}),title:"Ttulo 2",children:m.jsx(uoe,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-6 bg-border mx-1"}),m.jsx(Yn,{onClick:()=>i.chain().focus().toggleBulletList().run(),isActive:i.isActive("bulletList"),title:"Lista de Marcadores",children:m.jsx(goe,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:()=>i.chain().focus().toggleOrderedList().run(),isActive:i.isActive("orderedList"),title:"Lista Numerada",children:m.jsx(moe,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:()=>i.chain().focus().toggleBlockquote().run(),isActive:i.isActive("blockquote"),title:"Citao",children:m.jsx(Soe,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-6 bg-border mx-1"}),m.jsx(Yn,{onClick:()=>i.chain().focus().setTextAlign("left").run(),isActive:i.isActive({textAlign:"left"}),title:"Alinhar  Esquerda",children:m.jsx(Yie,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:()=>i.chain().focus().setTextAlign("center").run(),isActive:i.isActive({textAlign:"center"}),title:"Centralizar",children:m.jsx(qie,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:()=>i.chain().focus().setTextAlign("right").run(),isActive:i.isActive({textAlign:"right"}),title:"Alinhar  Direita",children:m.jsx(Xie,{className:"w-4 h-4"})}),m.jsx("div",{className:"w-px h-6 bg-border mx-1"}),m.jsx(Yn,{onClick:o,isActive:i.isActive("link"),title:"Link",children:m.jsx(poe,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:s,title:"Imagem",children:m.jsx(XW,{className:"w-4 h-4"})}),m.jsx("div",{className:"flex-1"}),m.jsx(Yn,{onClick:()=>i.chain().focus().undo().run(),title:"Desfazer",children:m.jsx(Ioe,{className:"w-4 h-4"})}),m.jsx(Yn,{onClick:()=>i.chain().focus().redo().run(),title:"Refazer",children:m.jsx(Coe,{className:"w-4 h-4"})})]}),m.jsx(JY,{editor:i})]}):null}function Ow(t,[e,n]){return Math.min(n,Math.max(e,t))}var bE=0;function rZ(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Zz()),document.body.insertAdjacentElement("beforeend",t[1]??Zz()),bE++,()=>{bE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bE--}},[])}function Zz(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var eGe=[" ","Enter","ArrowUp","ArrowDown"],tGe=[" ","Enter"],yu="Select",[YS,XS,nGe]=Qf(yu),[Eh,rnt]=Or(yu,[nGe,b1]),JS=b1(),[rGe,Wl]=Eh(yu),[iGe,oGe]=Eh(yu),iZ=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:h,form:p}=t,g=JS(e),[y,v]=w.useState(null),[b,x]=w.useState(null),[C,S]=w.useState(!1),k=wh(c),[E,A]=qo({prop:r,defaultProp:i??!1,onChange:o,caller:yu}),[O,P]=qo({prop:s,defaultProp:a,onChange:l,caller:yu}),T=w.useRef(null),N=y?p||!!y.closest("form"):!0,[$,_]=w.useState(new Set),I=Array.from($).map(R=>R.props.value).join(";");return m.jsx(ble,{...g,children:m.jsxs(rGe,{required:h,scope:e,trigger:y,onTriggerChange:v,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:C,onValueNodeHasChildrenChange:S,contentId:ao(),value:O,onValueChange:P,open:E,onOpenChange:A,dir:k,triggerPointerDownPosRef:T,disabled:f,children:[m.jsx(YS.Provider,{scope:e,children:m.jsx(iGe,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(R=>{_(F=>new Set(F).add(R))},[]),onNativeOptionRemove:w.useCallback(R=>{_(F=>{const j=new Set(F);return j.delete(R),j})},[]),children:n})}),N?m.jsxs(TZ,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:O,onChange:R=>P(R.target.value),disabled:f,form:p,children:[O===void 0?m.jsx("option",{value:""}):null,Array.from($)]},I):null]})})};iZ.displayName=yu;var oZ="SelectTrigger",sZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=JS(n),s=Wl(oZ,n),a=s.disabled||r,l=Re(e,s.onTriggerChange),c=XS(n),u=w.useRef("touch"),[d,f,h]=PZ(g=>{const y=c().filter(x=>!x.disabled),v=y.find(x=>x.value===s.value),b=MZ(y,g,v);b!==void 0&&s.onValueChange(b.value)}),p=g=>{a||(s.onOpenChange(!0),h()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return m.jsx(QH,{asChild:!0,...o,children:m.jsx(ye.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":NZ(s.value)?"":void 0,...i,ref:l,onClick:xe(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&p(g)}),onPointerDown:xe(i.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(p(g),g.preventDefault())}),onKeyDown:xe(i.onKeyDown,g=>{const y=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&eGe.includes(g.key)&&(p(),g.preventDefault())})})})});sZ.displayName=oZ;var aZ="SelectValue",lZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=Wl(aZ,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,d=Re(e,l.onValueNodeChange);return Lt(()=>{c(u)},[c,u]),m.jsx(ye.span,{...a,ref:d,style:{pointerEvents:"none"},children:NZ(l.value)?m.jsx(m.Fragment,{children:s}):o})});lZ.displayName=aZ;var sGe="SelectIcon",cZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.jsx(ye.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});cZ.displayName=sGe;var aGe="SelectPortal",uZ=t=>m.jsx(Yg,{asChild:!0,...t});uZ.displayName=aGe;var vu="SelectContent",dZ=w.forwardRef((t,e)=>{const n=Wl(vu,t.__scopeSelect),[r,i]=w.useState();if(Lt(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Zs.createPortal(m.jsx(fZ,{scope:t.__scopeSelect,children:m.jsx(YS.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),o):null}return m.jsx(hZ,{...t,ref:e})});dZ.displayName=vu;var Ui=10,[fZ,Hl]=Eh(vu),lGe="SelectContentImpl",cGe=Zc("SelectContent.RemoveScroll"),hZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:y,...v}=t,b=Wl(vu,n),[x,C]=w.useState(null),[S,k]=w.useState(null),E=Re(e,ae=>C(ae)),[A,O]=w.useState(null),[P,T]=w.useState(null),N=XS(n),[$,_]=w.useState(!1),I=w.useRef(!1);w.useEffect(()=>{if(x)return j_(x)},[x]),rZ();const R=w.useCallback(ae=>{const[Ae,...q]=N().map(z=>z.ref.current),[re]=q.slice(-1),le=document.activeElement;for(const z of ae)if(z===le||(z==null||z.scrollIntoView({block:"nearest"}),z===Ae&&S&&(S.scrollTop=0),z===re&&S&&(S.scrollTop=S.scrollHeight),z==null||z.focus(),document.activeElement!==le))return},[N,S]),F=w.useCallback(()=>R([A,x]),[R,A,x]);w.useEffect(()=>{$&&F()},[$,F]);const{onOpenChange:j,triggerPointerDownPosRef:L}=b;w.useEffect(()=>{if(x){let ae={x:0,y:0};const Ae=re=>{var le,z;ae={x:Math.abs(Math.round(re.pageX)-(((le=L.current)==null?void 0:le.x)??0)),y:Math.abs(Math.round(re.pageY)-(((z=L.current)==null?void 0:z.y)??0))}},q=re=>{ae.x<=10&&ae.y<=10?re.preventDefault():x.contains(re.target)||j(!1),document.removeEventListener("pointermove",Ae),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",q,{capture:!0})}}},[x,j,L]),w.useEffect(()=>{const ae=()=>j(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[j]);const[V,U]=PZ(ae=>{const Ae=N().filter(le=>!le.disabled),q=Ae.find(le=>le.ref.current===document.activeElement),re=MZ(Ae,ae,q);re&&setTimeout(()=>re.ref.current.focus())}),G=w.useCallback((ae,Ae,q)=>{const re=!I.current&&!q;(b.value!==void 0&&b.value===Ae||re)&&(O(ae),re&&(I.current=!0))},[b.value]),ie=w.useCallback(()=>x==null?void 0:x.focus(),[x]),Ce=w.useCallback((ae,Ae,q)=>{const re=!I.current&&!q;(b.value!==void 0&&b.value===Ae||re)&&T(ae)},[b.value]),Fe=r==="popper"?IN:pZ,Be=Fe===IN?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:y}:{};return m.jsx(fZ,{scope:n,content:x,viewport:S,onViewportChange:k,itemRefCallback:G,selectedItem:A,onItemLeave:ie,itemTextRefCallback:Ce,focusSelectedItem:F,selectedItemText:P,position:r,isPositioned:$,searchRef:V,children:m.jsx($_,{as:cGe,allowPinchZoom:!0,children:m.jsx(vS,{asChild:!0,trapped:b.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:xe(i,ae=>{var Ae;(Ae=b.trigger)==null||Ae.focus({preventScroll:!0}),ae.preventDefault()}),children:m.jsx(qg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:m.jsx(Fe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ae=>ae.preventDefault(),...v,...Be,onPlaced:()=>_(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:xe(v.onKeyDown,ae=>{const Ae=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Ae&&ae.key.length===1&&U(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let re=N().filter(le=>!le.disabled).map(le=>le.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const le=ae.target,z=re.indexOf(le);re=re.slice(z+1)}setTimeout(()=>R(re)),ae.preventDefault()}})})})})})})});hZ.displayName=lGe;var uGe="SelectItemAlignedPosition",pZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Wl(vu,n),s=Hl(vu,n),[a,l]=w.useState(null),[c,u]=w.useState(null),d=Re(e,E=>u(E)),f=XS(n),h=w.useRef(!1),p=w.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:b}=s,x=w.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&y&&v){const E=o.trigger.getBoundingClientRect(),A=c.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(o.dir!=="rtl"){const le=P.left-A.left,z=O.left-le,Oe=E.left-z,Te=E.width+Oe,ot=Math.max(Te,A.width),ct=window.innerWidth-Ui,jt=Ow(z,[Ui,Math.max(Ui,ct-ot)]);a.style.minWidth=Te+"px",a.style.left=jt+"px"}else{const le=A.right-P.right,z=window.innerWidth-O.right-le,Oe=window.innerWidth-E.right-z,Te=E.width+Oe,ot=Math.max(Te,A.width),ct=window.innerWidth-Ui,jt=Ow(z,[Ui,Math.max(Ui,ct-ot)]);a.style.minWidth=Te+"px",a.style.right=jt+"px"}const T=f(),N=window.innerHeight-Ui*2,$=g.scrollHeight,_=window.getComputedStyle(c),I=parseInt(_.borderTopWidth,10),R=parseInt(_.paddingTop,10),F=parseInt(_.borderBottomWidth,10),j=parseInt(_.paddingBottom,10),L=I+R+$+j+F,V=Math.min(y.offsetHeight*5,L),U=window.getComputedStyle(g),G=parseInt(U.paddingTop,10),ie=parseInt(U.paddingBottom,10),Ce=E.top+E.height/2-Ui,Fe=N-Ce,Be=y.offsetHeight/2,ae=y.offsetTop+Be,Ae=I+R+ae,q=L-Ae;if(Ae<=Ce){const le=T.length>0&&y===T[T.length-1].ref.current;a.style.bottom="0px";const z=c.clientHeight-g.offsetTop-g.offsetHeight,Oe=Math.max(Fe,Be+(le?ie:0)+z+F),Te=Ae+Oe;a.style.height=Te+"px"}else{const le=T.length>0&&y===T[0].ref.current;a.style.top="0px";const Oe=Math.max(Ce,I+g.offsetTop+(le?G:0)+Be)+q;a.style.height=Oe+"px",g.scrollTop=Ae-Ce+g.offsetTop}a.style.margin=`${Ui}px 0`,a.style.minHeight=V+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[f,o.trigger,o.valueNode,a,c,g,y,v,o.dir,r]);Lt(()=>x(),[x]);const[C,S]=w.useState();Lt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const k=w.useCallback(E=>{E&&p.current===!0&&(x(),b==null||b(),p.current=!1)},[x,b]);return m.jsx(fGe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:k,children:m.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:m.jsx(ye.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});pZ.displayName=uGe;var dGe="SelectPopperPosition",IN=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ui,...o}=t,s=JS(n);return m.jsx(eU,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});IN.displayName=dGe;var[fGe,Zj]=Eh(vu,{}),RN="SelectViewport",mZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Hl(RN,n),s=Zj(RN,n),a=Re(e,o.onViewportChange),l=w.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(YS.Slot,{scope:n,children:m.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:xe(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=s;if(f!=null&&f.current&&d){const h=Math.abs(l.current-u.scrollTop);if(h>0){const p=window.innerHeight-Ui*2,g=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),v=Math.max(g,y);if(v<p){const b=v+h,x=Math.min(p,b),C=b-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});mZ.displayName=RN;var gZ="SelectGroup",[hGe,pGe]=Eh(gZ),mGe=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ao();return m.jsx(hGe,{scope:n,id:i,children:m.jsx(ye.div,{role:"group","aria-labelledby":i,...r,ref:e})})});mGe.displayName=gZ;var yZ="SelectLabel",vZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=pGe(yZ,n);return m.jsx(ye.div,{id:i.id,...r,ref:e})});vZ.displayName=yZ;var Tw="SelectItem",[gGe,bZ]=Eh(Tw),xZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Wl(Tw,n),l=Hl(Tw,n),c=a.value===r,[u,d]=w.useState(o??""),[f,h]=w.useState(!1),p=Re(e,b=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,b,r,i)}),g=ao(),y=w.useRef("touch"),v=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(gGe,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:w.useCallback(b=>{d(x=>x||((b==null?void 0:b.textContent)??"").trim())},[]),children:m.jsx(YS.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:m.jsx(ye.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:p,onFocus:xe(s.onFocus,()=>h(!0)),onBlur:xe(s.onBlur,()=>h(!1)),onClick:xe(s.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:xe(s.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:xe(s.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:xe(s.onPointerMove,b=>{var x;y.current=b.pointerType,i?(x=l.onItemLeave)==null||x.call(l):y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(s.onPointerLeave,b=>{var x;b.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:xe(s.onKeyDown,b=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&b.key===" "||(tGe.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});xZ.displayName=Tw;var kp="SelectItemText",wZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Wl(kp,n),a=Hl(kp,n),l=bZ(kp,n),c=oGe(kp,n),[u,d]=w.useState(null),f=Re(e,v=>d(v),l.onItemTextChange,v=>{var b;return(b=a.itemTextRefCallback)==null?void 0:b.call(a,v,l.value,l.disabled)}),h=u==null?void 0:u.textContent,p=w.useMemo(()=>m.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=c;return Lt(()=>(g(p),()=>y(p)),[g,y,p]),m.jsxs(m.Fragment,{children:[m.jsx(ye.span,{id:l.textId,...o,ref:f}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Zs.createPortal(o.children,s.valueNode):null]})});wZ.displayName=kp;var SZ="SelectItemIndicator",CZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return bZ(SZ,n).isSelected?m.jsx(ye.span,{"aria-hidden":!0,...r,ref:e}):null});CZ.displayName=SZ;var DN="SelectScrollUpButton",kZ=w.forwardRef((t,e)=>{const n=Hl(DN,t.__scopeSelect),r=Zj(DN,t.__scopeSelect),[i,o]=w.useState(!1),s=Re(e,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(AZ,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});kZ.displayName=DN;var LN="SelectScrollDownButton",EZ=w.forwardRef((t,e)=>{const n=Hl(LN,t.__scopeSelect),r=Zj(LN,t.__scopeSelect),[i,o]=w.useState(!1),s=Re(e,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(AZ,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});EZ.displayName=LN;var AZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Hl("SelectScrollButton",n),s=w.useRef(null),a=XS(n),l=w.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return w.useEffect(()=>()=>l(),[l]),Lt(()=>{var u;const c=a().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),m.jsx(ye.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:xe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:xe(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:xe(i.onPointerLeave,()=>{l()})})}),yGe="SelectSeparator",OZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx(ye.div,{"aria-hidden":!0,...r,ref:e})});OZ.displayName=yGe;var FN="SelectArrow",vGe=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=JS(n),o=Wl(FN,n),s=Hl(FN,n);return o.open&&s.position==="popper"?m.jsx(tU,{...i,...r,ref:e}):null});vGe.displayName=FN;var bGe="SelectBubbleInput",TZ=w.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=w.useRef(null),o=Re(r,i),s=Y_(e);return w.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&u){const d=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[s,e]),m.jsx(ye.select,{...n,style:{...kW,...n.style},ref:o,defaultValue:e})});TZ.displayName=bGe;function NZ(t){return t===""||t===void 0}function PZ(t){const e=Sn(t),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function MZ(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=xGe(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function xGe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var wGe=iZ,_Z=sZ,SGe=lZ,CGe=cZ,kGe=uZ,jZ=dZ,EGe=mZ,$Z=vZ,IZ=xZ,AGe=wZ,OGe=CZ,RZ=kZ,DZ=EZ,LZ=OZ;const _s=wGe,js=SGe,Fo=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(_Z,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(CGe,{asChild:!0,children:m.jsx(GW,{className:"h-4 w-4 opacity-50"})})]}));Fo.displayName=_Z.displayName;const FZ=w.forwardRef(({className:t,...e},n)=>m.jsx(RZ,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(toe,{className:"h-4 w-4"})}));FZ.displayName=RZ.displayName;const BZ=w.forwardRef(({className:t,...e},n)=>m.jsx(DZ,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(GW,{className:"h-4 w-4"})}));BZ.displayName=DZ.displayName;const Bo=w.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>m.jsx(kGe,{children:m.jsxs(jZ,{ref:i,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(FZ,{}),m.jsx(EGe,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(BZ,{})]})}));Bo.displayName=jZ.displayName;const TGe=w.forwardRef(({className:t,...e},n)=>m.jsx($Z,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));TGe.displayName=$Z.displayName;const $t=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(IZ,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(OGe,{children:m.jsx(tM,{className:"h-4 w-4"})})}),m.jsx(AGe,{children:e})]}));$t.displayName=IZ.displayName;const NGe=w.forwardRef(({className:t,...e},n)=>m.jsx(LZ,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));NGe.displayName=LZ.displayName;function PGe(t){return typeof t=="string"?t:Array.isArray(t)?t.map(e=>{const n=e.props||{};switch(e.type){case"text":const r=String(n.content||"").replace(/\n/g,"<br>");return`
          <p style="text-align: ${n.align}; line-height: 1.5; margin-bottom: 10px;">
            <span style="font-family: sans-serif; font-size: ${n.fontSize}px; color: ${n.color};">
              ${r}
            </span>
          </p>`;case"image":return`
          <p style="text-align: center;">
            <img src="${n.src}" alt="${n.alt}" style="width: ${n.width}; max-width: 100%; height: auto; border-radius: 4px; display: inline-block;" />
          </p>`;case"button":return`
          <p style="text-align: ${n.align};">
            <a href="${n.url}" style="background-color: ${n.bgColor}; color: ${n.textColor}; border-radius: ${n.borderRadius}px; padding: 12px 24px; display: inline-block; text-decoration: none; font-family: sans-serif; font-weight: bold; font-size: 16px;">
              ${n.text}
            </a>
          </p>`;case"divider":return`
          <div style="margin: ${n.margin}px 0;">
            <hr style="border: 0; border-top: ${n.height}px solid ${n.color};" />
          </div>`;case"spacer":return`<div style="height: ${n.height}px; line-height: ${n.height}px; font-size: 0;">&nbsp;</div>`;case"html":return`<div>${n.code}</div>`;case"video":return`
          <p style="text-align: center;">
            <a href="${n.url}" target="_blank" style="display: inline-block; text-decoration: none; max-width: 100%;">
              <span style="background-color: #000; color: #fff; width: 480px; max-width: 100%; height: 270px; display: flex; align-items: center; justify-content: center; border-radius: 8px; position: relative; margin: 0 auto;">
                <span style="font-size: 32px; z-index: 10;"></span>
                <span style="position: absolute; bottom: 10px; left: 0; right: 0; text-align: center; font-size: 14px; font-family: sans-serif; color: #ddd;">
                  ${n.thumbnailText||"Assista ao vdeo"}
                </span>
              </span>
            </a>
          </p>`;case"social":{const i=n.networks||[],o=Number(n.iconSize)||28,s=String(n.color||"#333333"),a=n.links||{},l={facebook:"f",instagram:"In",twitter:"X",linkedin:"in",youtube:"YT",tiktok:"Tk"};return`
          <p style="text-align: ${n.align}; margin: 0;">
            ${i.map(c=>{const u=a[c]||"#",d=l[c]||c[0].toUpperCase();return`
                <a href="${u}" target="_blank" style="display: inline-block; margin: 0 5px; text-decoration: none;">
                  <span style="display: inline-block; width: ${o}px; height: ${o}px; line-height: ${o}px; background-color: ${s}; color: #ffffff; border-radius: 50%; text-align: center; font-family: sans-serif; font-weight: bold; font-size: ${Math.round(o*.45)}px;">
                    ${d}
                  </span>
                </a>
              `}).join("")}
          </p>`}case"columns":{const i=Number(n.columns)||2,o=Number(n.gap)||10;return`
          <table width="100%" cellpadding="0" cellspacing="0" style="table-layout: fixed; width: 100%;">
            <tr>
              ${Array.from({length:i}).map(()=>`
                <td style="vertical-align: top; padding: 0 ${o/2}px;">
                  <div style="background-color: #f9f9f9; padding: 20px; border: 1px dashed #ccc; text-align: center; color: #999; font-family: sans-serif; border-radius: 4px;">
                    Coluna
                  </div>
                </td>
              `).join("")}
            </tr>
          </table>`}case"feed":{const i=Number(n.items)||3;return(n.layout||"vertical")==="grid"?`
            <table width="100%" cellpadding="0" cellspacing="0">
              <tr>
                ${Array.from({length:i}).map(()=>`
                  <td style="padding: 5px; width: ${100/i}%;">
                    <div style="background: #f5f5f5; height: 120px; border-radius: 4px; border: 1px solid #eee;"></div>
                  </td>
                `).join("")}
              </tr>
            </table>`:`
          <div style="font-family: sans-serif;">
            ${Array.from({length:i}).map(()=>`
              <div style="display: flex; gap: 15px; margin-bottom: 15px; border: 1px solid #eee; padding: 10px; border-radius: 8px;">
                <div style="width: 80px; height: 80px; background: #eee; border-radius: 4px; flex-shrink: 0;"></div>
                <div style="flex: 1;">
                  <div style="height: 16px; background: #eee; width: 80%; margin-bottom: 8px; border-radius: 2px;"></div>
                  <div style="height: 12px; background: #f5f5f5; width: 100%; border-radius: 2px;"></div>
                </div>
              </div>
            `).join("")}
          </div>`}default:return""}}).join(""):""}const MGe=kq({name:fr().min(1,"O nome  obrigatrio"),subject:fr().min(1,"O assunto  obrigatrio"),preheader:fr().optional(),from_name:fr().optional(),from_email:fr().email("Email invlido").optional().or(NBe("")),status:PT(["draft","scheduled","sending","sent"]),channel:PT(["email","sms","whatsapp","gocontact"]),segment_id:fr().optional(),filter_source:fr().optional(),filter_tag:fr().optional(),content:fr().optional(),track_opens:Ku().default(!0),track_clicks:Ku().default(!0),track_replies:Ku().default(!1),use_google_analytics:Ku().default(!1),is_public:Ku().default(!0),physical_address:fr().optional(),translate_to_contact_lang:Ku().default(!1),scheduled_at:fr().optional()});function zZ({initialData:t,onSubmit:e,isLoading:n,segments:r=[],templates:i=[]}){const o=vq({resolver:xq(MGe),defaultValues:{name:(t==null?void 0:t.name)||"",subject:(t==null?void 0:t.subject)||"",preheader:(t==null?void 0:t.preheader)||"",from_name:(t==null?void 0:t.fromName)||"",from_email:(t==null?void 0:t.fromEmail)||"",status:(t==null?void 0:t.status)||"draft",channel:(t==null?void 0:t.channel)||"email",segment_id:(t==null?void 0:t.segment_id)||(t==null?void 0:t.listId)||"",filter_source:"",filter_tag:"",content:(t==null?void 0:t.content)||"",track_opens:(t==null?void 0:t.trackOpens)??!0,track_clicks:(t==null?void 0:t.trackClicks)??!0,track_replies:(t==null?void 0:t.trackReplies)??!1,use_google_analytics:(t==null?void 0:t.useGoogleAnalytics)??!1,is_public:(t==null?void 0:t.isPublic)??!0,physical_address:(t==null?void 0:t.physicalAddress)||"",translate_to_contact_lang:!1}}),a=o.watch("segment_id")==="custom",l=u=>{const d=i.find(f=>f.id===u);if(d){const f=PGe(d.content);o.setValue("content",f)}},c=u=>{const d={...u};u.segment_id==="custom"&&(d.segment_id=null,d.filters=[],u.filter_source&&d.filters.push({field:"source",op:"eq",value:u.filter_source}),u.filter_tag&&d.filters.push({field:"tags",op:"contains",value:u.filter_tag}),delete d.filter_source,delete d.filter_tag),e(d)};return m.jsxs("form",{onSubmit:o.handleSubmit(c),className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[m.jsxs("div",{className:"p-5 border rounded-lg bg-card shadow-sm space-y-4",children:[m.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Cabealho do E-mail"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"name",children:"Nome da Campanha (Interno)"}),m.jsx(nt,{id:"name",...o.register("name"),placeholder:"ex: Saldos de Vero 2024"}),o.formState.errors.name&&m.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"subject",children:"Linha de Assunto"}),m.jsx(nt,{id:"subject",...o.register("subject"),placeholder:"ex: No perca estas ofertas!"}),o.formState.errors.subject&&m.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.subject.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"preheader",children:"Pr Cabealho"}),m.jsx(nt,{id:"preheader",...o.register("preheader"),placeholder:"Texto exibido aps o assunto (opcional)"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Se deixado em branco, ser apresentada a primeira linha do seu e-mail."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"from_name",children:"De nome"}),m.jsx(nt,{id:"from_name",...o.register("from_name"),placeholder:"ex: Minha Empresa"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"from_email",children:"Do e-mail"}),m.jsx(nt,{id:"from_email",...o.register("from_email"),placeholder:"ex: newsletter@empresa.com"})]})]})]}),m.jsxs("div",{className:"p-5 border rounded-lg bg-card shadow-sm space-y-4",children:[m.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Contedo"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx(vt,{htmlFor:"content",children:"Corpo do E-mail"}),m.jsx("div",{className:"w-64",children:m.jsxs(_s,{onValueChange:l,children:[m.jsx(Fo,{children:m.jsx(js,{placeholder:"Carregar modelo..."})}),m.jsx(Bo,{children:i.map(u=>m.jsx($t,{value:u.id,children:u.name},u.id))})]})})]}),m.jsx("div",{className:"min-h-[350px]",children:m.jsx(QKe,{value:o.watch("content")||"",onChange:u=>o.setValue("content",u),placeholder:"Escreva o contedo do seu e-mail aqui. Use 'Variveis' para personalizar com o nome do cliente."})}),o.formState.errors.content&&m.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.content.message})]}),m.jsxs("div",{className:"flex items-start space-x-2 pt-4 border-t",children:[m.jsx(Ss,{id:"translate",checked:o.watch("translate_to_contact_lang"),onCheckedChange:u=>o.setValue("translate_to_contact_lang",u)}),m.jsxs("div",{className:"grid gap-1.5 leading-none",children:[m.jsx(vt,{htmlFor:"translate",className:"cursor-pointer font-medium",children:"Traduzir para o idioma do contacto"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Esta funcionalidade deteta o idioma do contacto e traduz o e-mail."})]})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"p-5 border rounded-lg bg-card shadow-sm space-y-4",children:[m.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Publicao"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"status",children:"Estado"}),m.jsxs(_s,{defaultValue:o.getValues("status"),onValueChange:u=>o.setValue("status",u),children:[m.jsx(Fo,{children:m.jsx(js,{placeholder:"Selecionar estado"})}),m.jsxs(Bo,{children:[m.jsx($t,{value:"draft",children:"Rascunho"}),m.jsx($t,{value:"scheduled",children:"Agendada"}),m.jsx($t,{value:"sending",children:"A enviar"}),m.jsx($t,{value:"sent",children:"Enviada"})]})]})]}),o.watch("status")==="scheduled"&&m.jsxs("div",{className:"space-y-2 p-3 bg-muted/30 rounded border",children:[m.jsx(vt,{htmlFor:"scheduled_at",children:"Agendar Envio"}),m.jsx(nt,{id:"scheduled_at",type:"datetime-local",...o.register("scheduled_at")})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"channel",children:"Canal"}),m.jsxs(_s,{defaultValue:o.getValues("channel"),onValueChange:u=>o.setValue("channel",u),children:[m.jsx(Fo,{children:m.jsx(js,{placeholder:"Canal"})}),m.jsxs(Bo,{children:[m.jsx($t,{value:"email",children:"Email"}),m.jsx($t,{value:"sms",children:"SMS"}),m.jsx($t,{value:"whatsapp",children:"WhatsApp"}),m.jsx($t,{value:"gocontact",children:"GoContact"})]})]})]}),m.jsxs(Ge,{type:"submit",disabled:n,className:"w-full",children:[n&&m.jsx(a1,{className:"mr-2 w-4 h-4 animate-spin"}),t?"Atualizar Campanha":"Criar Campanha"]})]}),m.jsxs("div",{className:"p-5 border rounded-lg bg-card shadow-sm space-y-4",children:[m.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Destinatrios"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"segment_id",children:"Lista / Segmento"}),m.jsxs(_s,{defaultValue:o.getValues("segment_id"),onValueChange:u=>o.setValue("segment_id",u),children:[m.jsx(Fo,{children:m.jsx(js,{placeholder:"Selecionar destinatrios"})}),m.jsxs(Bo,{children:[m.jsx($t,{value:"custom",className:"font-semibold text-primary",children:"+ Segmentar Agora (Origem/Tag)"}),r.map(u=>m.jsx($t,{value:u.id,children:u.name},u.id))]})]})]}),a&&m.jsxs("div",{className:"space-y-3 p-3 bg-muted/30 rounded border",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx(vt,{htmlFor:"filter_source",className:"text-xs",children:"Origem"}),m.jsx(nt,{id:"filter_source",...o.register("filter_source"),className:"h-8",placeholder:"ex: MyFormula"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx(vt,{htmlFor:"filter_tag",className:"text-xs",children:"Tag"}),m.jsx(nt,{id:"filter_tag",...o.register("filter_tag"),className:"h-8",placeholder:"ex: VIP"})]})]}),m.jsxs("div",{className:"pt-2 flex justify-between items-center text-sm text-muted-foreground",children:[m.jsx("span",{children:"Total estimado:"}),m.jsx("span",{className:"font-mono font-bold",children:"--"})]})]}),m.jsxs("div",{className:"p-5 border rounded-lg bg-card shadow-sm space-y-4",children:[m.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Acompanhamento"}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Ss,{id:"track_opens",checked:o.watch("track_opens"),onCheckedChange:u=>o.setValue("track_opens",u)}),m.jsx(vt,{htmlFor:"track_opens",className:"cursor-pointer",children:"Abrir/Ler acompanhamento"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Ss,{id:"track_clicks",checked:o.watch("track_clicks"),onCheckedChange:u=>o.setValue("track_clicks",u)}),m.jsx(vt,{htmlFor:"track_clicks",className:"cursor-pointer",children:"Acompanhamento de hiperligaes"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Ss,{id:"track_replies",checked:o.watch("track_replies"),onCheckedChange:u=>o.setValue("track_replies",u)}),m.jsx(vt,{htmlFor:"track_replies",className:"cursor-pointer",children:"Acompanhamento de respostas"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Ss,{id:"use_google_analytics",checked:o.watch("use_google_analytics"),onCheckedChange:u=>o.setValue("use_google_analytics",u)}),m.jsx(vt,{htmlFor:"use_google_analytics",className:"cursor-pointer",children:"Google Analytics"})]})]}),m.jsxs("div",{className:"p-5 border rounded-lg bg-card shadow-sm space-y-4",children:[m.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Rodap & Legal"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"physical_address",children:"Morada Fsica"}),m.jsx(nt,{id:"physical_address",...o.register("physical_address"),placeholder:"Endereo para o rodap"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(Ss,{id:"is_public",checked:o.watch("is_public"),onCheckedChange:u=>o.setValue("is_public",u)}),m.jsx(vt,{htmlFor:"is_public",className:"cursor-pointer",children:"Arquivo Pblico"})]})]})]})]})}function _Ge(){const t=di(),{toast:e}=mo(),[n,r]=w.useState(!1),[i,o]=w.useState([]),[s,a]=w.useState([]);w.useEffect(()=>{NU().then(c=>o(c.data)),SM().then(c=>a(c.data))},[]);const l=async c=>{r(!0);try{await wue(c),e({title:"Sucesso",description:"Campanha criada com sucesso"}),t("/campaigns")}catch{e({title:"Erro",description:"Falha ao criar campanha",variant:"destructive"})}finally{r(!1)}};return m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>t("/campaigns"),children:m.jsx(s1,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"page-title",children:"Nova Campanha"}),m.jsx("p",{className:"page-subtitle",children:"Criar uma nova campanha de e-mail"})]})]}),m.jsx("div",{className:"glass-card p-6 w-full",children:m.jsx(zZ,{onSubmit:l,isLoading:n,segments:i,templates:s})})]})}function jGe(){const{id:t}=sh(),e=di(),{toast:n}=mo(),[r,i]=w.useState(!1),[o,s]=w.useState(null),[a,l]=w.useState([]),[c,u]=w.useState([]);w.useEffect(()=>{t&&TU(t).then(f=>s(f.data)),NU().then(f=>l(f.data)),SM().then(f=>u(f.data))},[t]);const d=async f=>{if(t){i(!0);try{await Sue(t,f),n({title:"Sucesso",description:"Campanha atualizada com sucesso"}),e("/campaigns")}catch{n({title:"Erro",description:"Falha ao atualizar campanha",variant:"destructive"})}finally{i(!1)}}};return o?m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>e("/campaigns"),children:m.jsx(s1,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"page-title",children:"Editar Campanha"}),m.jsx("p",{className:"page-subtitle",children:"Atualizar detalhes da campanha"})]})]}),m.jsx("div",{className:"glass-card p-6 w-full",children:m.jsx(zZ,{initialData:o,onSubmit:d,isLoading:r,segments:a,templates:c})})]}):m.jsx("div",{children:"Loading..."})}var xE="rovingFocusGroup.onEntryFocus",$Ge={bubbles:!1,cancelable:!0},Cy="RovingFocusGroup",[BN,VZ,IGe]=Qf(Cy),[RGe,WZ]=Or(Cy,[IGe]),[DGe,LGe]=RGe(Cy),HZ=w.forwardRef((t,e)=>m.jsx(BN.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(BN.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(FGe,{...t,ref:e})})}));HZ.displayName=Cy;var FGe=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=w.useRef(null),h=Re(e,f),p=wh(o),[g,y]=qo({prop:s,defaultProp:a??null,onChange:l,caller:Cy}),[v,b]=w.useState(!1),x=Sn(c),C=VZ(n),S=w.useRef(!1),[k,E]=w.useState(0);return w.useEffect(()=>{const A=f.current;if(A)return A.addEventListener(xE,x),()=>A.removeEventListener(xE,x)},[x]),m.jsx(DGe,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:g,onItemFocus:w.useCallback(A=>y(A),[y]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>E(A=>A+1),[]),onFocusableItemRemove:w.useCallback(()=>E(A=>A-1),[]),children:m.jsx(ye.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:xe(t.onMouseDown,()=>{S.current=!0}),onFocus:xe(t.onFocus,A=>{const O=!S.current;if(A.target===A.currentTarget&&O&&!v){const P=new CustomEvent(xE,$Ge);if(A.currentTarget.dispatchEvent(P),!P.defaultPrevented){const T=C().filter(R=>R.focusable),N=T.find(R=>R.active),$=T.find(R=>R.id===g),I=[N,$,...T].filter(Boolean).map(R=>R.ref.current);GZ(I,u)}}S.current=!1}),onBlur:xe(t.onBlur,()=>b(!1))})})}),UZ="RovingFocusGroupItem",KZ=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:s,...a}=t,l=ao(),c=o||l,u=LGe(UZ,n),d=u.currentTabStopId===c,f=VZ(n),{onFocusableItemAdd:h,onFocusableItemRemove:p,currentTabStopId:g}=u;return w.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),m.jsx(BN.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:m.jsx(ye.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:xe(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:xe(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:xe(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=VGe(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=f().filter(C=>C.focusable).map(C=>C.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const C=x.indexOf(y.currentTarget);x=u.loop?WGe(x,C+1):x.slice(C+1)}setTimeout(()=>GZ(x))}}),children:typeof s=="function"?s({isCurrentTabStop:d,hasTabStop:g!=null}):s})})});KZ.displayName=UZ;var BGe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zGe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function VGe(t,e,n){const r=zGe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return BGe[r]}function GZ(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function WGe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HGe=HZ,UGe=KZ,ZS="Tabs",[KGe,int]=Or(ZS,[WZ]),qZ=WZ(),[GGe,Qj]=KGe(ZS),YZ=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=t,u=wh(a),[d,f]=qo({prop:r,onChange:i,defaultProp:o??"",caller:ZS});return m.jsx(GGe,{scope:n,baseId:ao(),value:d,onValueChange:f,orientation:s,dir:u,activationMode:l,children:m.jsx(ye.div,{dir:u,"data-orientation":s,...c,ref:e})})});YZ.displayName=ZS;var XZ="TabsList",JZ=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=Qj(XZ,n),s=qZ(n);return m.jsx(HGe,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:m.jsx(ye.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});JZ.displayName=XZ;var ZZ="TabsTrigger",QZ=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,s=Qj(ZZ,n),a=qZ(n),l=nQ(s.baseId,r),c=rQ(s.baseId,r),u=r===s.value;return m.jsx(UGe,{asChild:!0,...a,focusable:!i,active:u,children:m.jsx(ye.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:xe(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?s.onValueChange(r):d.preventDefault()}),onKeyDown:xe(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(r)}),onFocus:xe(t.onFocus,()=>{const d=s.activationMode!=="manual";!u&&!i&&d&&s.onValueChange(r)})})})});QZ.displayName=ZZ;var eQ="TabsContent",tQ=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=t,a=Qj(eQ,n),l=nQ(a.baseId,r),c=rQ(a.baseId,r),u=r===a.value,d=w.useRef(u);return w.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),m.jsx(jl,{present:i||u,children:({present:f})=>m.jsx(ye.div,{"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&o})})});tQ.displayName=eQ;function nQ(t,e){return`${t}-trigger-${e}`}function rQ(t,e){return`${t}-content-${e}`}var qGe=YZ,iQ=JZ,oQ=QZ,sQ=tQ;const YGe=qGe,aQ=w.forwardRef(({className:t,...e},n)=>m.jsx(iQ,{ref:n,className:ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));aQ.displayName=iQ.displayName;const Cb=w.forwardRef(({className:t,...e},n)=>m.jsx(oQ,{ref:n,className:ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Cb.displayName=oQ.displayName;const kb=w.forwardRef(({className:t,...e},n)=>m.jsx(sQ,{ref:n,className:ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));kb.displayName=sQ.displayName;const lQ=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:n,className:ce("w-full caption-bottom text-sm",t),...e})}));lQ.displayName="Table";const cQ=w.forwardRef(({className:t,...e},n)=>m.jsx("thead",{ref:n,className:ce("[&_tr]:border-b",t),...e}));cQ.displayName="TableHeader";const uQ=w.forwardRef(({className:t,...e},n)=>m.jsx("tbody",{ref:n,className:ce("[&_tr:last-child]:border-0",t),...e}));uQ.displayName="TableBody";const XGe=w.forwardRef(({className:t,...e},n)=>m.jsx("tfoot",{ref:n,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));XGe.displayName="TableFooter";const Ep=w.forwardRef(({className:t,...e},n)=>m.jsx("tr",{ref:n,className:ce("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Ep.displayName="TableRow";const Ap=w.forwardRef(({className:t,...e},n)=>m.jsx("th",{ref:n,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ap.displayName="TableHead";const ic=w.forwardRef(({className:t,...e},n)=>m.jsx("td",{ref:n,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ic.displayName="TableCell";const JGe=w.forwardRef(({className:t,...e},n)=>m.jsx("caption",{ref:n,className:ce("mt-4 text-sm text-muted-foreground",t),...e}));JGe.displayName="TableCaption";function ZGe(){const{id:t}=sh(),e=di(),[n,r]=w.useState(null),[i,o]=w.useState(!0),[s,a]=w.useState([]),[l,c]=w.useState(!1);w.useEffect(()=>{t&&u()},[t]);const u=()=>{o(!0),TU(t).then(f=>{r(f.data),o(!1)})},d=()=>{c(!0),xue(t).then(f=>{a(f.data.data),c(!1)})};return i?m.jsxs("div",{className:"space-y-6 animate-pulse",children:[m.jsx(Bt,{className:"h-8 w-1/3"}),m.jsx(Bt,{className:"h-64 w-full"})]}):n?m.jsxs("div",{className:"space-y-6 animate-slide-up w-full",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>e("/campaigns"),children:m.jsx(s1,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:n.name}),m.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium capitalize 
                ${n.status==="sent"?"bg-green-100 text-green-800":n.status==="sending"?"bg-blue-100 text-blue-800":n.status==="draft"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:n.status})]}),m.jsx("p",{className:"text-muted-foreground",children:n.subject})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ge,{variant:"outline",size:"sm",onClick:u,title:"Atualizar",children:m.jsx(koe,{className:"w-4 h-4"})}),m.jsxs(Ge,{onClick:()=>e(`/campaigns/${t}/edit`),className:"gap-2",children:[m.jsx(eH,{className:"w-4 h-4"})," Editar Campanha"]})]})]}),m.jsxs(YGe,{defaultValue:"overview",className:"space-y-4",onValueChange:f=>{f==="logs"&&s.length===0&&d()},children:[m.jsxs(aQ,{children:[m.jsx(Cb,{value:"overview",children:"Viso Geral"}),m.jsx(Cb,{value:"content",children:"Contedo & Config"}),m.jsx(Cb,{value:"logs",children:"Logs de Envio"})]}),m.jsxs(kb,{value:"overview",className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"stat-card p-4 border rounded-lg bg-card shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[m.jsx(c1,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium uppercase",children:"Enviada"})]}),m.jsx("div",{className:"text-2xl font-bold",children:n.sentCount})]}),m.jsxs("div",{className:"stat-card p-4 border rounded-lg bg-card shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[m.jsx(rM,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium uppercase",children:"Taxa de Abertura"})]}),m.jsxs("div",{className:"text-2xl font-bold",children:[n.openRate,"%"]})]}),m.jsxs("div",{className:"stat-card p-4 border rounded-lg bg-card shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[m.jsx(l1,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium uppercase",children:"Taxa de Cliques"})]}),m.jsxs("div",{className:"text-2xl font-bold",children:[n.clickRate,"%"]})]}),m.jsxs("div",{className:"stat-card p-4 border rounded-lg bg-card shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[m.jsx(nH,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium uppercase",children:"Taxa de Rejeio"})]}),m.jsxs("div",{className:"text-2xl font-bold",children:[n.bounceRate,"%"]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:m.jsxs("div",{className:"p-6 border rounded-lg bg-card shadow-sm",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Detalhes da Campanha"}),m.jsxs("dl",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between py-1 border-b",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Assunto:"}),m.jsx("dd",{className:"font-medium",children:n.subject})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Remetente:"}),m.jsxs("dd",{className:"font-medium",children:[n.fromName," <",n.fromEmail,">"]})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Lista:"}),m.jsx("dd",{className:"font-medium",children:n.listName})]}),m.jsxs("div",{className:"flex justify-between py-1 border-b",children:[m.jsx("dt",{className:"text-muted-foreground",children:"Criado em:"}),m.jsx("dd",{className:"font-medium",children:new Date(n.createdAt).toLocaleDateString()})]})]})]})})]}),m.jsx(kb,{value:"content",children:m.jsxs("div",{className:"glass-card p-6 border rounded-lg bg-card shadow-sm",children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pr-visualizao do Contedo"}),m.jsx("div",{className:"prose max-w-none dark:prose-invert bg-white dark:bg-gray-900 p-4 rounded-md border min-h-[300px]",children:n.content||"Contedo indisponvel"})]})}),m.jsx(kb,{value:"logs",children:m.jsx("div",{className:"rounded-md border bg-card shadow-sm",children:m.jsxs(lQ,{children:[m.jsx(cQ,{children:m.jsxs(Ep,{children:[m.jsx(Ap,{children:"Email"}),m.jsx(Ap,{children:"Status"}),m.jsx(Ap,{children:"Enviado em"}),m.jsx(Ap,{children:"Aberto em"})]})}),m.jsx(uQ,{children:l?m.jsx(Ep,{children:m.jsx(ic,{colSpan:4,className:"text-center py-8",children:"Carregando logs..."})}):s.length===0?m.jsx(Ep,{children:m.jsx(ic,{colSpan:4,className:"text-center py-8 text-muted-foreground",children:"Nenhum registro de envio encontrado."})}):s.map(f=>{var h;return m.jsxs(Ep,{children:[m.jsx(ic,{children:((h=f.contact)==null?void 0:h.email)||"N/A"}),m.jsx(ic,{children:m.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium capitalize
                          ${f.status==="opened"?"bg-green-100 text-green-800":f.status==="bounced"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:f.status})}),m.jsx(ic,{children:f.sent_at?new Date(f.sent_at).toLocaleString():"-"}),m.jsx(ic,{children:f.opened_at?new Date(f.opened_at).toLocaleString():"-"})]},f.id)})})]})})})]})]}):m.jsx("div",{children:"Campanha no encontrada"})}var QS="Dialog",[dQ,ont]=Or(QS),[QGe,bo]=dQ(QS),fQ=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=w.useRef(null),l=w.useRef(null),[c,u]=qo({prop:r,defaultProp:i??!1,onChange:o,caller:QS});return m.jsx(QGe,{scope:e,triggerRef:a,contentRef:l,contentId:ao(),titleId:ao(),descriptionId:ao(),open:c,onOpenChange:u,onOpenToggle:w.useCallback(()=>u(d=>!d),[u]),modal:s,children:n})};fQ.displayName=QS;var hQ="DialogTrigger",eqe=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bo(hQ,n),o=Re(e,i.triggerRef);return m.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":n$(i.open),...r,ref:o,onClick:xe(t.onClick,i.onOpenToggle)})});eqe.displayName=hQ;var e$="DialogPortal",[tqe,pQ]=dQ(e$,{forceMount:void 0}),mQ=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=bo(e$,e);return m.jsx(tqe,{scope:e,forceMount:n,children:w.Children.map(r,s=>m.jsx(jl,{present:n||o.open,children:m.jsx(Yg,{asChild:!0,container:i,children:s})}))})};mQ.displayName=e$;var Nw="DialogOverlay",gQ=w.forwardRef((t,e)=>{const n=pQ(Nw,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=bo(Nw,t.__scopeDialog);return o.modal?m.jsx(jl,{present:r||o.open,children:m.jsx(rqe,{...i,ref:e})}):null});gQ.displayName=Nw;var nqe=Zc("DialogOverlay.RemoveScroll"),rqe=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bo(Nw,n);return m.jsx($_,{as:nqe,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(ye.div,{"data-state":n$(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),bu="DialogContent",yQ=w.forwardRef((t,e)=>{const n=pQ(bu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=bo(bu,t.__scopeDialog);return m.jsx(jl,{present:r||o.open,children:o.modal?m.jsx(iqe,{...i,ref:e}):m.jsx(oqe,{...i,ref:e})})});yQ.displayName=bu;var iqe=w.forwardRef((t,e)=>{const n=bo(bu,t.__scopeDialog),r=w.useRef(null),i=Re(e,n.contentRef,r);return w.useEffect(()=>{const o=r.current;if(o)return j_(o)},[]),m.jsx(vQ,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:xe(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:xe(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:xe(t.onFocusOutside,o=>o.preventDefault())})}),oqe=w.forwardRef((t,e)=>{const n=bo(bu,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return m.jsx(vQ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),vQ=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=bo(bu,n),l=w.useRef(null),c=Re(e,l);return rZ(),m.jsxs(m.Fragment,{children:[m.jsx(vS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:m.jsx(qg,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":n$(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(sqe,{titleId:a.titleId}),m.jsx(lqe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),t$="DialogTitle",bQ=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bo(t$,n);return m.jsx(ye.h2,{id:i.titleId,...r,ref:e})});bQ.displayName=t$;var xQ="DialogDescription",wQ=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bo(xQ,n);return m.jsx(ye.p,{id:i.descriptionId,...r,ref:e})});wQ.displayName=xQ;var SQ="DialogClose",CQ=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bo(SQ,n);return m.jsx(ye.button,{type:"button",...r,ref:e,onClick:xe(t.onClick,()=>i.onOpenChange(!1))})});CQ.displayName=SQ;function n$(t){return t?"open":"closed"}var kQ="DialogTitleWarning",[snt,EQ]=tie(kQ,{contentName:bu,titleName:t$,docsSlug:"dialog"}),sqe=({titleId:t})=>{const e=EQ(kQ),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},aqe="DialogDescriptionWarning",lqe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${EQ(aqe).contentName}}.`;return w.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},cqe=fQ,uqe=mQ,AQ=gQ,OQ=yQ,TQ=bQ,NQ=wQ,dqe=CQ;const PQ=cqe,fqe=uqe,MQ=w.forwardRef(({className:t,...e},n)=>m.jsx(AQ,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));MQ.displayName=AQ.displayName;const r$=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(fqe,{children:[m.jsx(MQ,{}),m.jsxs(OQ,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(dqe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[m.jsx(iH,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));r$.displayName=OQ.displayName;const i$=({className:t,...e})=>m.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});i$.displayName="DialogHeader";const _Q=({className:t,...e})=>m.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_Q.displayName="DialogFooter";const o$=w.forwardRef(({className:t,...e},n)=>m.jsx(TQ,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));o$.displayName=TQ.displayName;const jQ=w.forwardRef(({className:t,...e},n)=>m.jsx(NQ,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));jQ.displayName=NQ.displayName;const hqe={subscribed:"bg-success/15 text-success",unsubscribed:"bg-muted text-muted-foreground",bounced:"bg-destructive/15 text-destructive"},pqe=["All","VIP","Lead","Customer","Trial","Enterprise","Churned"];function mqe(){const t=di(),{toast:e}=mo(),[n,r]=w.useState([]),[i,o]=w.useState(!0),[s,a]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState("All"),[f,h]=w.useState(new Set),[p,g]=w.useState(!1),[y,v]=w.useState(null),[b,x]=w.useState(""),C=()=>{o(!0),Eue({search:s,tag:u==="All"?void 0:u,source:l||void 0}).then(T=>{r(T.data),o(!1),h(new Set)}).catch(()=>o(!1))};w.useEffect(()=>{C()},[s,u,l]);const S=()=>{f.size===n.length&&n.length>0?h(new Set):h(new Set(n.map(T=>T.id)))},k=T=>{const N=new Set(f);N.has(T)?N.delete(T):N.add(T),h(N)},E=async()=>{if(f.size===0)return;const T=prompt("Nome para a nova lista de destinatrios (Segmento Esttico):");if(T)try{const N=await jue({name:T,contact_ids:Array.from(f)});e({title:"Lista criada",description:"Redirecionando para nova campanha..."}),t(`/campaigns/new?segment_id=${N.data.id}`)}catch{e({variant:"destructive",title:"Erro",description:"Falha ao criar lista."})}},A=async T=>{if(confirm("Tem a certeza que deseja eliminar este contacto?"))try{await Tue(T),e({title:"Contacto eliminado",description:"O contacto foi removido com sucesso."}),C()}catch{e({variant:"destructive",title:"Erro",description:"No foi possvel eliminar o contacto."})}},O=T=>{v(T),x(""),g(!0)},P=async()=>{if(!(!y||!b.trim()))try{await MU(y,b.trim()),e({title:"Tag adicionada",description:"A tag foi adicionada com sucesso."}),g(!1),C()}catch{e({variant:"destructive",title:"Erro",description:"No foi possvel adicionar a tag."})}};return m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Contactos"}),m.jsx("p",{className:"page-subtitle",children:"Gerencie as suas listas de e-mail e subscritores"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(Ge,{variant:"outline",className:"gap-2",children:[m.jsx(Roe,{className:"w-4 h-4"})," Importar"]}),m.jsxs(Ge,{className:"gap-2",onClick:()=>t("/contacts/new"),children:[m.jsx(eu,{className:"w-4 h-4"})," Novo Contacto"]})]})]}),f.size>0&&m.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-3 flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("span",{className:"text-sm font-medium text-primary",children:[f.size," contactos selecionados"]})}),m.jsxs(Ge,{size:"sm",onClick:E,className:"gap-2",children:[m.jsx(Qc,{className:"w-4 h-4"})," Criar Campanha"]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2 bg-secondary rounded-lg px-3 py-2 flex-1 max-w-sm",children:[m.jsx(oM,{className:"w-4 h-4 text-muted-foreground"}),m.jsx("input",{value:s,onChange:T=>a(T.target.value),placeholder:"Pesquisar contactos...",className:"bg-transparent border-none outline-none text-sm text-foreground placeholder:text-muted-foreground w-full"})]}),m.jsx("div",{className:"flex items-center gap-2 bg-secondary rounded-lg px-3 py-2 w-48",children:m.jsx("input",{value:l,onChange:T=>c(T.target.value),placeholder:"Filtrar por Origem...",className:"bg-transparent border-none outline-none text-sm text-foreground placeholder:text-muted-foreground w-full"})}),m.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:pqe.map(T=>m.jsx("button",{onClick:()=>d(T),className:ce("px-3 py-1.5 rounded-full text-xs font-medium transition-all border",u===T?"bg-primary text-primary-foreground border-primary":"border-border text-muted-foreground hover:text-foreground hover:border-foreground/30"),children:T},T))})]}),m.jsxs("div",{className:"glass-card overflow-hidden",children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-border",children:[m.jsx("th",{className:"py-3 px-4 w-10",children:m.jsx(Ss,{checked:n.length>0&&f.size===n.length,onCheckedChange:S})}),m.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Contacto"}),m.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground hidden md:table-cell",children:"Tags"}),m.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground hidden md:table-cell",children:"Origem"}),m.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground hidden lg:table-cell",children:"Estado"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground hidden lg:table-cell",children:"Taxa Abertura"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground hidden xl:table-cell",children:"Taxa Clique"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground w-12"})]})}),m.jsx("tbody",{children:i?Array.from({length:8}).map((T,N)=>m.jsxs("tr",{className:"border-b border-border/50",children:[m.jsx("td",{className:"py-3 px-4",children:m.jsx(Bt,{className:"h-5 w-48"})}),m.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:m.jsx(Bt,{className:"h-5 w-32"})}),m.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:m.jsx(Bt,{className:"h-5 w-24"})}),m.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:m.jsx(Bt,{className:"h-5 w-20"})}),m.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:m.jsx(Bt,{className:"h-5 w-14 ml-auto"})}),m.jsx("td",{className:"py-3 px-4 hidden xl:table-cell",children:m.jsx(Bt,{className:"h-5 w-14 ml-auto"})}),m.jsx("td",{className:"py-3 px-4"})]},N)):n.map(T=>m.jsxs("tr",{className:"border-b border-border/50 table-row-hover",children:[m.jsx("td",{className:"py-3 px-4",children:m.jsx(Ss,{checked:f.has(T.id),onCheckedChange:()=>k(T.id)})}),m.jsx("td",{className:"py-3 px-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"w-8 h-8 rounded-full bg-primary/10 border border-primary/20 flex items-center justify-center text-xs font-bold text-primary shrink-0",children:[T.firstName[0],T.lastName[0]]}),m.jsxs("div",{children:[m.jsxs("p",{className:"font-medium",children:[T.firstName," ",T.lastName]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:T.email})]})]})}),m.jsx("td",{className:"py-3 px-4 hidden md:table-cell",children:m.jsxs("div",{className:"flex gap-1 flex-wrap",children:[T.tags.slice(0,3).map(N=>m.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-secondary text-secondary-foreground border border-border",children:N},N)),T.tags.length>3&&m.jsxs("span",{className:"px-2 py-0.5 rounded-full text-[10px] text-muted-foreground",children:["+",T.tags.length-3]})]})}),m.jsx("td",{className:"py-3 px-4 hidden md:table-cell text-sm text-muted-foreground",children:T.source||"-"}),m.jsx("td",{className:"py-3 px-4 hidden lg:table-cell",children:m.jsx("span",{className:ce("px-2.5 py-1 rounded-full text-xs font-medium capitalize",hqe[T.status]),children:T.status})}),m.jsxs("td",{className:"py-3 px-4 hidden lg:table-cell text-right font-mono",children:[T.openRate,"%"]}),m.jsxs("td",{className:"py-3 px-4 hidden xl:table-cell text-right font-mono",children:[T.clickRate,"%"]}),m.jsx("td",{className:"py-3 px-4 text-right",children:m.jsxs(aq,{children:[m.jsx(lq,{asChild:!0,children:m.jsx("button",{className:"text-muted-foreground hover:text-foreground",children:m.jsx(YW,{className:"w-4 h-4"})})}),m.jsxs(V_,{align:"end",children:[m.jsx(Ps,{onClick:()=>t(`/contacts/${T.id}`),children:"Ver Perfil"}),m.jsx(Ps,{onClick:()=>t(`/contacts/${T.id}/edit`),children:"Editar"}),m.jsxs(Ps,{onClick:()=>O(T.id),children:[m.jsx(tH,{className:"w-4 h-4 mr-2"})," Adicionar Tag"]}),m.jsx(cq,{}),m.jsxs(Ps,{className:"text-destructive",onClick:()=>A(T.id),children:[m.jsx(Moe,{className:"w-4 h-4 mr-2"})," Remover"]})]})]})})]},T.id))})]})}),!i&&n.length===0&&m.jsxs("div",{className:"py-16 text-center",children:[m.jsx(d1,{className:"w-12 h-12 text-muted-foreground/30 mx-auto mb-3"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:"Nenhum contacto encontrado"})]})]}),m.jsx(PQ,{open:p,onOpenChange:g,children:m.jsxs(r$,{children:[m.jsxs(i$,{children:[m.jsx(o$,{children:"Adicionar Tag"}),m.jsx(jQ,{children:"Adicione uma nova tag para organizar este contacto."})]}),m.jsx("div",{className:"grid gap-4 py-4",children:m.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[m.jsx(vt,{htmlFor:"tag",className:"text-right",children:"Tag"}),m.jsx(nt,{id:"tag",value:b,onChange:T=>x(T.target.value),className:"col-span-3",placeholder:"Ex: VIP"})]})}),m.jsxs(_Q,{children:[m.jsx(Ge,{variant:"outline",onClick:()=>g(!1),children:"Cancelar"}),m.jsx(Ge,{onClick:P,children:"Salvar"})]})]})})]})}const gqe=kq({name:fr().min(1,"O nome  obrigatrio"),email:fr().email("E-mail invlido"),phone:fr().optional(),source:fr().optional(),status:PT(["subscribed","unsubscribed","bounced"])});function $Q({initialData:t,onSubmit:e,isLoading:n}){const r=vq({resolver:xq(gqe),defaultValues:{name:(t==null?void 0:t.name)||(t?`${t.firstName} ${t.lastName}`:""),email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",source:(t==null?void 0:t.source)||"",status:(t==null?void 0:t.status)||"subscribed"}});return m.jsxs("form",{onSubmit:r.handleSubmit(e),className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"name",children:"Nome Completo"}),m.jsx(nt,{id:"name",...r.register("name"),placeholder:"ex: Joo Silva"}),r.formState.errors.name&&m.jsx("p",{className:"text-sm text-destructive",children:r.formState.errors.name.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"email",children:"E-mail"}),m.jsx(nt,{id:"email",type:"email",...r.register("email"),placeholder:"ex: joao@exemplo.com"}),r.formState.errors.email&&m.jsx("p",{className:"text-sm text-destructive",children:r.formState.errors.email.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"phone",children:"Telefone"}),m.jsx(nt,{id:"phone",...r.register("phone"),placeholder:"ex: +351 912 345 678"}),r.formState.errors.phone&&m.jsx("p",{className:"text-sm text-destructive",children:r.formState.errors.phone.message})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"source",children:"Origem (Source)"}),m.jsx(nt,{id:"source",...r.register("source"),placeholder:"ex: MyFormula, Bliss Natura"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(vt,{htmlFor:"status",children:"Estado"}),m.jsxs(_s,{defaultValue:r.getValues("status"),onValueChange:i=>r.setValue("status",i),children:[m.jsx(Fo,{children:m.jsx(js,{placeholder:"Selecionar estado"})}),m.jsxs(Bo,{children:[m.jsx($t,{value:"subscribed",children:"Subscrito"}),m.jsx($t,{value:"unsubscribed",children:"Cancelado"}),m.jsx($t,{value:"bounced",children:"Devolvido (Bounced)"})]})]})]}),m.jsx("div",{className:"flex justify-end gap-2",children:m.jsxs(Ge,{type:"submit",disabled:n,children:[n&&m.jsx(a1,{className:"mr-2 w-4 h-4 animate-spin"}),t?"Atualizar Contacto":"Criar Contacto"]})})]})}function yqe(){const t=di(),{toast:e}=mo(),n=async r=>{try{await Aue(r),e({title:"Contacto criado",description:"O contacto foi adicionado com sucesso."}),t("/contacts")}catch{e({variant:"destructive",title:"Erro",description:"No foi possvel criar o contacto."})}};return m.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>t("/contacts"),children:m.jsx(eh,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Novo Contacto"}),m.jsx("p",{className:"text-muted-foreground",children:"Adicione um novo subscritor  sua lista"})]})]}),m.jsx("div",{className:"glass-card p-6",children:m.jsx($Q,{onSubmit:n})})]})}function vqe(){const{id:t}=sh(),e=di(),{toast:n}=mo(),[r,i]=w.useState(null),[o,s]=w.useState(!0);w.useEffect(()=>{t&&PU(t).then(l=>{i(l.data),s(!1)}).catch(()=>{n({variant:"destructive",title:"Erro",description:"Contacto no encontrado."}),e("/contacts")})},[t,e,n]);const a=async l=>{if(t)try{await Oue(t,l),n({title:"Contacto atualizado",description:"As alteraes foram salvas com sucesso."}),e("/contacts")}catch{n({variant:"destructive",title:"Erro",description:"No foi possvel atualizar o contacto."})}};return o?m.jsx("div",{className:"p-10",children:m.jsx(Bt,{className:"h-96 w-full max-w-2xl mx-auto"})}):m.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>e("/contacts"),children:m.jsx(eh,{className:"w-4 h-4"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Editar Contacto"}),m.jsx("p",{className:"text-muted-foreground",children:"Atualize as informaes do contacto"})]})]}),m.jsx("div",{className:"glass-card p-6",children:r&&m.jsx($Q,{initialData:r,onSubmit:a})})]})}const bqe=o1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Qz({className:t,variant:e,...n}){return m.jsx("div",{className:ce(bqe({variant:e}),t),...n})}var xqe="Separator",e4="horizontal",wqe=["horizontal","vertical"],IQ=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=e4,...i}=t,o=Sqe(r)?r:e4,a=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return m.jsx(ye.div,{"data-orientation":o,...a,...i,ref:e})});IQ.displayName=xqe;function Sqe(t){return wqe.includes(t)}var RQ=IQ;const zN=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>m.jsx(RQ,{ref:i,decorative:n,orientation:e,className:ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));zN.displayName=RQ.displayName;function Cqe(){const{id:t}=sh(),e=di(),{toast:n}=mo(),[r,i]=w.useState(null),[o,s]=w.useState(!0),[a,l]=w.useState(""),c=()=>{t&&PU(t).then(f=>{i(f.data),s(!1)}).catch(()=>e("/contacts"))};w.useEffect(()=>{c()},[t,e]);const u=async f=>{if(t)try{await Nue(t,f),c(),n({title:"Tag removida"})}catch{n({variant:"destructive",title:"Erro ao removar tag"})}},d=async()=>{if(!(!t||!a.trim()))try{await MU(t,a.trim()),l(""),c(),n({title:"Tag adicionada"})}catch{n({variant:"destructive",title:"Erro ao adicionar tag"})}};return o||!r?m.jsx("div",{className:"p-10",children:m.jsx(Bt,{className:"h-96 w-full"})}):m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>e("/contacts"),children:m.jsx(eh,{className:"w-4 h-4"})}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("h1",{className:"text-2xl font-bold",children:r.name}),m.jsx(Qz,{variant:r.status==="subscribed"?"default":"secondary",children:r.status})]}),m.jsx("p",{className:"text-muted-foreground",children:r.email})]}),m.jsx(Ge,{onClick:()=>e(`/contacts/${t}/edit`),children:"Editar"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"glass-card p-6 space-y-6 col-span-2",children:[m.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Informaes Pessoais"}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"E-mail"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Qc,{className:"w-4 h-4 text-muted-foreground"}),m.jsx("span",{children:r.email})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Telefone"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(woe,{className:"w-4 h-4 text-muted-foreground"}),m.jsx("span",{children:r.phone||"N/A"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Origem"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(YI,{className:"w-4 h-4 text-muted-foreground"}),m.jsx("span",{children:r.source||"N/A"})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Criado em"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(KW,{className:"w-4 h-4 text-muted-foreground"}),m.jsx("span",{children:new Date(r.createdAt).toLocaleDateString()})]})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"ltima Atividade"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(YI,{className:"w-4 h-4 text-muted-foreground"}),m.jsx("span",{children:r.lastActivity?new Date(r.lastActivity).toLocaleDateString():"N/A"})]})]})]}),m.jsx(zN,{}),m.jsxs("div",{children:[m.jsxs("h3",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[m.jsx(tH,{className:"w-4 h-4"})," Tags"]}),m.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.tags.map(f=>m.jsxs(Qz,{variant:"secondary",className:"gap-1 pr-1",children:[f,m.jsx("button",{onClick:()=>u(f),className:"hover:text-destructive",children:""})]},f)),r.tags.length===0&&m.jsx("span",{className:"text-sm text-muted-foreground",children:"Sem tags"})]}),m.jsxs("div",{className:"flex gap-2 items-center max-w-xs",children:[m.jsx(nt,{value:a,onChange:f=>l(f.target.value),placeholder:"Nova tag...",className:"h-8 text-sm",onKeyDown:f=>f.key==="Enter"&&d()}),m.jsx(Ge,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:d,disabled:!a.trim(),children:m.jsx(eu,{className:"w-4 h-4"})})]})]})]}),m.jsxs("div",{className:"glass-card p-6 space-y-6",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Desempenho"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{className:"text-sm font-medium",children:"Taxa de Abertura"}),m.jsxs("span",{className:"text-sm font-bold",children:[r.openRate,"%"]})]}),m.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-primary",style:{width:`${r.openRate}%`}})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between mb-1",children:[m.jsx("span",{className:"text-sm font-medium",children:"Taxa de Clique"}),m.jsxs("span",{className:"text-sm font-bold",children:[r.clickRate,"%"]})]}),m.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-primary",style:{width:`${r.clickRate}%`}})})]})]}),m.jsx(zN,{}),m.jsxs("div",{className:"text-sm text-muted-foreground",children:[m.jsxs("p",{className:"flex items-center gap-2 mb-2",children:[m.jsx(Qc,{className:"w-4 h-4"})," 0 e-mails recebidos"]}),m.jsxs("p",{className:"flex items-center gap-2",children:[m.jsx(l1,{className:"w-4 h-4"})," 0 cliques em links"]})]})]})]})]})}const kqe={active:{label:"Ativo",class:"bg-success/15 text-success",icon:JW},paused:{label:"Pausado",class:"bg-warning/15 text-warning",icon:xoe},draft:{label:"Rascunho",class:"bg-muted text-muted-foreground",icon:iM}};function Eqe(){const t=di(),[e,n]=w.useState([]),[r,i]=w.useState(!0);return w.useEffect(()=>{Mue().then(o=>{n(o.data),i(!1)})},[]),m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Automaes"}),m.jsx("p",{className:"page-subtitle",children:"Crie fluxos de trabalho e sequncias de e-mail automatizadas"})]}),m.jsxs(Ge,{className:"gap-2",onClick:()=>t("/automations/new"),children:[m.jsx(eu,{className:"w-4 h-4"})," Nova Automao"]})]}),r?m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((o,s)=>m.jsx(Bt,{className:"h-52 rounded-lg"},s))}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((o,s)=>{const a=kqe[o.status];return m.jsxs("div",{onClick:()=>t(`/automations/${o.id}`),className:"glass-card p-5 flex flex-col gap-4 hover:border-primary/30 transition-all duration-300 cursor-pointer animate-fade-in",style:{animationDelay:`${s*80}ms`},children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 border border-primary/20 flex items-center justify-center",children:m.jsx(rH,{className:"w-5 h-5 text-primary"})}),m.jsxs("span",{className:ce("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium",a.class),children:[m.jsx(a.icon,{className:"w-3 h-3"}),a.label]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:o.name}),m.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o.nodes.length," passos  ",o.connections.length," conexes"]})]}),m.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-auto pt-3 border-t border-border/50",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(Jb,{className:"w-3.5 h-3.5"}),m.jsxs("span",{children:[o.triggeredCount.toLocaleString()," disparos"]})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(d1,{className:"w-3.5 h-3.5"}),m.jsxs("span",{children:[o.nodes.length," ns"]})]})]})]},o.id)}),m.jsxs("button",{onClick:()=>t("/automations/new"),className:"border-2 border-dashed border-border rounded-lg p-5 flex flex-col items-center justify-center gap-3 text-muted-foreground hover:border-primary/30 hover:text-foreground transition-all duration-300 min-h-[200px]",children:[m.jsx(eu,{className:"w-8 h-8"}),m.jsx("span",{className:"text-sm font-medium",children:"Criar Automao"})]})]})]})}const Aqe=[];function Oqe(){const{id:t}=sh(),e=di(),{toast:n}=mo(),[r,i]=w.useState(Aqe),[o,s]=w.useState(null),[a,l]=w.useState("Nova Automao"),[c,u]=w.useState("draft"),[d,f]=w.useState(!1);w.useEffect(()=>{t&&t!=="new"&&(f(!0),_ue(t).then(g=>{var v;l(g.data.name),u(g.data.status);const y=g.data;y.nodes&&Array.isArray(y.nodes)?i(y.nodes):(v=y.graph_data)!=null&&v.nodes&&i(y.graph_data.nodes)}).catch(g=>{n({title:"Erro",description:"Falha ao carregar automao",variant:"destructive"}),e("/automations")}).finally(()=>f(!1)))},[t,e,n]);const h=async()=>{f(!0);try{const g={name:a,status:c,nodes:r,connections:[]};if(t==="new"){const y=await $ue(g);n({title:"Sucesso",description:"Automao criada com sucesso"}),e(`/automations/${y.data.id}`)}else t&&(await Iue(t,g),n({title:"Sucesso",description:"Automao salva com sucesso"}))}catch{n({title:"Erro",description:"Falha ao salvar automao",variant:"destructive"})}finally{f(!1)}},p=(g,y,v)=>{const b={id:crypto.randomUUID(),type:g,label:y,config:v?{action:v}:{},position:{x:300,y:r.length*150+50}};i([...r,b])};return m.jsxs("div",{className:"h-[calc(100vh-4rem)] flex flex-col -m-6",children:[m.jsxs("div",{className:"border-b border-border p-4 flex items-center justify-between bg-card z-10",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>e("/automations"),children:m.jsx(eh,{className:"w-5 h-5"})}),m.jsxs("div",{children:[m.jsx("input",{type:"text",value:a,onChange:g=>l(g.target.value),className:"text-lg font-semibold bg-transparent border-none focus:outline-none focus:ring-0 p-0"}),m.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[m.jsx("span",{className:ce("w-2 h-2 rounded-full",c==="active"?"bg-green-500":"bg-yellow-500")}),c==="active"?"Ativo":"Rascunho"]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs(Ge,{variant:"outline",size:"sm",onClick:h,disabled:d,children:[m.jsx(ZW,{className:"w-4 h-4 mr-2"}),d?"Salvando...":"Salvar"]}),m.jsxs(Ge,{size:"sm",onClick:()=>u(c==="active"?"paused":"active"),children:[m.jsx(JW,{className:"w-4 h-4 mr-2"}),c==="active"?"Pausar":"Ativar"]})]})]}),m.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[m.jsxs("div",{className:"w-64 border-r border-border bg-card/50 p-4 overflow-y-auto flex flex-col gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase mb-3",children:"Gatilhos"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Yl,{icon:Jb,label:"Novo Contacto",onClick:()=>p("trigger","Novo Contacto")}),m.jsx(Yl,{icon:Jb,label:"Tag Adicionada",onClick:()=>p("trigger","Tag Adicionada")})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase mb-3",children:"Aes"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Yl,{icon:Qc,label:"Enviar Email",onClick:()=>p("action","Enviar Email","send_email")}),m.jsx(Yl,{icon:noe,label:"Adicionar Tag",onClick:()=>p("action","Adicionar Tag","add_tag")}),m.jsx(Yl,{icon:Pd,label:"Remover Tag",onClick:()=>p("action","Remover Tag","remove_tag")})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase mb-3",children:"Lgica"}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Yl,{icon:nM,label:"Esperar",onClick:()=>p("delay","Esperar")}),m.jsx(Yl,{icon:QW,label:"Condio (Se/Ento)",onClick:()=>p("condition","Condio")})]})]})]}),m.jsxs("div",{className:"flex-1 bg-muted/30 p-8 overflow-auto relative flex flex-col items-center gap-8",children:[r.length===0&&m.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-muted-foreground",children:m.jsx("p",{children:"Adicione um gatilho para comear"})}),r.map((g,y)=>m.jsxs("div",{className:"relative group",children:[y>0&&m.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 w-0.5 h-8 bg-border"}),m.jsx("div",{onClick:()=>s(g.id),className:ce("w-80 p-4 rounded-xl border bg-card shadow-sm cursor-pointer transition-all hover:border-primary/50 hover:shadow-md relative",o===g.id?"border-primary ring-1 ring-primary":"border-border"),children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:ce("w-10 h-10 rounded-lg flex items-center justify-center",g.type==="trigger"?"bg-blue-500/10 text-blue-500":g.type==="action"?"bg-green-500/10 text-green-500":g.type==="delay"?"bg-orange-500/10 text-orange-500":"bg-purple-500/10 text-purple-500"),children:Tqe(g.type)}),m.jsxs("div",{children:[m.jsx("h4",{className:"font-medium text-sm",children:g.label}),m.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:g.type})]}),m.jsx(Ge,{variant:"ghost",size:"icon",className:"ml-auto opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive hover:bg-destructive/10 h-8 w-8",onClick:v=>{v.stopPropagation(),i(r.filter(b=>b.id!==g.id)),o===g.id&&s(null)},children:m.jsx(Pd,{className:"w-4 h-4"})})]})}),m.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 w-6 h-6 rounded-full bg-background border border-border flex items-center justify-center text-muted-foreground hover:text-primary hover:border-primary cursor-pointer z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:m.jsx(eu,{className:"w-3 h-3"})})]},g.id))]}),o&&(()=>{var v,b,x,C,S,k;const g=r.find(E=>E.id===o);if(!g)return null;const y=(E,A)=>{i(r.map(O=>O.id===o?{...O,config:{...O.config,[E]:A}}:O))};return m.jsxs("div",{className:"w-80 border-l border-border bg-card p-4 overflow-y-auto animate-slide-in-right shadow-xl z-20 h-full fixed right-0 top-0 bottom-0 pt-20",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"font-semibold text-lg",children:"Configuraes"}),m.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>s(null),children:m.jsx(u1,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nome do Passo"}),m.jsx("input",{type:"text",className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm focus:ring-1 focus:ring-primary",value:g.label,onChange:E=>{i(r.map(A=>A.id===o?{...A,label:E.target.value}:A))}})]}),((v=g.config)==null?void 0:v.action)==="add_tag"&&m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tag a Adicionar"}),m.jsx("input",{type:"text",placeholder:"Ex: VIP, Cliente Novo",className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",value:((b=g.config)==null?void 0:b.tag)||"",onChange:E=>y("tag",E.target.value)}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Esta tag ser adicionada ao contacto."})]}),((x=g.config)==null?void 0:x.action)==="remove_tag"&&m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tag a Remover"}),m.jsx("input",{type:"text",placeholder:"Ex: Lead Frio",className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",value:((C=g.config)==null?void 0:C.tag)||"",onChange:E=>y("tag",E.target.value)})]}),((S=g.config)==null?void 0:S.action)==="send_email"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"ID da Campanha/Template"}),m.jsxs("select",{className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",value:g.config.campaign_id||"",onChange:E=>y("campaign_id",E.target.value),children:[m.jsx("option",{value:"",children:"Selecione..."}),m.jsx("option",{value:"1",children:"Boas Vindas (Exemplo)"}),m.jsx("option",{value:"2",children:"Promoo Mensal (Exemplo)"})]})]}),m.jsx("div",{className:"p-3 bg-yellow-500/10 text-yellow-500 rounded-md text-xs",children:"Nota: Em breve carregaremos as campanhas reais aqui."})]}),g.type==="delay"&&m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tempo de Espera (minutos)"}),m.jsx("input",{type:"number",min:"1",className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",value:((k=g.config)==null?void 0:k.minutes)||1,onChange:E=>y("minutes",parseInt(E.target.value))})]}),m.jsx("div",{className:"pt-4 border-t border-border",children:m.jsxs(Ge,{variant:"destructive",size:"sm",className:"w-full",onClick:()=>{i(r.filter(E=>E.id!==o)),s(null)},children:[m.jsx(Pd,{className:"w-4 h-4 mr-2"}),"Remover Passo"]})})]})]})})()]})]})}function Yl({icon:t,label:e,onClick:n}){return m.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 p-3 rounded-lg border border-border bg-card hover:bg-muted/50 transition-colors text-sm font-medium text-left",children:[m.jsx(t,{className:"w-4 h-4 text-muted-foreground"}),e]})}function Tqe(t){switch(t){case"trigger":return m.jsx(Jb,{className:"w-5 h-5"});case"action":return m.jsx(Qc,{className:"w-5 h-5"});case"delay":return m.jsx(nM,{className:"w-5 h-5"});case"condition":return m.jsx(QW,{className:"w-5 h-5"});default:return m.jsx(u1,{className:"w-5 h-5"})}}const Nqe=function(){const e=typeof document<"u"&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),Pqe=function(t){return"/build-crm/"+t},t4={},Mqe=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=Pqe(o),o in t4)return;t4[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":Nqe,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},Xl=["hsl(185, 65%, 48%)","hsl(152, 60%, 45%)","hsl(38, 90%, 55%)","hsl(280, 60%, 55%)","hsl(0, 68%, 52%)"];function _qe(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}function jqe(){const[t,e]=w.useState(null),[n,r]=w.useState(!0);if(w.useEffect(()=>{Pue().then(o=>{e(o.data),r(!1)}).catch(o=>{console.error("Failed to load analytics, using mock data:",o),Mqe(()=>import("./mockData-a52c5001.js"),[]).then(s=>{e(s.mockDashboardStats),r(!1)})})},[]),n||!t)return m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Analtica"}),m.jsx("p",{className:"page-subtitle",children:"Anlise detalhada do desempenho dos seus emails"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(Bt,{className:"h-96 rounded-lg"}),m.jsx(Bt,{className:"h-96 rounded-lg"})]})]});const i=[{name:"Aberto",value:t.openRate},{name:"Clicado",value:t.clickRate},{name:"Rejeitado",value:t.bounceRate},{name:"Ignorado",value:Math.max(0,100-t.openRate-t.clickRate-t.bounceRate)}];return m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Analtica"}),m.jsx("p",{className:"page-subtitle",children:"Anlise detalhada do desempenho dos seus emails"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(Ge,{variant:"outline",className:"gap-2",children:[m.jsx(KW,{className:"w-4 h-4"})," ltimos 30 dias"]}),m.jsxs(Ge,{variant:"outline",className:"gap-2",children:[m.jsx(aoe,{className:"w-4 h-4"})," Exportar CSV"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"glass-card p-5 lg:col-span-2",children:[m.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Desempenho de Entrega"}),m.jsx(wx,{width:"100%",height:350,children:m.jsxs(DDe,{data:t.dailyMetrics,children:[m.jsx(a0,{strokeDasharray:"3 3",stroke:"hsl(222, 18%, 18%)"}),m.jsx(Sl,{dataKey:"date",tick:{fontSize:11,fill:"hsl(215, 12%, 52%)"},tickFormatter:o=>o.slice(5),axisLine:!1,tickLine:!1}),m.jsx(Cl,{tick:{fontSize:11,fill:"hsl(215, 12%, 52%)"},axisLine:!1,tickLine:!1,tickFormatter:_qe}),m.jsx(Gr,{contentStyle:{backgroundColor:"#f8f9fa",borderColor:"#e5e7eb",color:"#1f2937",borderRadius:"8px",fontSize:12}}),m.jsx(_c,{}),m.jsx(Ua,{type:"monotone",name:"Enviado",dataKey:"sent",stroke:Xl[0],strokeWidth:2,dot:!1}),m.jsx(Ua,{type:"monotone",name:"Aberto",dataKey:"opened",stroke:Xl[1],strokeWidth:2,dot:!1}),m.jsx(Ua,{type:"monotone",name:"Clicado",dataKey:"clicked",stroke:Xl[2],strokeWidth:2,dot:!1}),m.jsx(Ua,{type:"monotone",name:"Rejeitado",dataKey:"bounced",stroke:Xl[4],strokeWidth:2,dot:!1})]})})]}),m.jsxs("div",{className:"glass-card p-5",children:[m.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Detalhamento de Engajamento"}),m.jsx(wx,{width:"100%",height:250,children:m.jsxs(FDe,{children:[m.jsx(ra,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,dataKey:"value",stroke:"none",children:i.map((o,s)=>m.jsx(ry,{fill:Xl[s%Xl.length]},s))}),m.jsx(Gr,{contentStyle:{backgroundColor:"#f8f9fa",borderColor:"#e5e7eb",color:"#1f2937",borderRadius:"8px",fontSize:12}})]})}),m.jsx("div",{className:"space-y-2 mt-4",children:i.map((o,s)=>m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Xl[s]}}),m.jsx("span",{className:"text-muted-foreground",children:o.name})]}),m.jsxs("span",{className:"font-mono font-medium",children:[o.value.toFixed(1),"%"]})]},o.name))})]})]}),m.jsxs("div",{className:"glass-card p-5",children:[m.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Comparao de Campanhas"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-border",children:[m.jsx("th",{className:"text-left py-3 px-4 font-medium text-muted-foreground",children:"Campanha"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground",children:"Enviado"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground",children:"Aberto"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground",children:"Clicado"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground",children:"Rejeitado"}),m.jsx("th",{className:"text-right py-3 px-4 font-medium text-muted-foreground",children:"Taxa de Abertura"})]})}),m.jsx("tbody",{children:t.topCampaigns.map(o=>m.jsxs("tr",{className:"border-b border-border/50 table-row-hover",children:[m.jsx("td",{className:"py-3 px-4 font-medium",children:o.campaignName}),m.jsx("td",{className:"py-3 px-4 text-right font-mono",children:o.sent.toLocaleString()}),m.jsx("td",{className:"py-3 px-4 text-right font-mono",children:o.opened.toLocaleString()}),m.jsx("td",{className:"py-3 px-4 text-right font-mono",children:o.clicked.toLocaleString()}),m.jsx("td",{className:"py-3 px-4 text-right font-mono",children:o.bounced.toLocaleString()}),m.jsxs("td",{className:"py-3 px-4 text-right font-mono text-primary",children:[(o.opened/o.sent*100).toFixed(1),"%"]})]},o.campaignId))})]})})]})]})}function $qe(){return m.jsxs("div",{className:"space-y-6 animate-slide-up",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{className:"page-title",children:"Settings"}),m.jsx("p",{className:"page-subtitle",children:"Manage your account and platform preferences"})]}),m.jsxs("div",{className:"glass-card p-12 flex flex-col items-center justify-center text-center",children:[m.jsx(u1,{className:"w-16 h-16 text-muted-foreground/20 mb-4"}),m.jsx("h3",{className:"text-lg font-semibold text-muted-foreground",children:"Coming Soon"}),m.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1 max-w-md",children:"Account settings, API keys, team management, and platform configuration will be available here."})]})]})}const Iqe=()=>{const t=oh();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),m.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function ur(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Rqe=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),n4=Rqe,wE=()=>Math.random().toString(36).substring(7).split("").join("."),Dqe={INIT:`@@redux/INIT${wE()}`,REPLACE:`@@redux/REPLACE${wE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wE()}`},r4=Dqe;function Lqe(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function DQ(t,e,n){if(typeof t!="function")throw new Error(ur(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ur(1));return n(DQ)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((y,v)=>{s.set(v,y)}))}function u(){if(l)throw new Error(ur(3));return i}function d(y){if(typeof y!="function")throw new Error(ur(4));if(l)throw new Error(ur(5));let v=!0;c();const b=a++;return s.set(b,y),function(){if(v){if(l)throw new Error(ur(6));v=!1,c(),s.delete(b),o=null}}}function f(y){if(!Lqe(y))throw new Error(ur(7));if(typeof y.type>"u")throw new Error(ur(8));if(typeof y.type!="string")throw new Error(ur(17));if(l)throw new Error(ur(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=s).forEach(b=>{b()}),y}function h(y){if(typeof y!="function")throw new Error(ur(10));r=y,f({type:r4.REPLACE})}function p(){const y=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ur(11));function b(){const C=v;C.next&&C.next(u())}return b(),{unsubscribe:y(b)}},[n4](){return this}}}return f({type:r4.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:h,[n4]:p}}function i4(t,e){return function(...n){return e(t.apply(this,n))}}function o4(t,e){if(typeof t=="function")return i4(t,e);if(typeof t!="object"||t===null)throw new Error(ur(16));const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=i4(i,e))}return n}function LQ(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Fqe(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(ur(15))};const s={getState:i.getState,dispatch:(l,...c)=>o(l,...c)},a=t.map(l=>l(s));return o=LQ(...a)(i.dispatch),{...i,dispatch:o}}}var Bqe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=w;function zqe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vqe=typeof Object.is=="function"?Object.is:zqe,Wqe=ky.useSyncExternalStore,Hqe=ky.useRef,Uqe=ky.useEffect,Kqe=ky.useMemo,Gqe=ky.useDebugValue;Bqe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=Hqe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Kqe(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return d=p}return d=h}if(p=d,Vqe(u,h))return p;var g=r(h);return i!==void 0&&i(p,g)?(u=h,p):(u=h,d=g)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Wqe(t,o[0],o[1]);return Uqe(function(){s.hasValue=!0,s.value=a},[a]),Gqe(a),a};var qqe=w.version.startsWith("19"),Yqe=Symbol.for(qqe?"react.transitional.element":"react.element"),Xqe=Symbol.for("react.portal"),Jqe=Symbol.for("react.fragment"),Zqe=Symbol.for("react.strict_mode"),Qqe=Symbol.for("react.profiler"),e7e=Symbol.for("react.consumer"),t7e=Symbol.for("react.context"),FQ=Symbol.for("react.forward_ref"),n7e=Symbol.for("react.suspense"),r7e=Symbol.for("react.suspense_list"),s$=Symbol.for("react.memo"),i7e=Symbol.for("react.lazy"),o7e=FQ,s7e=s$;function a7e(t){if(typeof t=="object"&&t!==null){const{$$typeof:e}=t;switch(e){case Yqe:switch(t=t.type,t){case Jqe:case Qqe:case Zqe:case n7e:case r7e:return t;default:switch(t=t&&t.$$typeof,t){case t7e:case FQ:case i7e:case s$:return t;case e7e:return t;default:return e}}case Xqe:return e}}}function l7e(t){return a7e(t)===s$}function c7e(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,c,u,d,f;function h(b,x){return l=b,c=x,u=t(l,c),d=e(r,c),f=n(u,d,c),a=!0,f}function p(){return u=t(l,c),e.dependsOnOwnProps&&(d=e(r,c)),f=n(u,d,c),f}function g(){return t.dependsOnOwnProps&&(u=t(l,c)),e.dependsOnOwnProps&&(d=e(r,c)),f=n(u,d,c),f}function y(){const b=t(l,c),x=!s(b,u);return u=b,x&&(f=n(u,d,c)),f}function v(b,x){const C=!o(x,c),S=!i(b,l,x,c);return l=b,c=x,C&&S?p():C?g():S?y():f}return function(x,C){return a?v(x,C):h(x,C)}}function u7e(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=e(t,i),s=n(t,i),a=r(t,i);return c7e(o,s,a,t,i)}function d7e(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function VN(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function s4(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function BQ(t,e){return function(r,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=s4(t);let c=o(a,l);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=s4(c),c=o(a,l)),c},o}}function a$(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function f7e(t){return t&&typeof t=="object"?VN(e=>d7e(t,e)):t?typeof t=="function"?BQ(t):a$(t,"mapDispatchToProps"):VN(e=>({dispatch:e}))}function h7e(t){return t?typeof t=="function"?BQ(t):a$(t,"mapStateToProps"):VN(()=>({}))}function p7e(t,e,n){return{...n,...t,...e}}function m7e(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(l,c,u){const d=t(l,c,u);return o?i(d,s)||(s=d):(o=!0,s=d),s}}}function g7e(t){return t?typeof t=="function"?m7e(t):a$(t,"mergeProps"):()=>p7e}function y7e(t){t()}function v7e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){y7e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var a4={notify(){},get:()=>[]};function zQ(t,e){let n,r=a4,i=0,o=!1;function s(g){u();const y=r.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return o}function u(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=v7e())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=a4)}function f(){o||(o=!0,u())}function h(){o&&(o=!1,d())}const p={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}var b7e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",x7e=b7e(),w7e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",S7e=w7e(),C7e=()=>x7e||S7e?w.useLayoutEffect:w.useEffect,Pw=C7e();function l4(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function SE(t,e){if(l4(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!l4(t[n[i]],e[n[i]]))return!1;return!0}var k7e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},E7e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},A7e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},O7e={[o7e]:A7e,[s7e]:VQ};function c4(t){return l7e(t)?VQ:O7e[t.$$typeof]||k7e}var T7e=Object.defineProperty,N7e=Object.getOwnPropertyNames,u4=Object.getOwnPropertySymbols,P7e=Object.getOwnPropertyDescriptor,M7e=Object.getPrototypeOf,d4=Object.prototype;function WN(t,e){if(typeof e!="string"){if(d4){const o=M7e(e);o&&o!==d4&&WN(t,o)}let n=N7e(e);u4&&(n=n.concat(u4(e)));const r=c4(t),i=c4(e);for(let o=0;o<n.length;++o){const s=n[o];if(!E7e[s]&&!(i&&i[s])&&!(r&&r[s])){const a=P7e(e,s);try{T7e(t,s,a)}catch{}}}}return t}var CE=Symbol.for("react-redux-context"),kE=typeof globalThis<"u"?globalThis:{};function _7e(){if(!w.createContext)return{};const t=kE[CE]??(kE[CE]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var WQ=_7e(),j7e=[null,null];function $7e(t,e,n){Pw(()=>t(...e),n)}function I7e(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function R7e(t,e,n,r,i,o,s,a,l,c,u){if(!t)return()=>{};let d=!1,f=null;const h=()=>{if(d||!a.current)return;const g=e.getState();let y,v;try{y=r(g,i.current)}catch(b){v=b,f=b}v||(f=null),y===o.current?s.current||c():(o.current=y,l.current=y,s.current=!0,u())};return n.onStateChange=h,n.trySubscribe(),h(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function D7e(t,e){return t===e}function L7e(t,e,n,{pure:r,areStatesEqual:i=D7e,areOwnPropsEqual:o=SE,areStatePropsEqual:s=SE,areMergedPropsEqual:a=SE,forwardRef:l=!1,context:c=WQ}={}){const u=c,d=h7e(t),f=f7e(e),h=g7e(n),p=!!t;return y=>{const v=y.displayName||y.name||"Component",b=`Connect(${v})`,x={shouldHandleStateChanges:p,displayName:b,wrappedComponentName:v,WrappedComponent:y,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:h,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function C(E){const[A,O,P]=w.useMemo(()=>{const{reactReduxForwardedRef:z,...Oe}=E;return[E.context,z,Oe]},[E]),T=w.useMemo(()=>{let z=u;return A!=null&&A.Consumer,z},[A,u]),N=w.useContext(T),$=!!E.store&&!!E.store.getState&&!!E.store.dispatch,_=!!N&&!!N.store,I=$?E.store:N.store,R=_?N.getServerState:I.getState,F=w.useMemo(()=>u7e(I.dispatch,x),[I]),[j,L]=w.useMemo(()=>{if(!p)return j7e;const z=zQ(I,$?void 0:N.subscription),Oe=z.notifyNestedSubs.bind(z);return[z,Oe]},[I,$,N]),V=w.useMemo(()=>$?N:{...N,subscription:j},[$,N,j]),U=w.useRef(void 0),G=w.useRef(P),ie=w.useRef(void 0),Ce=w.useRef(!1),Fe=w.useRef(!1),Be=w.useRef(void 0);Pw(()=>(Fe.current=!0,()=>{Fe.current=!1}),[]);const ae=w.useMemo(()=>()=>ie.current&&P===G.current?ie.current:F(I.getState(),P),[I,P]),Ae=w.useMemo(()=>Oe=>j?R7e(p,I,j,F,G,U,Ce,Fe,ie,L,Oe):()=>{},[j]);$7e(I7e,[G,U,Ce,P,ie,L]);let q;try{q=w.useSyncExternalStore(Ae,ae,R?()=>F(R(),P):ae)}catch(z){throw Be.current&&(z.message+=`
The error may be correlated with this previous error:
${Be.current.stack}

`),z}Pw(()=>{Be.current=void 0,ie.current=void 0,U.current=q});const re=w.useMemo(()=>w.createElement(y,{...q,ref:O}),[O,y,q]);return w.useMemo(()=>p?w.createElement(T.Provider,{value:V},re):re,[T,re,V])}const k=w.memo(C);if(k.WrappedComponent=y,k.displayName=C.displayName=b,l){const A=w.forwardRef(function(P,T){return w.createElement(k,{...P,reactReduxForwardedRef:T})});return A.displayName=b,A.WrappedComponent=y,WN(A,y)}return WN(k,y)}}var HQ=L7e;function F7e(t){const{children:e,context:n,serverState:r,store:i}=t,o=w.useMemo(()=>{const l=zQ(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=w.useMemo(()=>i.getState(),[i]);Pw(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||WQ;return w.createElement(a.Provider,{value:o},e)}var B7e=F7e;function z7e(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function UQ(t,e){var n=w.useState(function(){return{inputs:e,result:t()}})[0],r=w.useRef(!0),i=w.useRef(n),o=r.current||!!(e&&i.current.inputs&&z7e(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return w.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function V7e(t,e){return UQ(function(){return t},e)}var Ze=UQ,Se=V7e,io=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},l$=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},f4=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},W7e=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},EE={top:0,right:0,bottom:0,left:0},c$=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?EE:r,o=e.border,s=o===void 0?EE:o,a=e.padding,l=a===void 0?EE:a,c=io(l$(n,i)),u=io(f4(n,s)),d=io(f4(u,l));return{marginBox:c,borderBox:io(n),paddingBox:u,contentBox:d,margin:i,border:s,padding:l}},yi=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&xl(!1),i},H7e=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Mw=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=W7e(r,n);return c$({borderBox:a,border:i,margin:o,padding:s})},_w=function(e,n){return n===void 0&&(n=H7e()),Mw(e,n)},KQ=function(e,n){var r={top:yi(n.marginTop),right:yi(n.marginRight),bottom:yi(n.marginBottom),left:yi(n.marginLeft)},i={top:yi(n.paddingTop),right:yi(n.paddingRight),bottom:yi(n.paddingBottom),left:yi(n.paddingLeft)},o={top:yi(n.borderTopWidth),right:yi(n.borderRightWidth),bottom:yi(n.borderBottomWidth),left:yi(n.borderLeftWidth)};return c$({borderBox:e,margin:r,padding:i,border:o})},GQ=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return KQ(n,r)},h4=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function U7e(t,e){return!!(t===e||h4(t)&&h4(e))}function K7e(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!U7e(t[n],e[n]))return!1;return!0}function _n(t,e){e===void 0&&(e=K7e);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var G7e=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const jg=G7e;function qQ(t,e){}qQ.bind(null,"warn");qQ.bind(null,"error");function pl(){}function q7e(t,e){return{...t,...e}}function Ni(t,e,n){const r=e.map(i=>{const o=q7e(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const Y7e="Invariant failed";class jw extends Error{}jw.prototype.toString=function(){return this.message};function ne(t,e){throw new jw(Y7e)}class X7e extends M.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=pl,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof jw&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Ni(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof jw){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const J7e=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,$w=t=>t+1,Z7e=t=>`
  You have lifted an item in position ${$w(t.source.index)}
`,YQ=(t,e)=>{const n=t.droppableId===e.droppableId,r=$w(t.index),i=$w(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},XQ=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Q7e=t=>{const e=t.destination;if(e)return YQ(t.source,e);const n=t.combine;return n?XQ(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},p4=t=>`
  The item has returned to its starting position
  of ${$w(t.index)}
`,eYe=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${p4(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${YQ(t.source,e)}
    `:n?`
      You have dropped the item.
      ${XQ(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${p4(t.source)}
  `},Eb={dragHandleUsageInstructions:J7e,onDragStart:Z7e,onDragUpdate:Q7e,onDragEnd:eYe},jn={x:0,y:0},Wn=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Qr=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),ml=(t,e)=>t.x===e.x&&t.y===e.y,Ah=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),xu=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},$g=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),m4=(t,e)=>Math.min(...e.map(n=>$g(t,n))),JQ=t=>e=>({x:t(e.x),y:t(e.y)});var tYe=(t,e)=>{const n=io({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Ey=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),g4=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],nYe={top:0,right:0,bottom:0,left:0},rYe=(t,e)=>e?Ey(t,e.scroll.diff.displacement):t,iYe=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,oYe=(t,e)=>e&&e.shouldClipSubject?tYe(e.pageMarginBox,t):io(t);var Gf=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=rYe(t.marginBox,r),o=iYe(i,n,e),s=oYe(o,r);return{page:t,withPlaceholder:e,active:s}},u$=(t,e)=>{t.frame||ne();const n=t.frame,r=Qr(e,n.scroll.initial),i=Ah(r),o={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},s=Gf({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o});return{...t,frame:o,subject:s}};const ZQ=_n(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),QQ=_n(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),eC=_n(t=>Object.values(t)),sYe=_n(t=>Object.values(t));var Oh=_n((t,e)=>sYe(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function d$(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function tC(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var nC=_n((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),aYe=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!d$(i))return null;function s(h){const p={type:"COMBINE",combine:{draggableId:h,droppableId:n.descriptor.id}};return{...i,at:p}}const a=i.displaced.all,l=a.length?a[0]:null;if(t)return l?s(l):null;const c=nC(e,r);if(!l){if(!c.length)return null;const h=c[c.length-1];return s(h.descriptor.id)}const u=c.findIndex(h=>h.descriptor.id===l);u===-1&&ne();const d=u-1;if(d<0)return null;const f=c[d];return s(f.descriptor.id)},Th=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const eee={point:jn,value:0},Ig={invisible:{},visible:{},all:[]},lYe={displaced:Ig,displacedBy:eee,at:null};var Ii=(t,e)=>n=>t<=n&&n<=e,tee=t=>{const e=Ii(t.top,t.bottom),n=Ii(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const l=r.top<t.top&&r.bottom>t.bottom,c=r.left<t.left&&r.right>t.right;return l&&c?!0:l&&s||c&&o}},cYe=t=>{const e=Ii(t.top,t.bottom),n=Ii(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const f$={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},nee={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var uYe=t=>e=>{const n=Ii(e.top,e.bottom),r=Ii(e.left,e.right);return i=>t===f$?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const dYe=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:jn;return Ey(t,n)},fYe=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,hYe=(t,e,n)=>n(e)(t),h$=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?dYe(t,e):t;return fYe(o,e,i)&&hYe(o,n,i)},pYe=t=>h$({...t,isVisibleThroughFrameFn:tee}),ree=t=>h$({...t,isVisibleThroughFrameFn:cYe}),mYe=t=>h$({...t,isVisibleThroughFrameFn:uYe(t.destination.axis)}),gYe=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const o=i[t];return o?o.shouldAnimate:!0};function yYe(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return io(l$(n,r))}function Rg({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return t.reduce(function(a,l){const c=yYe(l,n),u=l.descriptor.id;if(a.all.push(u),!pYe({target:c,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=gYe(u,o,i),h={draggableId:u,shouldAnimate:f};return a.visible[u]=h,a},{all:[],visible:{},invisible:{}})}function vYe(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function y4({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=vYe(t,{inHomeList:e});return{displaced:Ig,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function Iw({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:a}){const l=Th(t,n);if(s==null)return y4({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const c=e.find(p=>p.descriptor.index===s);if(!c)return y4({insideDestination:e,inHomeList:l,displacedBy:i,destination:n});const u=nC(t,e),d=e.indexOf(c),f=u.slice(d);return{displaced:Rg({afterDragging:f,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Nl(t,e){return!!e.effected[t]}var bYe=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return Nl(o,i)?t?a:a-1:t?a+1:a},xYe=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=t?i+1:i-1,s=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=e?a:a+1;return o<s||o>l?null:o},wYe=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:a,afterCritical:l})=>{const c=s.at;if(c||ne(),c.type==="REORDER"){const d=xYe({isMovingForward:t,isInHomeList:e,location:c.destination,insideDestination:o});return d==null?null:Iw({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:d})}const u=bYe({isMovingForward:t,destination:i,displaced:s.displaced,draggables:r,combine:c.combine,afterCritical:l});return u==null?null:Iw({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:u})},SYe=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return Nl(n,e)?i?jn:Ah(r.point):i?r.point:jn},CYe=({afterCritical:t,impact:e,draggables:n})=>{const r=tC(e);r||ne();const i=r.draggableId,o=n[i].page.borderBox.center,s=SYe({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return Wn(o,s)};const iee=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,kYe=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,p$=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,v4=({axis:t,moveRelativeTo:e,isMoving:n})=>xu(t.line,e.marginBox[t.end]+iee(t,n),p$(t,e.marginBox,n)),b4=({axis:t,moveRelativeTo:e,isMoving:n})=>xu(t.line,e.marginBox[t.start]-kYe(t,n),p$(t,e.marginBox,n)),EYe=({axis:t,moveInto:e,isMoving:n})=>xu(t.line,e.contentBox[t.start]+iee(t,n),p$(t,e.contentBox,n));var AYe=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const o=Oh(r.descriptor.id,n),s=e.page,a=r.axis;if(!o.length)return EYe({axis:a,moveInto:r.page,isMoving:s});const{displaced:l,displacedBy:c}=t,u=l.all[0];if(u){const f=n[u];if(Nl(u,i))return b4({axis:a,moveRelativeTo:f.page,isMoving:s});const h=Mw(f.page,c.point);return b4({axis:a,moveRelativeTo:h,isMoving:s})}const d=o[o.length-1];if(d.descriptor.id===e.descriptor.id)return s.borderBox.center;if(Nl(d.descriptor.id,i)){const f=Mw(d.page,Ah(i.displacedBy.point));return v4({axis:a,moveRelativeTo:f,isMoving:s})}return v4({axis:a,moveRelativeTo:d.page,isMoving:s})},HN=(t,e)=>{const n=t.frame;return n?Wn(e,n.scroll.diff.displacement):e};const OYe=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const o=e.page.borderBox.center,s=t.at;return!n||!s?o:s.type==="REORDER"?AYe({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):CYe({impact:t,draggables:r,afterCritical:i})};var rC=t=>{const e=OYe(t),n=t.droppable;return n?HN(n,e):e},oee=(t,e)=>{const n=Qr(e,t.scroll.initial),r=Ah(n);return{frame:io({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function x4(t,e){return t.map(n=>e[n])}function TYe(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var NYe=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const o=oee(e,Wn(e.scroll.current,i)),s=n.frame?u$(n,Wn(n.frame.scroll.current,i)):n,a=t.displaced,l=Rg({afterDragging:x4(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),c=Rg({afterDragging:x4(a.all,r),destination:s,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),u={},d={},f=[a,l,c];return a.all.forEach(p=>{const g=TYe(p,f);if(g){d[p]=g;return}u[p]=!0}),{...t,displaced:{all:a.all,invisible:u,visible:d}}},PYe=(t,e)=>Wn(t.scroll.diff.displacement,e),m$=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=PYe(n,t),i=Qr(r,e.page.borderBox.center);return Wn(e.client.borderBox.center,i)},see=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=Qr(n,t.page.borderBox.center),l={target:Ey(t.page.borderBox,s),destination:e,withDroppableDisplacement:i,viewport:r};return o?mYe(l):ree(l)},MYe=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=Oh(n.descriptor.id,r),u=Th(e,n),d=aYe({isMovingForward:t,draggable:e,destination:n,insideDestination:c,previousImpact:i})||wYe({isMovingForward:t,isInHomeList:u,draggable:e,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:o,afterCritical:l});if(!d)return null;const f=rC({impact:d,draggable:e,droppable:n,draggables:r,afterCritical:l});if(see({draggable:e,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:m$({pageBorderBoxCenter:f,draggable:e,viewport:o}),impact:d,scrollJumpRequest:null};const p=Qr(f,s),g=NYe({impact:d,viewport:o,destination:n,draggables:r,maxScrollChange:p});return{clientSelection:a,impact:g,scrollJumpRequest:p}};const lr=t=>{const e=t.subject.active;return e||ne(),e};var _Ye=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,a=Ii(o[s.start],o[s.end]),l=eC(r).filter(u=>u!==n).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>tee(i.frame)(lr(u))).filter(u=>{const d=lr(u);return t?o[s.crossAxisEnd]<d[s.crossAxisEnd]:d[s.crossAxisStart]<o[s.crossAxisStart]}).filter(u=>{const d=lr(u),f=Ii(d[s.start],d[s.end]);return a(d[s.start])||a(d[s.end])||f(o[s.start])||f(o[s.end])}).sort((u,d)=>{const f=lr(u)[s.crossAxisStart],h=lr(d)[s.crossAxisStart];return t?f-h:h-f}).filter((u,d,f)=>lr(u)[s.crossAxisStart]===lr(f[0])[s.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>Ii(lr(u)[s.start],lr(u)[s.end])(e[s.line]));return c.length===1?c[0]:c.length>1?c.sort((u,d)=>lr(u)[s.start]-lr(d)[s.start])[0]:l.sort((u,d)=>{const f=m4(e,g4(lr(u))),h=m4(e,g4(lr(d)));return f!==h?f-h:lr(u)[s.start]-lr(d)[s.start]})[0]};const w4=(t,e)=>{const n=t.page.borderBox.center;return Nl(t.descriptor.id,e)?Qr(n,e.displacedBy.point):n},jYe=(t,e)=>{const n=t.page.borderBox;return Nl(t.descriptor.id,e)?Ey(n,Ah(e.displacedBy.point)):n};var $Ye=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>ree({target:jYe(s,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const l=$g(t,HN(n,w4(s,i))),c=$g(t,HN(n,w4(a,i)));return l<c?-1:c<l?1:s.descriptor.index-a.descriptor.index})[0]||null,Ay=_n(function(e,n){const r=n[e.line];return{value:r,point:xu(e.line,r)}});const IYe=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return xu(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],l=Oh(t.descriptor.id,n).reduce((c,u)=>c+u.client.marginBox[r.size],0)+e[r.line]-i;return l<=0?null:xu(r.line,l)},aee=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),lee=(t,e,n)=>{const r=t.frame;Th(e,t)&&ne(),t.subject.withPlaceholder&&ne();const i=Ay(t.axis,e.displaceBy).point,o=IYe(t,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const u=Gf({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return{...t,subject:u}}const a=o?Wn(r.scroll.max,o):r.scroll.max,l=aee(r,a),c=Gf({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:l});return{...t,subject:c,frame:l}},RYe=t=>{const e=t.subject.withPlaceholder;e||ne();const n=t.frame;if(!n){const s=Gf({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:s}}const r=e.oldFrameMaxScroll;r||ne();const i=aee(n,r),o=Gf({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:o,frame:i}};var DYe=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:a})=>{if(!e){if(n.length)return null;const d={displaced:Ig,displacedBy:eee,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=rC({impact:d,draggable:r,droppable:o,draggables:i,afterCritical:a}),h=Th(r,o)?o:lee(o,r,i);return see({draggable:r,destination:h,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=t[o.axis.line]<=e.page.borderBox.center[o.axis.line],c=(()=>{const d=e.descriptor.index;return e.descriptor.id===r.descriptor.id||l?d:d+1})(),u=Ay(o.axis,r.displaceBy);return Iw({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:u,last:Ig,index:c})},LYe=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:a})=>{const l=_Ye({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:o,viewport:s});if(!l)return null;const c=Oh(l.descriptor.id,i),u=$Ye({pageBorderBoxCenter:e,viewport:s,destination:l,insideDestination:c,afterCritical:a}),d=DYe({previousPageBorderBoxCenter:e,destination:l,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:c,viewport:s,afterCritical:a});if(!d)return null;const f=rC({impact:d,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:m$({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:d,scrollJumpRequest:null}},ii=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const FYe=(t,e)=>{const n=ii(t);return n?e[n]:null};var BYe=({state:t,type:e})=>{const n=FYe(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,s=o.axis.direction,a=s==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||s==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const l=e==="MOVE_DOWN"||e==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],u=t.current.page.borderBoxCenter,{draggables:d,droppables:f}=t.dimensions;return a?MYe({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:o,draggables:d,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):LYe({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:o,draggables:d,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function oc(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function cee(t){const e=Ii(t.top,t.bottom),n=Ii(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function zYe(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function VYe({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(o=>{const s=o.axis,a=xu(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:$g(r,a)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function WYe({pageBorderBox:t,draggable:e,droppables:n}){const r=eC(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!zYe(t,o))return!1;if(cee(o)(t.center))return!0;const s=i.axis,a=o.center[s.crossAxisLine],l=t[s.crossAxisStart],c=t[s.crossAxisEnd],u=Ii(o[s.crossAxisStart],o[s.crossAxisEnd]),d=u(l),f=u(c);return!d&&!f?!0:d?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:VYe({pageBorderBox:t,draggable:e,candidates:r}):null}const uee=(t,e)=>io(Ey(t,e));var HYe=(t,e)=>{const n=t.frame;return n?uee(e,n.scroll.diff.value):e};function dee({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function UYe({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var KYe=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const a=n.axis,l=Ay(n.axis,e.displaceBy),c=l.value,u=t[a.start],d=t[a.end],h=nC(e,r).find(g=>{const y=g.descriptor.id,v=g.page.borderBox.center[a.line],b=Nl(y,s),x=dee({displaced:i,id:y});return b?x?d<=v:u<v-c:x?d<=v+c:u<v})||null,p=UYe({draggable:e,closest:h,inHomeList:Th(e,n)});return Iw({draggable:e,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:l,index:p})};const GYe=4;var qYe=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,a=Ay(r.axis,t.displaceBy),l=a.value,c=e[s.start],u=e[s.end],f=nC(t,i).find(p=>{const g=p.descriptor.id,y=p.page.borderBox,b=y[s.size]/GYe,x=Nl(g,o),C=dee({displaced:n.displaced,id:g});return x?C?u>y[s.start]+b&&u<y[s.end]-b:c>y[s.start]-l+b&&c<y[s.end]-l-b:C?u>y[s.start]+l+b&&u<y[s.end]+l-b:c>y[s.start]+b&&c<y[s.end]-b});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},fee=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const a=uee(e.page.borderBox,t),l=WYe({pageBorderBox:a,draggable:e,droppables:r});if(!l)return lYe;const c=r[l],u=Oh(c.descriptor.id,n),d=HYe(c,a);return qYe({pageBorderBoxWithDroppableScroll:d,draggable:e,previousImpact:i,destination:c,insideDestination:u,afterCritical:s})||KYe({pageBorderBoxWithDroppableScroll:d,draggable:e,destination:c,insideDestination:u,last:i.displaced,viewport:o,afterCritical:s})},g$=(t,e)=>({...t,[e.descriptor.id]:e});const YYe=({previousImpact:t,impact:e,droppables:n})=>{const r=ii(t),i=ii(e);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=RYe(o);return g$(n,s)};var XYe=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const o=YYe({previousImpact:r,impact:i,droppables:n}),s=ii(i);if(!s)return o;const a=n[s];if(Th(t,a)||a.subject.withPlaceholder)return o;const l=lee(a,t,e);return g$(o,l)},am=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||t.viewport,a=n||t.dimensions,l=e||t.current.client.selection,c=Qr(l,t.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:Wn(t.initial.client.borderBoxCenter,c)},d={selection:Wn(u.selection,s.scroll.current),borderBoxCenter:Wn(u.borderBoxCenter,s.scroll.current),offset:Wn(u.offset,s.scroll.diff.value)},f={client:u,page:d};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:s,current:f};const h=a.draggables[t.critical.draggable.id],p=i||fee({pageOffset:d.offset,draggable:h,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=XYe({draggable:h,impact:p,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:f,dimensions:{draggables:a.draggables,droppables:g},impact:p,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function JYe(t,e){return t.map(n=>e[n])}var hee=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=t.displaced,s=JYe(o.all,n),a=Rg({afterDragging:s,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:o});return{...t,displaced:a}},pee=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=rC({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:o});return m$({pageBorderBoxCenter:s,draggable:e,viewport:i})},mee=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&ne();const r=t.impact,i=n||t.viewport,o=e||t.dimensions,{draggables:s,droppables:a}=o,l=s[t.critical.draggable.id],c=ii(r);c||ne();const u=a[c],d=hee({impact:r,viewport:i,destination:u,draggables:s}),f=pee({impact:d,draggable:l,droppable:u,draggables:s,viewport:i,afterCritical:t.afterCritical});return am({impact:d,clientSelection:f,state:t,dimensions:o,viewport:i})},ZYe=t=>({index:t.index,droppableId:t.droppableId}),gee=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=Ay(e.axis,t.displaceBy),o=Oh(e.descriptor.id,n),s=o.indexOf(t);s===-1&&ne();const a=o.slice(s+1),l=a.reduce((f,h)=>(f[h.descriptor.id]=!0,f),{}),c={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:Rg({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:ZYe(t.descriptor)}},afterCritical:c}},QYe=(t,e)=>({draggables:t.draggables,droppables:g$(t.droppables,e)}),eXe=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Mw(t.client,e),i=_w(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},tXe=t=>{const e=t.frame;return e||ne(),e},nXe=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const o=i.descriptor.droppableId,s=e[o],l=tXe(s).scroll.diff.value,c=Wn(r,l);return eXe({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},rXe=({state:t,published:e})=>{const n=e.modified.map(v=>{const b=t.dimensions.droppables[v.droppableId];return u$(b,v.scroll)}),r={...t.dimensions.droppables,...ZQ(n)},i=QQ(nXe({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),o={...t.dimensions.draggables,...i};e.removals.forEach(v=>{delete o[v]});const s={droppables:r,draggables:o},a=ii(t.impact),l=a?s.droppables[a]:null,c=s.draggables[t.critical.draggable.id],u=s.droppables[t.critical.droppable.id],{impact:d,afterCritical:f}=gee({draggable:c,home:u,draggables:o,viewport:t.viewport}),h=l&&l.isCombineEnabled?t.impact:d,p=fee({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:h,viewport:t.viewport,afterCritical:f}),g={...t,phase:"DRAGGING",impact:p,onLiftImpact:d,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return t.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const UN=t=>t.movementMode==="SNAP",AE=(t,e,n)=>{const r=QYe(t.dimensions,e);return!UN(t)||n?am({state:t,dimensions:r}):mee({state:t,dimensions:r})};function OE(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const S4={phase:"IDLE",completed:null,shouldFlush:!1};var iXe=(t=S4,e)=>{if(e.type==="FLUSH")return{...S4,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&ne();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=e.payload,a=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:jn},u={client:c,page:{selection:Wn(c.selection,i.scroll.initial),borderBoxCenter:Wn(c.selection,i.scroll.initial),offset:Wn(c.selection,i.scroll.diff.value)}},d=eC(o.droppables).every(g=>!g.isFixedOnPage),{impact:f,afterCritical:h}=gee({draggable:a,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:u,current:u,isWindowScrollAllowed:d,impact:f,afterCritical:h,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&ne(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||ne(),rXe({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;oc(t)||ne();const{client:n}=e.payload;return ml(n,t.current.client.selection)?t:am({state:t,clientSelection:n,impact:UN(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return OE(t);oc(t)||ne();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const o=u$(i,r);return AE(t,o,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;oc(t)||ne();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||ne(),i.isEnabled===r&&ne();const o={...i,isEnabled:r};return AE(t,o,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;oc(t)||ne();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||ne(),i.isCombineEnabled===r&&ne();const o={...i,isCombineEnabled:r};return AE(t,o,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;oc(t)||ne(),t.isWindowScrollAllowed||ne();const n=e.payload.newScroll;if(ml(t.viewport.scroll.current,n))return OE(t);const r=oee(t.viewport,n);return UN(t)?mee({state:t,viewport:r}):am({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!oc(t))return t;const n=e.payload.maxScroll;if(ml(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&ne();const n=BYe({state:t,type:e.type});return n?am({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&ne(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||ne(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};function at(t,e){return t instanceof Object&&"type"in t&&t.type===e}const oXe=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),sXe=t=>({type:"LIFT",payload:t}),aXe=t=>({type:"INITIAL_PUBLISH",payload:t}),lXe=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),cXe=()=>({type:"COLLECTION_STARTING",payload:null}),uXe=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),dXe=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),fXe=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),yee=t=>({type:"MOVE",payload:t}),hXe=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),pXe=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),mXe=()=>({type:"MOVE_UP",payload:null}),gXe=()=>({type:"MOVE_DOWN",payload:null}),yXe=()=>({type:"MOVE_RIGHT",payload:null}),vXe=()=>({type:"MOVE_LEFT",payload:null}),y$=()=>({type:"FLUSH",payload:null}),bXe=t=>({type:"DROP_ANIMATE",payload:t}),v$=t=>({type:"DROP_COMPLETE",payload:t}),vee=t=>({type:"DROP",payload:t}),xXe=t=>({type:"DROP_PENDING",payload:t}),bee=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var wXe=t=>({getState:e,dispatch:n})=>r=>i=>{if(!at(i,"LIFT")){r(i);return}const{id:o,clientSelection:s,movementMode:a}=i.payload,l=e();l.phase==="DROP_ANIMATING"&&n(v$({completed:l.completed})),e().phase!=="IDLE"&&ne(),n(y$()),n(oXe({draggableId:o,movementMode:a}));const u={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:h}=t.startPublishing(u);n(aXe({critical:d,dimensions:f,clientSelection:s,movementMode:a,viewport:h}))},SXe=t=>()=>e=>n=>{at(n,"INITIAL_PUBLISH")&&t.dragging(),at(n,"DROP_ANIMATE")&&t.dropping(n.payload.completed.result.reason),(at(n,"FLUSH")||at(n,"DROP_COMPLETE"))&&t.resting(),e(n)};const b$={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Dg={opacity:{drop:0,combining:.7},scale:{drop:.75}},xee={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Jl=`${xee.outOfTheWay}s ${b$.outOfTheWay}`,lm={fluid:`opacity ${Jl}`,snap:`transform ${Jl}, opacity ${Jl}`,drop:t=>{const e=`${t}s ${b$.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Jl}`,placeholder:`height ${Jl}, width ${Jl}, margin ${Jl}`},C4=t=>ml(t,jn)?void 0:`translate(${t.x}px, ${t.y}px)`,KN={moveTo:C4,drop:(t,e)=>{const n=C4(t);if(n)return e?`${n} scale(${Dg.scale.drop})`:n}},{minDropTime:GN,maxDropTime:wee}=xee,CXe=wee-GN,k4=1500,kXe=.6;var EXe=({current:t,destination:e,reason:n})=>{const r=$g(t,e);if(r<=0)return GN;if(r>=k4)return wee;const i=r/k4,o=GN+CXe*i,s=n==="CANCEL"?o*kXe:o;return Number(s.toFixed(2))},AXe=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,a=ii(t),l=a?s[a]:null,c=s[e.descriptor.droppableId],u=pee({impact:t,draggable:e,draggables:o,afterCritical:i,droppable:l||c,viewport:r});return Qr(u,e.client.borderBox.center)},OXe=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||e!=="DROP"?{impact:hee({draggables:t,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:Ig},didDropInsideDroppable:!0};const TXe=({getState:t,dispatch:e})=>n=>r=>{if(!at(r,"DROP")){n(r);return}const i=t(),o=r.payload.reason;if(i.phase==="COLLECTING"){e(xXe({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&ne(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||ne();const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:u,didDropInsideDroppable:d}=OXe({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=d?d$(u):null,h=d?tC(u):null,p={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:p,reason:o,mode:i.movementMode,destination:f,combine:h},y=AXe({impact:u,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:u};if(!(!ml(i.current.client.offset,y)||!!g.combine)){e(v$({completed:v}));return}const x=EXe({current:i.current.client.offset,destination:y,reason:o});e(bXe({newHomeClientOffset:y,dropDuration:x,completed:v}))};var See=()=>({x:window.pageXOffset,y:window.pageYOffset});function NXe(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function PXe({onWindowScroll:t}){function e(){t(See())}const n=jg(e),r=NXe(n);let i=pl;function o(){return i!==pl}function s(){o()&&ne(),i=Ni(window,[r])}function a(){o()||ne(),n.cancel(),i(),i=pl}return{start:s,stop:a,isActive:o}}const MXe=t=>at(t,"DROP_COMPLETE")||at(t,"DROP_ANIMATE")||at(t,"FLUSH"),_Xe=t=>{const e=PXe({onWindowScroll:n=>{t.dispatch(hXe({newScroll:n}))}});return n=>r=>{!e.isActive()&&at(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&MXe(r)&&e.stop(),n(r)}};var jXe=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{e||n||(e=!0,t(o),clearTimeout(r))};return i.wasCalled=()=>e,i},$Xe=()=>{const t=[],e=i=>{const o=t.findIndex(a=>a.timerId===i);o===-1&&ne();const[s]=t.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>e(o)),s={timerId:o,callback:i};t.push(s)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const IXe=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,RXe=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,DXe=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},ep=(t,e)=>{e()},Lv=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function TE(t,e,n,r){if(!t){n(r(e));return}const i=jXe(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var LXe=(t,e)=>{const n=$Xe();let r=null;const i=(d,f)=>{r&&ne(),ep("onBeforeCapture",()=>{const h=t().onBeforeCapture;h&&h({draggableId:d,mode:f})})},o=(d,f)=>{r&&ne(),ep("onBeforeDragStart",()=>{const h=t().onBeforeDragStart;h&&h(Lv(d,f))})},s=(d,f)=>{r&&ne();const h=Lv(d,f);r={mode:f,lastCritical:d,lastLocation:h.source,lastCombine:null},n.add(()=>{ep("onDragStart",()=>TE(t().onDragStart,h,e,Eb.onDragStart))})},a=(d,f)=>{const h=d$(f),p=tC(f);r||ne();const g=!DXe(d,r.lastCritical);g&&(r.lastCritical=d);const y=!IXe(r.lastLocation,h);y&&(r.lastLocation=h);const v=!RXe(r.lastCombine,p);if(v&&(r.lastCombine=p),!g&&!y&&!v)return;const b={...Lv(d,r.mode),combine:p,destination:h};n.add(()=>{ep("onDragUpdate",()=>TE(t().onDragUpdate,b,e,Eb.onDragUpdate))})},l=()=>{r||ne(),n.flush()},c=d=>{r||ne(),r=null,ep("onDragEnd",()=>TE(t().onDragEnd,d,e,Eb.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const d={...Lv(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(d)}}},FXe=(t,e)=>{const n=LXe(t,e);return r=>i=>o=>{if(at(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(at(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(at(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),at(o,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const BXe=t=>e=>n=>{if(!at(n,"DROP_ANIMATION_FINISHED")){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&ne(),t.dispatch(v$({completed:r.completed}))},zXe=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>o=>{if((at(o,"FLUSH")||at(o,"DROP_COMPLETE")||at(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!at(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(bee())}};n=requestAnimationFrame(()=>{n=null,e=Ni(window,[s])})}};var VXe=t=>()=>e=>n=>{(at(n,"DROP_COMPLETE")||at(n,"FLUSH")||at(n,"DROP_ANIMATE"))&&t.stopPublishing(),e(n)},WXe=t=>{let e=!1;return()=>n=>r=>{if(at(r,"INITIAL_PUBLISH")){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(at(r,"FLUSH")){e=!1,t.tryRestoreFocusRecorded();return}if(at(r,"DROP_COMPLETE")){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const HXe=t=>at(t,"DROP_COMPLETE")||at(t,"DROP_ANIMATE")||at(t,"FLUSH");var UXe=t=>e=>n=>r=>{if(HXe(r)){t.stop(),n(r);return}if(at(r,"INITIAL_PUBLISH")){n(r);const i=e.getState();i.phase!=="DRAGGING"&&ne(),t.start(i);return}n(r),t.scroll(e.getState())};const KXe=t=>e=>n=>{if(e(n),!at(n,"PUBLISH_WHILE_DRAGGING"))return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(vee({reason:r.reason})))},GXe=LQ;var qXe=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>DQ(iXe,GXe(Fqe(SXe(n),VXe(t),wXe(t),TXe,BXe,zXe,KXe,UXe(o),_Xe,WXe(e),FXe(r,i))));const NE=()=>({additions:{},removals:{},modified:{}});function YXe({registry:t,callbacks:e}){let n=NE(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:u}=n,d=Object.keys(l).map(p=>t.draggable.getById(p).getDimension(jn)).sort((p,g)=>p.descriptor.index-g.descriptor.index),f=Object.keys(u).map(p=>{const y=t.droppable.getById(p).callbacks.getScrollWhileDragging();return{droppableId:p,scroll:y}}),h={additions:d,removals:Object.keys(c),modified:f};n=NE(),e.publish(h)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=NE())}}}var Cee=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=Qr({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},kee=()=>{const t=document.documentElement;return t||ne(),t},Eee=()=>{const t=kee();return Cee({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},XXe=()=>{const t=See(),e=Eee(),n=t.y,r=t.x,i=kee(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s;return{frame:io({top:n,left:r,right:a,bottom:l}),scroll:{initial:t,current:t,max:e,diff:{value:jn,displacement:jn}}}},JXe=({critical:t,scrollOptions:e,registry:n})=>{const r=XXe(),i=r.scroll.current,o=t.droppable,s=n.droppable.getAllByType(o.type).map(u=>u.callbacks.getDimensionAndWatchScroll(i,e)),a=n.draggable.getAllByType(t.draggable.type).map(u=>u.getDimension(i));return{dimensions:{draggables:QQ(a),droppables:ZQ(s)},critical:t,viewport:r}};function E4(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var ZXe=(t,e)=>{let n=null;const r=YXe({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(f,h)=>{t.droppable.exists(f)||ne(),n&&e.updateDroppableIsEnabled({id:f,isEnabled:h})},o=(f,h)=>{n&&(t.droppable.exists(f)||ne(),e.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:h}))},s=(f,h)=>{n&&(t.droppable.exists(f)||ne(),e.updateDroppableScroll({id:f,newScroll:h}))},a=(f,h)=>{n&&t.droppable.getById(f).callbacks.scroll(h)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;t.droppable.getAllByType(f.type).forEach(h=>h.callbacks.dragStopped()),n.unsubscribe(),n=null},c=f=>{n||ne();const h=n.critical.draggable;f.type==="ADDITION"&&E4(t,h,f.value)&&r.add(f.value),f.type==="REMOVAL"&&E4(t,h,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:f=>{n&&ne();const h=t.draggable.getById(f.draggableId),p=t.droppable.getById(h.descriptor.droppableId),g={draggable:h.descriptor,droppable:p.descriptor},y=t.subscribe(c);return n={critical:g,unsubscribe:y},JXe({critical:g,registry:t,scrollOptions:f.scrollOptions})},stopPublishing:l}},Aee=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",QXe=t=>{window.scrollBy(t.x,t.y)};const eJe=_n(t=>eC(t).filter(e=>!(!e.isEnabled||!e.frame))),tJe=(t,e)=>eJe(e).find(r=>(r.frame||ne(),cee(r.frame.pageMarginBox)(t)))||null;var nJe=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return tJe(t,n)};const Lg={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var rJe=(t,e,n=()=>Lg)=>{const r=n(),i=t[e.size]*r.startFromPercentage,o=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},Oee=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},x$=1,iJe=(t,e,n=()=>Lg)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return x$;const o=1-Oee({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},oJe=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=e,a=o,c=Date.now()-s;if(c>=o)return t;if(c<i)return x$;const u=Oee({startOfRange:i,endOfRange:a,current:c}),d=t*r.ease(u);return Math.ceil(d)},A4=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=iJe(t,e,i);return o===0?0:r?Math.max(oJe(o,n,i),x$):o},O4=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=rJe(t,r,o);return e[r.end]<e[r.start]?A4({distanceToEdge:e[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*A4({distanceToEdge:e[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},sJe=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const aJe=JQ(t=>t===0?0:t);var Tee=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=O4({container:e,distanceToEdges:s,dragStartTime:t,axis:f$,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),l=O4({container:e,distanceToEdges:s,dragStartTime:t,axis:nee,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),c=aJe({x:l,y:a});if(ml(c,jn))return null;const u=sJe({container:e,subject:n,proposedScroll:c});return u?ml(u,jn)?null:u:null};const lJe=JQ(t=>t===0?0:t>0?1:-1),w$=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=Wn(e,r),o={x:t(i.x,n.x),y:t(i.y,n.y)};return ml(o,jn)?null:o}})(),Nee=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=lJe(n),o=w$({max:r,current:e,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},S$=(t,e)=>Nee({current:t.scroll.current,max:t.scroll.max,change:e}),cJe=(t,e)=>{if(!S$(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return w$({current:r,max:n,change:e})},C$=(t,e)=>{const n=t.frame;return n?Nee({current:n.scroll.current,max:n.scroll.max,change:e}):!1},uJe=(t,e)=>{const n=t.frame;return!n||!C$(t,e)?null:w$({current:n.scroll.current,max:n.scroll.max,change:e})};var dJe=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=Tee({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&S$(t,s)?s:null},fJe=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=t.frame;if(!s)return null;const a=Tee({dragStartTime:r,container:s.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return a&&C$(t,a)?a:null},T4=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=t.current.page.borderBoxCenter,l=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const d=t.viewport,f=dJe({dragStartTime:e,viewport:d,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(f){r(f);return}}const c=nJe({center:s,destination:ii(t.impact),droppables:t.dimensions.droppables});if(!c)return;const u=fJe({dragStartTime:e,droppable:c,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});u&&i(c.descriptor.id,u)},hJe=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>Lg})=>{const r=jg(t),i=jg(e);let o=null;const s=c=>{o||ne();const{shouldUseTimeDampening:u,dragStartTime:d}=o;T4({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:n})};return{start:c=>{o&&ne();const u=Date.now();let d=!1;const f=()=>{d=!0};T4({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),o={dragStartTime:u,shouldUseTimeDampening:d},d&&s(c)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},pJe=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,l)=>{const c=Wn(a.current.client.selection,l);t({client:c})},i=(a,l)=>{if(!C$(a,l))return l;const c=uJe(a,l);if(!c)return e(a.descriptor.id,l),null;const u=Qr(l,c);return e(a.descriptor.id,u),Qr(l,u)},o=(a,l,c)=>{if(!a||!S$(l,c))return c;const u=cJe(l,c);if(!u)return n(c),null;const d=Qr(c,u);return n(d),Qr(c,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=ii(a.impact);c||ne();const u=i(a.dimensions.droppables[c],l);if(!u)return;const d=a.viewport,f=o(a.isWindowScrollAllowed,d,u);f&&r(a,f)}},mJe=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=hJe({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),o=pJe({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&o(l)}},start:i.start,stop:i.stop}};const qf="data-rfd",Yf=(()=>{const t=`${qf}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),qN=(()=>{const t=`${qf}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),gJe=(()=>{const t=`${qf}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),N4={contextId:`${qf}-scroll-container-context-id`},yJe=t=>e=>`[${e}="${t}"]`,tp=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),vJe="pointer-events: none;";var bJe=t=>{const e=yJe(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Yf.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:vJe,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${lm.outOfTheWay};
    `;return{selector:e(qN.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(gJe.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:tp(s,"always"),resting:tp(s,"resting"),dragging:tp(s,"dragging"),dropAnimating:tp(s,"dropAnimating"),userCancel:tp(s,"userCancel")}};const oi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,PE=()=>{const t=document.querySelector("head");return t||ne(),t},P4=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function xJe(t,e){const n=Ze(()=>bJe(t),[t]),r=w.useRef(null),i=w.useRef(null),o=Se(_n(d=>{const f=i.current;f||ne(),f.textContent=d}),[]),s=Se(d=>{const f=r.current;f||ne(),f.textContent=d},[]);oi(()=>{!r.current&&!i.current||ne();const d=P4(e),f=P4(e);return r.current=d,i.current=f,d.setAttribute(`${qf}-always`,t),f.setAttribute(`${qf}-dynamic`,t),PE().appendChild(d),PE().appendChild(f),s(n.always),o(n.resting),()=>{const h=p=>{const g=p.current;g||ne(),PE().removeChild(g),p.current=null};h(r),h(i)}},[e,s,o,n.always,n.resting,t]);const a=Se(()=>o(n.dragging),[o,n.dragging]),l=Se(d=>{if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=Se(()=>{i.current&&o(n.resting)},[o,n.resting]);return Ze(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function Pee(t,e){return Array.from(t.querySelectorAll(e))}var Mee=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function iC(t){return t instanceof Mee(t).HTMLElement}function wJe(t,e){const n=`[${Yf.contextId}="${t}"]`,r=Pee(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(Yf.draggableId)===e);return!i||!iC(i)?null:i}function SJe(t){const e=w.useRef({}),n=w.useRef(null),r=w.useRef(null),i=w.useRef(!1),o=Se(function(f,h){const p={id:f,focus:h};return e.current[f]=p,function(){const y=e.current;y[f]!==p&&delete y[f]}},[]),s=Se(function(f){const h=wJe(t,f);h&&h!==document.activeElement&&h.focus()},[t]),a=Se(function(f,h){n.current===f&&(n.current=h)},[]),l=Se(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&s(f)}))},[s]),c=Se(function(f){n.current=null;const h=document.activeElement;h&&h.getAttribute(Yf.draggableId)===f&&(n.current=f)},[]);return oi(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),Ze(()=>({register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[o,c,l,a])}function CJe(){const t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){const h=e.indexOf(d);h!==-1&&e.splice(h,1)}}function r(d){e.length&&e.forEach(f=>f(d))}function i(d){return t.draggables[d]||null}function o(d){const f=i(d);return f||ne(),f}const s={register:d=>{t.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,f)=>{const h=t.draggables[f.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete t.draggables[f.descriptor.id],t.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,h=i(f);h&&d.uniqueId===h.uniqueId&&(delete t.draggables[f],t.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:o,findById:i,exists:d=>!!i(d),getAllByType:d=>Object.values(t.draggables).filter(f=>f.descriptor.type===d)};function a(d){return t.droppables[d]||null}function l(d){const f=a(d);return f||ne(),f}const c={register:d=>{t.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete t.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(t.droppables).filter(f=>f.descriptor.type===d)};function u(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:c,subscribe:n,clean:u}}function kJe(){const t=Ze(CJe,[]);return w.useEffect(()=>function(){t.clean()},[t]),t}var k$=M.createContext(null),Rw=()=>{const t=document.body;return t||ne(),t};const EJe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},AJe=t=>`rfd-announcement-${t}`;function OJe(t){const e=Ze(()=>AJe(t),[t]),n=w.useRef(null);return w.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Hx(o.style,EJe),Rw().appendChild(o),function(){setTimeout(function(){const l=Rw();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]),Se(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const TJe={separator:"::"};function E$(t,e=TJe){const n=M.useId();return Ze(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}function NJe({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function PJe({contextId:t,text:e}){const n=E$("hidden-text",{separator:"-"}),r=Ze(()=>NJe({contextId:t,uniqueId:n}),[n,t]);return w.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=e,o.style.display="none",Rw().appendChild(o),function(){const a=Rw();a.contains(o)&&a.removeChild(o)}},[r,e]),r}var oC=M.createContext(null);function _ee(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),e}function MJe(){let t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&ne();const a={abandon:s};return t=a,a}function i(){t||ne(),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}function Fg(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const _Je=9,jJe=13,A$=27,jee=32,$Je=33,IJe=34,RJe=35,DJe=36,LJe=37,FJe=38,BJe=39,zJe=40,VJe={[jJe]:!0,[_Je]:!0};var $ee=t=>{VJe[t.keyCode]&&t.preventDefault()};const sC=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})(),Iee=0,M4=5;function WJe(t,e){return Math.abs(e.x-t.x)>=M4||Math.abs(e.y-t.y)>=M4}const _4={type:"IDLE"};function HJe({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:a}=i;if(o!==Iee)return;const l={x:s,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&ne();const u=c.point;if(!WJe(u,l))return;i.preventDefault();const d=c.actions.fluidLift(l);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===A$){i.preventDefault(),t();return}$ee(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&ne(),o.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:sC,fn:t}]}function UJe(t){const e=w.useRef(_4),n=w.useRef(pl),r=Ze(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==Iee||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=t.findClosestDraggableId(d);if(!f)return;const h=t.tryGetLock(f,s,{sourceEvent:d});if(!h)return;d.preventDefault();const p={x:d.clientX,y:d.clientY};n.current(),c(h,p)}}),[t]),i=Ze(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const d=t.findClosestDraggableId(u);if(!d)return;const f=t.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||t.canGetLock(d)&&u.preventDefault())}}),[t]),o=Se(function(){const d={passive:!1,capture:!0};n.current=Ni(window,[i,r],d)},[i,r]),s=Se(()=>{e.current.type!=="IDLE"&&(e.current=_4,n.current(),o())},[o]),a=Se(()=>{const u=e.current;s(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[s]),l=Se(function(){const d={capture:!0,passive:!1},f=HJe({cancel:a,completed:s,getPhase:()=>e.current,setPhase:h=>{e.current=h}});n.current=Ni(window,f,d)},[a,s]),c=Se(function(d,f){e.current.type!=="IDLE"&&ne(),e.current={type:"PENDING",point:f,actions:d},l()},[l]);oi(function(){return o(),function(){n.current()}},[o])}function KJe(){}const GJe={[IJe]:!0,[$Je]:!0,[DJe]:!0,[RJe]:!0};function qJe(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===A$){i.preventDefault(),n();return}if(i.keyCode===jee){i.preventDefault(),r();return}if(i.keyCode===zJe){i.preventDefault(),t.moveDown();return}if(i.keyCode===FJe){i.preventDefault(),t.moveUp();return}if(i.keyCode===BJe){i.preventDefault(),t.moveRight();return}if(i.keyCode===LJe){i.preventDefault(),t.moveLeft();return}if(GJe[i.keyCode]){i.preventDefault();return}$ee(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:sC,fn:n}]}function YJe(t){const e=w.useRef(KJe),n=Ze(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==jee)return;const s=t.findClosestDraggableId(o);if(!s)return;const a=t.tryGetLock(s,u,{sourceEvent:o});if(!a)return;o.preventDefault();let l=!0;const c=a.snapLift();e.current();function u(){l||ne(),l=!1,e.current(),r()}e.current=Ni(window,qJe(c,u),{capture:!0,passive:!1})}}),[t]),r=Se(function(){const o={passive:!1,capture:!0};e.current=Ni(window,[n],o)},[n]);oi(function(){return r(),function(){e.current()}},[r])}const ME={type:"IDLE"},XJe=120,JJe=.15;function ZJe({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===A$&&n.preventDefault(),t()}},{eventName:sC,fn:t}]}function QJe({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],a={x:o,y:s};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&ne();const o=r.touches[0];if(!o||!(o.force>=JJe))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:sC,fn:t}]}function eZe(t){const e=w.useRef(ME),n=w.useRef(pl),r=Se(function(){return e.current},[]),i=Se(function(h){e.current=h},[]),o=Ze(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const p=t.findClosestDraggableId(h);if(!p)return;const g=t.tryGetLock(p,a,{sourceEvent:h});if(!g)return;const y=h.touches[0],{clientX:v,clientY:b}=y,x={x:v,y:b};n.current(),d(g,x)}}),[t]),s=Se(function(){const h={capture:!0,passive:!1};n.current=Ni(window,[o],h)},[o]),a=Se(()=>{const f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(ME),n.current(),s())},[s,i]),l=Se(()=>{const f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),c=Se(function(){const h={capture:!0,passive:!1},p={cancel:l,completed:a,getPhase:r},g=Ni(window,QJe(p),h),y=Ni(window,ZJe(p),h);n.current=function(){g(),y()}},[l,r,a]),u=Se(function(){const h=r();h.type!=="PENDING"&&ne();const p=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:p,hasMoved:!1})},[r,i]),d=Se(function(h,p){r().type!=="IDLE"&&ne();const g=setTimeout(u,XJe);i({type:"PENDING",point:p,actions:h,longPressTimerId:g}),c()},[c,r,i,u]);oi(function(){return s(),function(){n.current();const p=r();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),i(ME))}},[r,s,i]),oi(function(){return Ni(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const tZe=["input","button","textarea","select","option","optgroup","video","audio"];function Ree(t,e){if(e==null)return!1;if(tZe.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:Ree(t,e.parentElement)}function nZe(t,e){const n=e.target;return iC(n)?Ree(t,n):!1}var rZe=t=>io(t.getBoundingClientRect()).center;function iZe(t){return t instanceof Mee(t).Element}const oZe=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function Dee(t,e){return t==null?null:t[oZe](e)?t:Dee(t.parentElement,e)}function sZe(t,e){return t.closest?t.closest(e):Dee(t,e)}function aZe(t){return`[${Yf.contextId}="${t}"]`}function lZe(t,e){const n=e.target;if(!iZe(n))return null;const r=aZe(t),i=sZe(n,r);return!i||!iC(i)?null:i}function cZe(t,e){const n=lZe(t,e);return n?n.getAttribute(Yf.draggableId):null}function uZe(t,e){const n=`[${qN.contextId}="${t}"]`,i=Pee(document,n).find(o=>o.getAttribute(qN.id)===e);return!i||!iC(i)?null:i}function dZe(t){t.preventDefault()}function Fv({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function Lee({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!Aee(e.getState(),r))}function fZe({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!Lee({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),c=uZe(e,l.descriptor.id);if(!c||s&&!l.options.canDragInteractiveElements&&nZe(c,s))return null;const u=t.claim(o||pl);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function h(){return t.isActive(u)}function p(S,k){Fv({expected:S,phase:d,isLockActive:h,shouldWarn:!0})&&n.dispatch(k())}const g=p.bind(null,"DRAGGING");function y(S){function k(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(k(),ne()),n.dispatch(sXe(S.liftActionArgs)),d="DRAGGING";function E(A,O={shouldBlockNextClick:!1}){if(S.cleanup(),O.shouldBlockNextClick){const P=Ni(window,[{eventName:"click",fn:dZe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}k(),n.dispatch(vee({reason:A}))}return{isActive:()=>Fv({expected:"DRAGGING",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,drop:A=>E("DROP",A),cancel:A=>E("CANCEL",A),...S.actions}}function v(S){const k=jg(A=>{g(()=>yee({client:A}))});return{...y({liftActionArgs:{id:i,clientSelection:S,movementMode:"FLUID"},cleanup:()=>k.cancel(),actions:{move:k}}),move:k}}function b(){const S={moveUp:()=>g(mXe),moveRight:()=>g(yXe),moveDown:()=>g(gXe),moveLeft:()=>g(vXe)};return y({liftActionArgs:{id:i,clientSelection:rZe(c),movementMode:"SNAP"},cleanup:pl,actions:S})}function x(){Fv({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!0})&&t.release()}return{isActive:()=>Fv({expected:"PRE_DRAG",phase:d,isLockActive:h,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:v,snapLift:b,abort:x}}const hZe=[UJe,YJe,eZe];function pZe({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?hZe:[],...r||[]],s=w.useState(()=>MJe())[0],a=Se(function(y,v){Fg(y)&&!Fg(v)&&s.tryAbandon()},[s]);oi(function(){let y=e.getState();return e.subscribe(()=>{const b=e.getState();a(y,b),y=b})},[s,e,a]),oi(()=>s.tryAbandon,[s.tryAbandon]);const l=Se(g=>Lee({lockAPI:s,registry:n,store:e,draggableId:g}),[s,n,e]),c=Se((g,y,v)=>fZe({lockAPI:s,registry:n,contextId:t,store:e,draggableId:g,forceSensorStop:y||null,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null}),[t,s,n,e]),u=Se(g=>cZe(t,g),[t]),d=Se(g=>{const y=n.draggable.findById(g);return y?y.options:null},[n.draggable]),f=Se(function(){s.isClaimed()&&(s.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(y$()))},[s,e]),h=Se(()=>s.isClaimed(),[s]),p=Ze(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:h}),[l,c,u,d,f,h]);for(let g=0;g<o.length;g++)o[g](p)}const mZe=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};Zs.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),gZe=t=>({...Lg,...t.autoScrollerOptions,durationDampening:{...Lg.durationDampening,...t.autoScrollerOptions}});function np(t){return t.current||ne(),t.current}function yZe(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=t,s=w.useRef(null),a=_ee(t),l=Se(()=>mZe(a.current),[a]),c=Se(()=>gZe(a.current),[a]),u=OJe(e),d=PJe({contextId:e,text:o}),f=xJe(e,i),h=Se(P=>{np(s).dispatch(P)},[]),p=Ze(()=>o4({publishWhileDragging:lXe,updateDroppableScroll:uXe,updateDroppableIsEnabled:dXe,updateDroppableIsCombineEnabled:fXe,collectionStarting:cXe},h),[h]),g=kJe(),y=Ze(()=>ZXe(g,p),[g,p]),v=Ze(()=>mJe({scrollWindow:QXe,scrollDroppable:y.scrollDroppable,getAutoScrollerOptions:c,...o4({move:yee},h)}),[y.scrollDroppable,h,c]),b=SJe(e),x=Ze(()=>qXe({announce:u,autoScroller:v,dimensionMarshal:y,focusMarshal:b,getResponders:l,styleMarshal:f}),[u,v,y,b,l,f]);s.current=x;const C=Se(()=>{const P=np(s);P.getState().phase!=="IDLE"&&P.dispatch(y$())},[]),S=Se(()=>{const P=np(s).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),k=Ze(()=>({isDragging:S,tryAbort:C}),[S,C]);n(k);const E=Se(P=>Aee(np(s).getState(),P),[]),A=Se(()=>oc(np(s).getState()),[]),O=Ze(()=>({marshal:y,focus:b,contextId:e,canLift:E,isMovementAllowed:A,dragHandleUsageInstructionsId:d,registry:g}),[e,y,d,b,E,A,g]);return pZe({contextId:e,store:x,registry:g,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),w.useEffect(()=>C,[C]),M.createElement(oC.Provider,{value:O},M.createElement(B7e,{context:k$,store:x},t.children))}function vZe(){return M.useId()}function bZe(t){const e=vZe(),n=t.dragHandleUsageInstructions||Eb.dragHandleUsageInstructions;return M.createElement(X7e,null,r=>M.createElement(yZe,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const j4={dragging:5e3,dropAnimating:4500},xZe=(t,e)=>e?lm.drop(e.duration):t?lm.snap:lm.fluid,wZe=(t,e)=>{if(t)return e?Dg.opacity.drop:Dg.opacity.combining},SZe=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function CZe(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:o}=t,s=!!i,a=SZe(t),l=!!o,c=l?KN.drop(r,s):KN.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:xZe(a,o),transform:c,opacity:wZe(s,l),zIndex:l?j4.dropAnimating:j4.dragging,pointerEvents:"none"}}function kZe(t){return{transform:KN.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function EZe(t){return t.type==="DRAGGING"?CZe(t):kZe(t)}function AZe(t,e,n=jn){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=KQ(i,r),s=_w(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:l,client:o,page:s}}function OZe(t){const e=E$("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=t,l=Ze(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),c=Se(h=>{const p=i();return p||ne(),AZe(n,p,h)},[n,i]),u=Ze(()=>({uniqueId:e,descriptor:n,options:l,getDimension:c}),[n,c,l,e]),d=w.useRef(u),f=w.useRef(!0);oi(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),oi(()=>{if(f.current){f.current=!1;return}const h=d.current;d.current=u,r.draggable.update(u,h)},[u,r.draggable])}var O$=M.createContext(null);function Dw(t){const e=w.useContext(t);return e||ne(),e}function TZe(t){t.preventDefault()}const NZe=t=>{const e=w.useRef(null),n=Se((k=null)=>{e.current=k},[]),r=Se(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Dw(oC),{type:a,droppableId:l}=Dw(O$),c=Ze(()=>({id:t.draggableId,index:t.index,type:a,droppableId:l}),[t.draggableId,t.index,a,l]),{children:u,draggableId:d,isEnabled:f,shouldRespectForcePress:h,canDragInteractiveElements:p,isClone:g,mapped:y,dropAnimationFinished:v}=t;if(!g){const k=Ze(()=>({descriptor:c,registry:s,getDraggableRef:r,canDragInteractiveElements:p,shouldRespectForcePress:h,isEnabled:f}),[c,s,r,p,h,f]);OZe(k)}const b=Ze(()=>f?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:TZe}:null,[i,o,d,f]),x=Se(k=>{y.type==="DRAGGING"&&y.dropping&&k.propertyName==="transform"&&Zs.flushSync(v)},[v,y]),C=Ze(()=>{const k=EZe(y),E=y.type==="DRAGGING"&&y.dropping?x:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":d,style:k,onTransitionEnd:E},dragHandleProps:b}},[i,b,d,y,x,n]),S=Ze(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return M.createElement(M.Fragment,null,u(C,y.snapshot,S))};var Fee=(t,e)=>t===e,Bee=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const PZe=t=>t.combine?t.combine.draggableId:null,MZe=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function _Ze(){const t=_n((i,o)=>({x:i,y:o})),e=_n((i,o,s=null,a=null,l=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null})),n=_n((i,o,s,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:u,snapshot:e(o,a,l,c,null)}}));return(i,o)=>{if(Fg(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],l=ii(i.impact),c=MZe(i.impact),u=i.forceShouldAnimate;return n(t(s.x,s.y),i.movementMode,a,o.isClone,l,c,u)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,l=i.dimensions.draggables[o.draggableId],c=s.result,u=c.mode,d=Bee(c),f=PZe(c),p={duration:i.dropDuration,curve:b$.drop,moveTo:i.newHomeClientOffset,opacity:f?Dg.opacity.drop:null,scale:f?Dg.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:p,draggingOver:d,combineWith:f,mode:u,forceShouldAnimate:null,snapshot:e(u,a,d,f,p)}}}return null}}function zee(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const jZe={mapped:{type:"SECONDARY",offset:jn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:zee(null)}};function $Ze(){const t=_n((s,a)=>({x:s,y:a})),e=_n(zee),n=_n((s,a=null,l)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}})),r=s=>s?n(jn,s,!0):null,i=(s,a,l,c)=>{const u=l.displaced.visible[s],d=!!(c.inVirtualList&&c.effected[s]),f=tC(l),h=f&&f.draggableId===s?a:null;if(!u){if(!d)return r(h);if(l.displaced.invisible[s])return null;const y=Ah(c.displacedBy.point),v=t(y.x,y.y);return n(v,h,!0)}if(d)return r(h);const p=l.displacedBy.point,g=t(p.x,p.y);return n(g,h,u.shouldAnimate)};return(s,a)=>{if(Fg(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const l=s.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const IZe=()=>{const t=_Ze(),e=$Ze();return(r,i)=>t(r,i)||e(r,i)||jZe},RZe={dropAnimationFinished:bee},DZe=HQ(IZe,RZe,null,{context:k$,areStatePropsEqual:Fee})(NZe);function Vee(t){return Dw(O$).isUsingCloneFor===t.draggableId&&!t.isClone?null:M.createElement(DZe,t)}function Wee(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return M.createElement(Vee,Hx({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Hee=t=>e=>t===e,LZe=Hee("scroll"),FZe=Hee("auto"),$4=(t,e)=>e(t.overflowX)||e(t.overflowY),BZe=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return $4(n,LZe)||$4(n,FZe)},zZe=()=>!1,Uee=t=>t==null?null:t===document.body?zZe()?t:null:t===document.documentElement?null:BZe(t)?t:Uee(t.parentElement);var YN=t=>({x:t.scrollLeft,y:t.scrollTop});const Kee=t=>t?window.getComputedStyle(t).position==="fixed"?!0:Kee(t.parentElement):!1;var VZe=t=>{const e=Uee(t),n=Kee(t);return{closestScrollable:e,isFixedOnPage:n}},WZe=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:h}=a,p=Cee({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:h.paddingBox.height,width:h.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:h,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:p,diff:{value:jn,displacement:jn}}}})(),c=i==="vertical"?f$:nee,u=Gf({page:s,withPlaceholder:null,axis:c,frame:l});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:e,client:o,page:s,frame:l,subject:u}};const HZe=(t,e)=>{const n=GQ(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,o=r+e.scrollHeight,s=i+e.scrollWidth,l=l$({top:r,right:s,bottom:o,left:i},n.border);return c$({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var UZe=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:a})=>{const l=n.closestScrollable,c=HZe(t,l),u=_w(c,r),d=(()=>{if(!l)return null;const h=GQ(l),p={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:h,page:_w(h,r),scroll:YN(l),scrollSize:p,shouldClipSubject:a}})();return WZe({descriptor:e,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:u,closest:d})};const KZe={passive:!1},GZe={passive:!0};var I4=t=>t.shouldPublishImmediately?KZe:GZe;const Bv=t=>t&&t.env.closestScrollable||null;function qZe(t){const e=w.useRef(null),n=Dw(oC),r=E$("droppable"),{registry:i,marshal:o}=n,s=_ee(t),a=Ze(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),l=w.useRef(a),c=Ze(()=>_n((C,S)=>{e.current||ne();const k={x:C,y:S};o.updateDroppableScroll(a.id,k)}),[a.id,o]),u=Se(()=>{const C=e.current;return!C||!C.env.closestScrollable?jn:YN(C.env.closestScrollable)},[]),d=Se(()=>{const C=u();c(C.x,C.y)},[u,c]),f=Ze(()=>jg(d),[d]),h=Se(()=>{const C=e.current,S=Bv(C);if(C&&S||ne(),C.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),p=Se((C,S)=>{e.current&&ne();const k=s.current,E=k.getDroppableRef();E||ne();const A=VZe(E),O={ref:E,descriptor:a,env:A,scrollOptions:S};e.current=O;const P=UZe({ref:E,descriptor:a,env:A,windowScroll:C,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),T=A.closestScrollable;return T&&(T.setAttribute(N4.contextId,n.contextId),T.addEventListener("scroll",h,I4(O.scrollOptions))),P},[n.contextId,a,h,s]),g=Se(()=>{const C=e.current,S=Bv(C);return C&&S||ne(),YN(S)},[]),y=Se(()=>{const C=e.current;C||ne();const S=Bv(C);e.current=null,S&&(f.cancel(),S.removeAttribute(N4.contextId),S.removeEventListener("scroll",h,I4(C.scrollOptions)))},[h,f]),v=Se(C=>{const S=e.current;S||ne();const k=Bv(S);k||ne(),k.scrollTop+=C.y,k.scrollLeft+=C.x},[]),b=Ze(()=>({getDimensionAndWatchScroll:p,getScrollWhileDragging:g,dragStopped:y,scroll:v}),[y,p,g,v]),x=Ze(()=>({uniqueId:r,descriptor:a,callbacks:b}),[b,a,r]);oi(()=>(l.current=x.descriptor,i.droppable.register(x),()=>{e.current&&y(),i.droppable.unregister(x)}),[b,a,y,x,o,i.droppable]),oi(()=>{e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),oi(()=>{e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function _E(){}const R4={width:0,height:0,margin:nYe},YZe=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?R4:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},XZe=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=YZe({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?lm.placeholder:null}},JZe=t=>{const e=w.useRef(null),n=Se(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=t,[a,l]=w.useState(t.animate==="open");w.useEffect(()=>a?r!=="open"?(n(),l(!1),_E):e.current?_E:(e.current=setTimeout(()=>{e.current=null,l(!1)}),n):_E,[r,a,n]);const c=Se(d=>{d.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),u=XZe({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return M.createElement(t.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":s,onTransitionEnd:c,ref:t.innerRef})};var ZZe=M.memo(JZe);class QZe extends M.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const eQe=t=>{const e=w.useContext(oC);e||ne();const{contextId:n,isMovementAllowed:r}=e,i=w.useRef(null),o=w.useRef(null),{children:s,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:h,snapshot:p,useClone:g,updateViewportMaxScroll:y,getContainerForClone:v}=t,b=Se(()=>i.current,[]),x=Se((T=null)=>{i.current=T},[]);Se(()=>o.current,[]);const C=Se((T=null)=>{o.current=T},[]),S=Se(()=>{r()&&y({maxScroll:Eee()})},[r,y]);qZe({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:b});const k=Ze(()=>M.createElement(QZe,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:T,data:N,animate:$})=>M.createElement(ZZe,{placeholder:N,onClose:T,innerRef:C,animate:$,contextId:n,onTransitionEnd:S})),[n,S,t.placeholder,t.shouldAnimatePlaceholder,C]),E=Ze(()=>({innerRef:x,placeholder:k,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,k,x]),A=g?g.dragging.draggableId:null,O=Ze(()=>({droppableId:a,type:l,isUsingCloneFor:A}),[a,A,l]);function P(){if(!g)return null;const{dragging:T,render:N}=g,$=M.createElement(Vee,{draggableId:T.draggableId,index:T.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(_,I)=>N(_,I,T));return JP.createPortal($,v())}return M.createElement(O$.Provider,{value:O},s(E,p),P())};function tQe(){return document.body||ne(),document.body}const D4={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:tQe},Gee=t=>{let e={...t},n;for(n in D4)t[n]===void 0&&(e={...e,[n]:D4[n]});return e},jE=(t,e)=>t===e.droppable.type,L4=(t,e)=>e.draggables[t.draggable.id],nQe=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=_n(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=_n((o,s,a,l,c,u)=>{const d=c.descriptor.id;if(c.descriptor.droppableId===o){const p=u?{render:u,dragging:n(c.descriptor)}:null,g={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:p}}if(!s)return e;if(!l)return t;const h={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(o,s)=>{const a=Gee(s),l=a.droppableId,c=a.type,u=!a.isDropDisabled,d=a.renderClone;if(Fg(o)){const f=o.critical;if(!jE(c,f))return e;const h=L4(f,o.dimensions),p=ii(o.impact)===l;return r(l,u,p,p,h,d)}if(o.phase==="DROP_ANIMATING"){const f=o.completed;if(!jE(c,f.critical))return e;const h=L4(f.critical,o.dimensions);return r(l,u,Bee(f.result)===l,ii(f.impact)===l,h,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const f=o.completed;if(!jE(c,f.critical))return e;const h=ii(f.impact)===l,p=!!(f.impact.at&&f.impact.at.type==="COMBINE"),g=f.critical.droppable.id===l;return h?p?t:e:g?t:e}return e}},rQe={updateViewportMaxScroll:pXe},iQe=HQ(nQe,rQe,(t,e,n)=>({...Gee(n),...t,...e}),{context:k$,areStatePropsEqual:Fee})(eQe);var qee=iQe;let F4=0;function B4(){return F4++,`block-${Date.now()}-${F4}-${Math.random().toString(36).slice(2,8)}`}const oQe=[{type:"text",label:"Texto",icon:joe},{type:"image",label:"Imagem",icon:XW},{type:"button",label:"Boto",icon:l1},{type:"divider",label:"Divisor",icon:yoe},{type:"columns",label:"Colunas",icon:soe},{type:"html",label:"HTML",icon:ooe},{type:"video",label:"Vdeo",icon:Doe},{type:"spacer",label:"Espao",icon:Toe},{type:"feed",label:"Feed",icon:Eoe},{type:"social",label:"Redes Sociais",icon:Aoe}];function sQe(){return m.jsxs("div",{className:"w-56 shrink-0 border-r border-border bg-card p-4 space-y-3 overflow-y-auto",children:[m.jsx("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-3",children:"Blocos"}),m.jsx(qee,{droppableId:"palette",isDropDisabled:!0,children:t=>m.jsxs("div",{ref:t.innerRef,...t.droppableProps,className:"space-y-2",children:[oQe.map((e,n)=>m.jsx(Wee,{draggableId:`palette-${e.type}`,index:n,children:(r,i)=>m.jsxs("div",{ref:r.innerRef,...r.draggableProps,...r.dragHandleProps,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg border border-border bg-secondary/50 cursor-grab text-sm font-medium transition-all hover:border-primary/40 hover:bg-primary/5 ${i.isDragging?"shadow-lg ring-2 ring-primary/30":""}`,children:[m.jsx(e.icon,{className:"w-4 h-4 text-primary shrink-0"}),m.jsx("span",{children:e.label})]})},e.type)),t.placeholder]})})]})}function aQe({block:t}){const e=t.props;switch(t.type){case"text":return m.jsx("div",{style:{fontSize:Number(e.fontSize),color:String(e.color),textAlign:e.align},className:"min-h-[24px] whitespace-pre-wrap break-words",children:String(e.content)});case"image":return m.jsx("div",{className:"flex justify-center",children:m.jsx("img",{src:String(e.src),alt:String(e.alt),style:{width:String(e.width),maxWidth:"100%"},className:"rounded"})});case"button":return m.jsx("div",{style:{textAlign:e.align},children:m.jsx("a",{href:String(e.url),onClick:n=>n.preventDefault(),style:{backgroundColor:String(e.bgColor),color:String(e.textColor),borderRadius:`${Number(e.borderRadius)}px`},className:"inline-block px-6 py-3 font-semibold text-sm no-underline",children:String(e.text)})});case"divider":return m.jsx("div",{style:{margin:`${Number(e.margin)}px 0`},children:m.jsx("hr",{style:{borderColor:String(e.color),borderTopWidth:`${Number(e.height)}px`},className:"border-0 border-t"})});case"columns":return m.jsx("div",{style:{gap:`${Number(e.gap)}px`,gridTemplateColumns:`repeat(${Number(e.columns)}, 1fr)`},className:"grid min-h-[60px] rounded border border-dashed border-border/60",children:Array.from({length:Number(e.columns)}).map((n,r)=>m.jsxs("div",{className:"p-4 text-center text-xs text-muted-foreground",children:["Coluna ",r+1]},r))});case"html":return m.jsx("div",{dangerouslySetInnerHTML:{__html:String(e.code)}});case"video":return m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{style:{width:String(e.width),maxWidth:"100%"},className:"relative rounded overflow-hidden bg-gray-900 text-white flex items-center justify-center min-h-[180px] cursor-pointer",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),m.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[m.jsx("div",{className:"w-14 h-14 rounded-full bg-white/20 backdrop-blur flex items-center justify-center text-2xl",children:""}),m.jsx("span",{className:"text-sm font-medium",children:String(e.thumbnailText)})]})]})});case"spacer":return m.jsx("div",{style:{height:`${Number(e.height)}px`},className:"w-full"});case"feed":{const n=Number(e.items)||3,r=String(e.layout)==="vertical";return m.jsx("div",{className:r?"space-y-3":"grid grid-cols-3 gap-3",children:Array.from({length:n}).map((i,o)=>m.jsxs("div",{className:"border border-dashed border-gray-300 rounded-lg p-3 flex gap-3 items-start",children:[m.jsx("div",{className:"w-16 h-16 shrink-0 rounded bg-gray-200"}),m.jsxs("div",{className:"flex-1 space-y-1.5",children:[m.jsx("div",{className:"h-3 w-3/4 bg-gray-200 rounded"}),m.jsx("div",{className:"h-2 w-full bg-gray-100 rounded"}),m.jsx("div",{className:"h-2 w-2/3 bg-gray-100 rounded"})]})]},o))})}case"social":{const n=e.networks||[],r=Number(e.iconSize)||28,i=String(e.color||"#333333"),o={facebook:"f",instagram:"",twitter:"",linkedin:"in",youtube:"",tiktok:""};return m.jsx("div",{className:"flex gap-3 flex-wrap",style:{justifyContent:String(e.align)},children:n.map(s=>m.jsx("div",{style:{width:r,height:r,fontSize:r*.45,backgroundColor:i},className:"rounded-full text-white flex items-center justify-center font-bold",title:s,children:o[s]||s[0]},s))})}default:return m.jsx("div",{className:"text-muted-foreground text-xs",children:"Bloco desconhecido"})}}function lQe({blocks:t,selectedId:e,previewMode:n,onSelect:r,onDelete:i}){return m.jsx("div",{className:"flex-1 overflow-auto p-6 bg-muted/30",children:m.jsxs("div",{className:ce("mx-auto bg-white rounded-lg shadow-lg transition-all duration-300 min-h-[600px]",n==="desktop"?"max-w-[640px]":"max-w-[375px]"),children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-100",children:[m.jsx("div",{className:"h-2 w-24 bg-gray-200 rounded mb-2"}),m.jsx("div",{className:"h-2 w-40 bg-gray-100 rounded"})]}),m.jsx(qee,{droppableId:"canvas",children:(o,s)=>m.jsxs("div",{ref:o.innerRef,...o.droppableProps,className:ce("p-6 space-y-3 min-h-[400px] transition-colors",s.isDraggingOver&&"bg-primary/5"),children:[t.length===0&&!s.isDraggingOver&&m.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[m.jsx("p",{className:"text-sm font-medium",children:"Arraste blocos aqui"}),m.jsx("p",{className:"text-xs mt-1",children:"Monte seu template de email"})]}),t.map((a,l)=>m.jsx(Wee,{draggableId:a.id,index:l,children:(c,u)=>m.jsxs("div",{ref:c.innerRef,...c.draggableProps,onClick:()=>r(a.id),className:ce("group relative rounded-md border transition-all cursor-pointer",e===a.id?"border-[hsl(185,65%,48%)] ring-2 ring-[hsl(185,65%,48%)]/20":"border-transparent hover:border-gray-200",u.isDragging&&"shadow-xl"),children:[m.jsx("div",{...c.dragHandleProps,className:"absolute -left-8 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-gray-600 cursor-grab",children:m.jsx(loe,{className:"w-4 h-4"})}),m.jsx("button",{onClick:d=>{d.stopPropagation(),i(a.id)},className:"absolute -right-8 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-red-500",children:m.jsx(Pd,{className:"w-4 h-4"})}),m.jsx("div",{className:"p-3",children:m.jsx(aQe,{block:a})})]})},a.id)),o.placeholder]})})]})})}const XN=w.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));XN.displayName="Textarea";var Yee=["PageUp","PageDown"],Xee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Jee={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Nh="Slider",[JN,cQe,uQe]=Qf(Nh),[Zee,ant]=Or(Nh,[uQe]),[dQe,aC]=Zee(Nh),Qee=w.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:d=()=>{},onValueCommit:f=()=>{},inverted:h=!1,form:p,...g}=t,y=w.useRef(new Set),v=w.useRef(0),x=s==="horizontal"?fQe:hQe,[C=[],S]=qo({prop:u,defaultProp:c,onChange:T=>{var $;($=[...y.current][v.current])==null||$.focus(),d(T)}}),k=w.useRef(C);function E(T){const N=vQe(C,T);P(T,N)}function A(T){P(T,v.current)}function O(){const T=k.current[v.current];C[v.current]!==T&&f(C)}function P(T,N,{commit:$}={commit:!1}){const _=SQe(o),I=CQe(Math.round((T-r)/o)*o+r,_),R=Ow(I,[r,i]);S((F=[])=>{const j=gQe(F,R,N);if(wQe(j,l*o)){v.current=j.indexOf(R);const L=String(j)!==String(F);return L&&$&&f(j),L?j:F}else return F})}return m.jsx(dQe,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:v,thumbs:y.current,values:C,orientation:s,form:p,children:m.jsx(JN.Provider,{scope:t.__scopeSlider,children:m.jsx(JN.Slot,{scope:t.__scopeSlider,children:m.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...g,ref:e,onPointerDown:xe(g.onPointerDown,()=>{a||(k.current=C)}),min:r,max:i,inverted:h,onSlideStart:a?void 0:E,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:O,onHomeKeyDown:()=>!a&&P(r,0,{commit:!0}),onEndKeyDown:()=>!a&&P(i,C.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:N})=>{if(!a){const I=Yee.includes(T.key)||T.shiftKey&&Xee.includes(T.key)?10:1,R=v.current,F=C[R],j=o*I*N;P(F+j,R,{commit:!0})}}})})})})});Qee.displayName=Nh;var[ete,tte]=Zee(Nh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),fQe=w.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,[d,f]=w.useState(null),h=Re(e,x=>f(x)),p=w.useRef(void 0),g=wh(i),y=g==="ltr",v=y&&!o||!y&&o;function b(x){const C=p.current||d.getBoundingClientRect(),S=[0,C.width],E=T$(S,v?[n,r]:[r,n]);return p.current=C,E(x-C.left)}return m.jsx(ete,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:m.jsx(nte,{dir:g,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const C=b(x.clientX);s==null||s(C)},onSlideMove:x=>{const C=b(x.clientX);a==null||a(C)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:x=>{const S=Jee[v?"from-left":"from-right"].includes(x.key);c==null||c({event:x,direction:S?-1:1})}})})}),hQe=w.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...c}=t,u=w.useRef(null),d=Re(e,u),f=w.useRef(void 0),h=!i;function p(g){const y=f.current||u.current.getBoundingClientRect(),v=[0,y.height],x=T$(v,h?[r,n]:[n,r]);return f.current=y,x(g-y.top)}return m.jsx(ete,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:m.jsx(nte,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=p(g.clientY);o==null||o(y)},onSlideMove:g=>{const y=p(g.clientY);s==null||s(y)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:g=>{const v=Jee[h?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:v?-1:1})}})})}),nte=w.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...c}=t,u=aC(Nh,n);return m.jsx(ye.span,{...c,ref:e,onKeyDown:xe(t.onKeyDown,d=>{d.key==="Home"?(s(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):Yee.concat(Xee).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:xe(t.onPointerDown,d=>{const f=d.target;f.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(f)?f.focus():r(d)}),onPointerMove:xe(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:xe(t.onPointerUp,d=>{const f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),o(d))})})}),rte="SliderTrack",ite=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=aC(rte,n);return m.jsx(ye.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});ite.displayName=rte;var ZN="SliderRange",ote=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=aC(ZN,n),o=tte(ZN,n),s=w.useRef(null),a=Re(e,s),l=i.values.length,c=i.values.map(f=>lte(f,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return m.jsx(ye.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[o.startEdge]:u+"%",[o.endEdge]:d+"%"}})});ote.displayName=ZN;var QN="SliderThumb",ste=w.forwardRef((t,e)=>{const n=cQe(t.__scopeSlider),[r,i]=w.useState(null),o=Re(e,a=>i(a)),s=w.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return m.jsx(pQe,{...t,ref:o,index:s})}),pQe=w.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...o}=t,s=aC(QN,n),a=tte(QN,n),[l,c]=w.useState(null),u=Re(e,b=>c(b)),d=l?s.form||!!l.closest("form"):!0,f=v1(l),h=s.values[r],p=h===void 0?0:lte(h,s.min,s.max),g=yQe(r,s.values.length),y=f==null?void 0:f[a.size],v=y?bQe(y,p,a.direction):0;return w.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${p}% + ${v}px)`},children:[m.jsx(JN.ItemSlot,{scope:t.__scopeSlider,children:m.jsx(ye.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":s.min,"aria-valuenow":h,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...o,ref:u,style:h===void 0?{display:"none"}:t.style,onFocus:xe(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})})}),d&&m.jsx(ate,{name:i??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:h},r)]})});ste.displayName=QN;var mQe="RadioBubbleInput",ate=w.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=w.useRef(null),o=Re(i,r),s=Y_(e);return w.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==e&&u){const d=new Event("input",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[s,e]),m.jsx(ye.input,{style:{display:"none"},...n,ref:o,defaultValue:e})});ate.displayName=mQe;function gQe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,o)=>i-o)}function lte(t,e,n){const o=100/(n-e)*(t-e);return Ow(o,[0,100])}function yQe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function vQe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function bQe(t,e,n){const r=t/2,o=T$([0,50],[0,r]);return(r-o(e)*n)*n}function xQe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function wQe(t,e){if(e>0){const n=xQe(t);return Math.min(...n)>=e}return!0}function T$(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function SQe(t){return(String(t).split(".")[1]||"").length}function CQe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var cte=Qee,kQe=ite,EQe=ote,AQe=ste;const ba=w.forwardRef(({className:t,...e},n)=>m.jsxs(cte,{ref:n,className:ce("relative flex w-full touch-none select-none items-center",t),...e,children:[m.jsx(kQe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:m.jsx(EQe,{className:"absolute h-full bg-primary"})}),m.jsx(AQe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ba.displayName=cte.displayName;let eP,tP;if(typeof WeakMap<"u"){let t=new WeakMap;eP=e=>t.get(e),tP=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;eP=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},tP=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Cs=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let o=r+1,s=i+1;for(let a=1;o<this.width&&this.map[e+a]==n;a++)o++;for(let a=1;s<this.height&&this.map[e+this.width*a]==n;a++)s++;return{left:r,top:i,right:o,bottom:s}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:s==this.height)?null:this.map[r+this.width*(n<0?o-1:s)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:o}=this.findCell(t),{left:s,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(n,s),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(o,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,!(i==t.left&&i&&this.map[o-1]==s||r==t.top&&r&&this.map[o-this.width]==s)&&e.push(s))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==t){let s=e+t*this.width;const a=(t+1)*this.width;for(;s<a&&this.map[s]<i;)s++;return s==a?o-1:this.map[s]}i=o}}static get(t){return eP(t)||tP(t,OQe(t))}};function OQe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=TQe(t),n=t.childCount,r=[];let i=0,o=null;const s=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=t.child(c);u++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==d.childCount)break;const g=d.child(p),{colspan:y,rowspan:v,colwidth:b}=g.attrs;for(let x=0;x<v;x++){if(x+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:v-x});break}const C=i+x*e;for(let S=0;S<y;S++){r[C+S]==0?r[C+S]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:y-S});const k=b&&b[S];if(k){const E=(C+S)%e*2,A=s[E];A==null||A!=k&&s[E+1]==1?(s[E]=k,s[E+1]=1):A==k&&s[E+1]++}}}i+=y,u+=g.nodeSize}const f=(c+1)*e;let h=0;for(;i<f;)r[i++]==0&&h++;h&&(o||(o=[])).push({type:"missing",row:c,n:h}),u++}(e===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const a=new Cs(e,n,r,o);let l=!1;for(let c=0;!l&&c<s.length;c+=2)s[c]!=null&&s[c+1]<n&&(l=!0);return l&&NQe(a,s,t),a}function TQe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let o=0;if(n)for(let s=0;s<r;s++){const a=t.child(s);for(let l=0;l<a.childCount;l++){const c=a.child(l);s+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const a=i.child(s);o+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=o:e!=o&&(e=Math.max(e,o))}return e}function NQe(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const o=t.map[i];if(r[o])continue;r[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let a=null;const l=s.attrs;for(let c=0;c<l.colspan;c++){const u=e[(i+c)%t.width*2];u!=null&&(!l.colwidth||l.colwidth[c]!=u)&&((a||(a=PQe(l)))[c]=u)}a&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}function PQe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function N$(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}new Zt("selectingCells");function MQe(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function ute(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function _Qe(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=MQe(e.$head)||jQe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function jQe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function z4(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function dte(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function fte(t,e,n){const r=t.node(-1),i=Cs.get(r),o=t.start(-1),s=i.nextCell(t.pos-o,e,n);return s==null?null:t.node(0).resolve(o+s)}function V4(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}var Ls=class ys extends Me{constructor(e,n=e){const r=e.node(-1),i=Cs.get(r),o=e.start(-1),s=i.rectBetween(e.pos-o,n.pos-o),a=e.node(0),l=i.cellsInRect(s).filter(u=>u!=n.pos-o);l.unshift(n.pos-o);const c=l.map(u=>{const d=r.nodeAt(u);if(!d)throw new RangeError(`No cell with offset ${u} found`);const f=o+u+1;return new b7(a.resolve(f),a.resolve(f+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(z4(r)&&z4(i)&&dte(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?ys.rowSelection(r,i):o&&this.isColSelection()?ys.colSelection(r,i):new ys(r,i)}return We.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Cs.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},s=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,d=i.left;d<i.right;d++,u++){const f=n.map[u];if(o[f])continue;o[f]=!0;const h=n.findCell(f);let p=e.nodeAt(f);if(!p)throw new RangeError(`No cell with offset ${f} found`);const g=i.left-h.left,y=h.right-i.right;if(g>0||y>0){let v=p.attrs;if(g>0&&(v=V4(v,0,g)),y>0&&(v=V4(v,v.colspan-y,y)),h.left<i.left){if(p=p.type.createAndFill(v),!p)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(v)}`)}else p=p.type.create(v,p.content)}if(h.top<i.top||h.bottom>i.bottom){const v={...p.attrs,rowspan:Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top)};h.top<i.top?p=p.type.createAndFill(v):p=p.type.create(v,p.content)}c.push(p)}s.push(e.child(l).copy(ee.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:s;return new he(ee.from(a),1,1)}replace(e,n=he.empty){const r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){const{$from:a,$to:l}=i[s],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),s?he.empty:n)}const o=Me.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,n){this.replace(e,new he(ee.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Cs.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let s=0;s<o.length;s++)e(n.nodeAt(o[s]),i+o[s])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Cs.get(r),o=e.start(-1),s=i.findCell(e.pos-o),a=i.findCell(n.pos-o),l=e.node(0);return s.top<=a.top?(s.top>0&&(e=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(e=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))),new ys(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Cs.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const s=i+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,a)==n.width}eq(e){return e instanceof ys&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Cs.get(r),o=e.start(-1),s=i.findCell(e.pos-o),a=i.findCell(n.pos-o),l=e.node(0);return s.left<=a.left?(s.left>0&&(e=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(n=l.resolve(o+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(e=l.resolve(o+i.map[i.width*(s.top+1)-1]))),new ys(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new ys(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new ys(e.resolve(n),e.resolve(r))}getBookmark(){return new $Qe(this.$anchorCell.pos,this.$headCell.pos)}};Ls.prototype.visible=!1;Me.jsonID("cell",Ls);var $Qe=class hte{constructor(e,n){this.anchor=e,this.head=n}map(e){return new hte(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&dte(n,r)?new Ls(n,r):Me.near(r,1)}};new Zt("fix-tables");function pte(t){const e=t.selection,n=_Qe(t),r=n.node(-1),i=n.start(-1),o=Cs.get(r);return{...e instanceof Ls?o.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function IQe(t){return function(e,n){if(!ute(e))return!1;if(n){const r=N$(e.schema),i=pte(e),o=e.tr,s=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=s.map(l=>i.table.nodeAt(l));for(let l=0;l<s.length;l++)a[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[l],r.cell,a[l].attrs);if(o.steps.length===0)for(let l=0;l<s.length;l++)o.setNodeMarkup(i.tableStart+s[l],r.header_cell,a[l].attrs);n(o)}return!0}}function W4(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function P$(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?IQe(t):function(n,r){if(!ute(n))return!1;if(r){const i=N$(n.schema),o=pte(n),s=n.tr,a=W4("row",o,i),l=W4("column",o,i),c=(t==="column"?a:t==="row"&&l)?1:0,u=t=="column"?{left:0,top:c,right:1,bottom:o.map.height}:t=="row"?{left:c,top:0,right:o.map.width,bottom:1}:o,d=t=="column"?l?i.cell:i.header_cell:t=="row"?a?i.cell:i.header_cell:i.cell;o.map.cellsInRect(u).forEach(f=>{const h=f+o.tableStart,p=s.doc.nodeAt(h);p&&s.setNodeMarkup(h,d,p.attrs)}),r(s)}return!0}}P$("row",{useDeprecatedLogic:!0});P$("column",{useDeprecatedLogic:!0});P$("cell",{useDeprecatedLogic:!0});function zv(t,e){const n=t.selection;if(!(n instanceof Ls))return!1;if(e){const r=t.tr,i=N$(t.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new he(i,0,0))}),r.docChanged&&e(r)}return!0}hj({ArrowLeft:Vv("horiz",-1),ArrowRight:Vv("horiz",1),ArrowUp:Vv("vert",-1),ArrowDown:Vv("vert",1),"Shift-ArrowLeft":Wv("horiz",-1),"Shift-ArrowRight":Wv("horiz",1),"Shift-ArrowUp":Wv("vert",-1),"Shift-ArrowDown":Wv("vert",1),Backspace:zv,"Mod-Backspace":zv,Delete:zv,"Mod-Delete":zv});function Ab(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function Vv(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof Ls)return Ab(n,r,Me.near(o.$headCell,e));if(t!="horiz"&&!o.empty)return!1;const s=mte(i,t,e);if(s==null)return!1;if(t=="horiz")return Ab(n,r,Me.near(n.doc.resolve(o.head+e),e));{const a=n.doc.resolve(s),l=fte(a,t,e);let c;return l?c=Me.near(l,1):e<0?c=Me.near(n.doc.resolve(a.before(-1)),-1):c=Me.near(n.doc.resolve(a.after(-1)),1),Ab(n,r,c)}}}function Wv(t,e){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let s;if(o instanceof Ls)s=o;else{const l=mte(i,t,e);if(l==null)return!1;s=new Ls(n.doc.resolve(l))}const a=fte(s.$headCell,t,e);return a?Ab(n,r,new Ls(s.$anchorCell,a)):!1}}function mte(t,e,n){if(!(t.state.selection instanceof We))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),a=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(a)?s:null}}return null}new Zt("tableColumnResizing");const H4=5*1024*1024,RQe=async(t,e,n)=>{var i;if(!t)throw new Error("No file provided");if(t.size>H4)throw new Error(`File size exceeds maximum allowed (${H4/(1024*1024)}MB)`);const r=(i=document.cookie.split("; ").find(o=>o.startsWith("XSRF-TOKEN=")))==null?void 0:i.split("=")[1];if(!r)try{await fetch("/sanctum/csrf-cookie")}catch(o){console.warn("Failed to refresh CSRF cookie",o)}return new Promise((o,s)=>{const a=new XMLHttpRequest;a.open("POST","/api/v1/email/media/upload"),r&&a.setRequestHeader("X-XSRF-TOKEN",decodeURIComponent(r)),a.setRequestHeader("Accept","application/json"),a.upload.onprogress=c=>{if(c.lengthComputable&&e){const u=Math.round(c.loaded/c.total*100);e({progress:u})}},a.onload=()=>{var c;if(a.status>=200&&a.status<300)try{const u=JSON.parse(a.responseText),d=u.url||((c=u.data)==null?void 0:c.url)||u.path;d?o(d):s(new Error("Invalid server response: missing URL"))}catch{s(new Error("Failed to parse server response"))}else s(new Error(`Upload failed: ${a.statusText} (${a.status})`))},a.onerror=()=>s(new Error("Network error during upload")),a.onabort=()=>s(new Error("Upload cancelled")),n&&n.addEventListener("abort",()=>a.abort());const l=new FormData;l.append("file",t),a.send(l)})};function DQe({block:t,onChange:e}){const n=t.props,r=(s,a)=>e({...n,[s]:a}),i=w.useRef(null),o=async s=>{var c;const a=(c=s.target.files)==null?void 0:c[0];if(!a)return;const l=en.loading("Enviando imagem...");try{const u=await RQe(a);r("src",u),en.success("Imagem enviada com sucesso",{id:l})}catch(u){console.error("Erro ao enviar imagem:",u),en.error("Erro ao enviar imagem",{id:l})}finally{i.current&&(i.current.value="")}};return m.jsxs("div",{className:"w-64 shrink-0 border-l border-border bg-card p-4 space-y-5 overflow-y-auto",children:[m.jsx("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:o}),m.jsxs("h3",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:["Propriedades  ",t.type]}),t.type==="text"&&m.jsxs(m.Fragment,{children:[m.jsx(dt,{label:"Contedo",children:m.jsx(XN,{value:String(n.content),onChange:s=>r("content",s.target.value),rows:4,className:"text-sm"})}),m.jsx(dt,{label:"Tamanho da fonte",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ba,{value:[Number(n.fontSize)],onValueChange:([s])=>r("fontSize",s),min:10,max:48,step:1,className:"flex-1"}),m.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[String(n.fontSize),"px"]})]})}),m.jsx(dt,{label:"Cor do texto",children:m.jsx(nt,{type:"color",value:String(n.color),onChange:s=>r("color",s.target.value),className:"h-9 w-full"})}),m.jsx(dt,{label:"Alinhamento",children:m.jsx($E,{value:String(n.align),onChange:s=>r("align",s)})})]}),t.type==="image"&&m.jsxs(m.Fragment,{children:[m.jsx(dt,{label:"URL da imagem",children:m.jsxs("div",{className:"flex gap-2",children:[m.jsx(nt,{value:String(n.src),onChange:s=>r("src",s.target.value),className:"text-sm"}),m.jsx(Ge,{variant:"outline",size:"icon",className:"shrink-0",onClick:()=>{var s;return(s=i.current)==null?void 0:s.click()},title:"Carregar do PC",children:m.jsx(doe,{className:"h-4 w-4"})})]})}),m.jsx(dt,{label:"Texto alternativo",children:m.jsx(nt,{value:String(n.alt),onChange:s=>r("alt",s.target.value),className:"text-sm"})}),m.jsx(dt,{label:"Largura",children:m.jsx(nt,{value:String(n.width),onChange:s=>r("width",s.target.value),className:"text-sm",placeholder:"100% ou 300px"})})]}),t.type==="button"&&m.jsxs(m.Fragment,{children:[m.jsx(dt,{label:"Texto do boto",children:m.jsx(nt,{value:String(n.text),onChange:s=>r("text",s.target.value),className:"text-sm"})}),m.jsx(dt,{label:"URL",children:m.jsx(nt,{value:String(n.url),onChange:s=>r("url",s.target.value),className:"text-sm"})}),m.jsx(dt,{label:"Cor de fundo",children:m.jsx(nt,{type:"color",value:String(n.bgColor),onChange:s=>r("bgColor",s.target.value),className:"h-9 w-full"})}),m.jsx(dt,{label:"Cor do texto",children:m.jsx(nt,{type:"color",value:String(n.textColor),onChange:s=>r("textColor",s.target.value),className:"h-9 w-full"})}),m.jsx(dt,{label:"Alinhamento",children:m.jsx($E,{value:String(n.align),onChange:s=>r("align",s)})}),m.jsx(dt,{label:"Borda arredondada",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ba,{value:[Number(n.borderRadius)],onValueChange:([s])=>r("borderRadius",s),min:0,max:32,step:1,className:"flex-1"}),m.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[String(n.borderRadius),"px"]})]})})]}),t.type==="divider"&&m.jsxs(m.Fragment,{children:[m.jsx(dt,{label:"Espessura",children:m.jsx(ba,{value:[Number(n.height)],onValueChange:([s])=>r("height",s),min:1,max:8,step:1})}),m.jsx(dt,{label:"Cor",children:m.jsx(nt,{type:"color",value:String(n.color),onChange:s=>r("color",s.target.value),className:"h-9 w-full"})}),m.jsx(dt,{label:"Margem",children:m.jsx(ba,{value:[Number(n.margin)],onValueChange:([s])=>r("margin",s),min:0,max:48,step:4})})]}),t.type==="columns"&&m.jsxs(m.Fragment,{children:[m.jsx(dt,{label:"Nmero de colunas",children:m.jsxs(_s,{value:String(n.columns),onValueChange:s=>r("columns",Number(s)),children:[m.jsx(Fo,{children:m.jsx(js,{})}),m.jsxs(Bo,{children:[m.jsx($t,{value:"2",children:"2 Colunas"}),m.jsx($t,{value:"3",children:"3 Colunas"}),m.jsx($t,{value:"4",children:"4 Colunas"})]})]})}),m.jsx(dt,{label:"Espaamento",children:m.jsx(ba,{value:[Number(n.gap)],onValueChange:([s])=>r("gap",s),min:0,max:32,step:4})})]}),t.type==="html"&&m.jsx(dt,{label:"Cdigo HTML",children:m.jsx(XN,{value:String(n.code),onChange:s=>r("code",s.target.value),rows:8,className:"font-mono text-xs"})}),t.type==="video"&&m.jsxs(m.Fragment,{children:[m.jsx(dt,{label:"URL do vdeo",children:m.jsx(nt,{value:String(n.url),onChange:s=>r("url",s.target.value),className:"text-sm"})}),m.jsx(dt,{label:"Texto do thumbnail",children:m.jsx(nt,{value:String(n.thumbnailText),onChange:s=>r("thumbnailText",s.target.value),className:"text-sm"})}),m.jsx(dt,{label:"Largura",children:m.jsx(nt,{value:String(n.width),onChange:s=>r("width",s.target.value),className:"text-sm",placeholder:"100% ou 480px"})})]}),t.type==="spacer"&&m.jsx(dt,{label:"Altura (px)",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ba,{value:[Number(n.height)],onValueChange:([s])=>r("height",s),min:8,max:120,step:4,className:"flex-1"}),m.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[String(n.height),"px"]})]})}),t.type==="feed"&&m.jsxs(m.Fragment,{children:[m.jsx(dt,{label:"Nmero de itens",children:m.jsxs(_s,{value:String(n.items),onValueChange:s=>r("items",Number(s)),children:[m.jsx(Fo,{children:m.jsx(js,{})}),m.jsx(Bo,{children:[1,2,3,4,5].map(s=>m.jsxs($t,{value:String(s),children:[s," ",s===1?"item":"itens"]},s))})]})}),m.jsx(dt,{label:"Layout",children:m.jsxs(_s,{value:String(n.layout),onValueChange:s=>r("layout",s),children:[m.jsx(Fo,{children:m.jsx(js,{})}),m.jsxs(Bo,{children:[m.jsx($t,{value:"vertical",children:"Vertical"}),m.jsx($t,{value:"grid",children:"Grade"})]})]})})]}),t.type==="social"&&m.jsxs(m.Fragment,{children:[m.jsx(dt,{label:"Redes sociais",children:m.jsx("div",{className:"space-y-3",children:["facebook","instagram","twitter","linkedin","youtube","tiktok"].map(s=>{var l;const a=(n.networks||[]).includes(s);return m.jsxs("div",{className:"space-y-1",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:a,onChange:()=>{const c=n.networks||[];r("networks",a?c.filter(u=>u!==s):[...c,s])},className:"rounded border-gray-300 text-primary focus:ring-primary"}),m.jsx("span",{className:"capitalize",children:s})]}),a&&m.jsx(nt,{value:((l=n.links)==null?void 0:l[s])||"",onChange:c=>{const u=n.links||{};r("links",{...u,[s]:c.target.value})},placeholder:`URL do ${s}`,className:"h-7 text-xs"})]},s)})})}),m.jsx(dt,{label:"Cor dos cones",children:m.jsx(nt,{type:"color",value:String(n.color||"#333333"),onChange:s=>r("color",s.target.value),className:"h-9 w-full"})}),m.jsx(dt,{label:"Tamanho dos cones",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(ba,{value:[Number(n.iconSize)],onValueChange:([s])=>r("iconSize",s),min:20,max:48,step:2,className:"flex-1"}),m.jsxs("span",{className:"text-xs text-muted-foreground w-8 text-right",children:[String(n.iconSize),"px"]})]})}),m.jsx(dt,{label:"Alinhamento",children:m.jsx($E,{value:String(n.align),onChange:s=>r("align",s)})})]})]})}function dt({label:t,children:e}){return m.jsxs("div",{className:"space-y-1.5",children:[m.jsx(vt,{className:"text-xs text-muted-foreground",children:t}),e]})}function $E({value:t,onChange:e}){return m.jsxs(_s,{value:t,onValueChange:e,children:[m.jsx(Fo,{children:m.jsx(js,{})}),m.jsxs(Bo,{children:[m.jsx($t,{value:"left",children:"Esquerda"}),m.jsx($t,{value:"center",children:"Centro"}),m.jsx($t,{value:"right",children:"Direita"})]})]})}const LQe={text:{content:"Digite seu texto aqui...",fontSize:16,color:"#333333",align:"left"},image:{src:"https://placehold.co/600x200/1a8a8a/ffffff?text=Sua+Imagem",alt:"Imagem",width:"100%"},button:{text:"Clique Aqui",url:"#",bgColor:"#1a8a8a",textColor:"#ffffff",align:"center",borderRadius:6},divider:{height:1,color:"#e0e0e0",margin:16},columns:{columns:2,gap:16},html:{code:'<p style="color:#888;">HTML customizado</p>'},video:{src:"https://www.youtube.com/watch?v=1234567890",width:"100%",height:"auto"},spacer:{height:16},feed:{url:"https://www.instagram.com/feed",width:"100%",height:"auto"},social:{networks:["facebook","twitter","linkedin"],align:"center",iconSize:28,color:"#333333",links:{facebook:"https://facebook.com",twitter:"https://twitter.com",linkedin:"https://linkedin.com",instagram:"https://instagram.com",youtube:"https://youtube.com",tiktok:"https://tiktok.com"}}};function U4(){const t=di(),{id:e}=sh(),[n,r]=w.useState([]),[i,o]=w.useState(null),[s,a]=w.useState("Sem Ttulo"),[l,c]=w.useState("desktop"),[u,d]=w.useState(!1),[f,h]=w.useState(!1),{toast:p}=mo(),g=n.find(S=>S.id===i)??null;w.useEffect(()=>{if(n.length===0)return;const S=setTimeout(()=>{localStorage.setItem("template-draft",JSON.stringify(n))},1e3);return()=>clearTimeout(S)},[n]),w.useEffect(()=>{if(e){gue(e).then(k=>{a(k.data.name),r(k.data.content)}).catch(()=>{p({title:"Erro",description:"Template no encontrado",variant:"destructive"}),t("/templates")});return}const S=localStorage.getItem("template-draft");if(S)try{const k=JSON.parse(S);Array.isArray(k)?r(k):typeof k=="string"&&r([{id:B4(),type:"html",props:{code:k}}])}catch{}},[e,t,p]);const y=w.useCallback(S=>{const{source:k,destination:E,draggableId:A}=S;if(E){if(k.droppableId==="palette"&&E.droppableId==="canvas"){const O=A.replace("palette-",""),P={id:B4(),type:O,props:{...LQe[O]}};r(T=>{const N=[...T];return N.splice(E.index,0,P),N}),o(P.id);return}k.droppableId==="canvas"&&E.droppableId==="canvas"&&r(O=>{const P=[...O],[T]=P.splice(k.index,1);return P.splice(E.index,0,T),P})}},[]),v=w.useCallback(S=>{r(k=>k.filter(E=>E.id!==S)),i===S&&o(null)},[i]),b=w.useCallback(S=>{i&&r(k=>k.map(E=>E.id===i?{...E,props:S}:E))},[i]),x=async()=>{if(!s.trim()){p({title:"Erro",description:"O nome do template  obrigatrio.",variant:"destructive"});return}h(!0);try{e?(await vue(e,{name:s,content:n}),p({title:"Sucesso",description:"Template atualizado com sucesso."})):(await yue({name:s,content:n}),p({title:"Sucesso",description:"Template salvo com sucesso."}),localStorage.removeItem("template-draft")),t("/templates")}catch(S){console.error(S),p({title:"Erro",description:"Falha ao salvar template.",variant:"destructive"})}finally{h(!1)}},C=JSON.stringify(n,null,2);return m.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)]",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-border bg-card shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(sx,{to:"/templates",children:m.jsxs(Ge,{variant:"ghost",size:"sm",className:"gap-1.5",children:[m.jsx(eh,{className:"w-4 h-4"})," Voltar"]})}),m.jsx("div",{className:"h-5 w-px bg-border"}),m.jsx(nt,{value:s,onChange:S=>a(S.target.value),className:"h-8 w-64 bg-transparent border-transparent hover:border-input focus:border-input transition-colors",placeholder:"Nome do Template"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("div",{className:"flex items-center bg-secondary rounded-lg p-0.5",children:[m.jsx("button",{onClick:()=>c("desktop"),className:ce("p-1.5 rounded-md transition-colors",l==="desktop"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"),title:"Desktop",children:m.jsx(voe,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>c("mobile"),className:ce("p-1.5 rounded-md transition-colors",l==="mobile"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"),title:"Mobile",children:m.jsx(Ooe,{className:"w-4 h-4"})})]}),m.jsxs(Ge,{variant:"outline",size:"sm",className:"gap-1.5",onClick:()=>d(!0),children:[m.jsx(ioe,{className:"w-4 h-4"})," JSON"]}),m.jsx(Ge,{variant:"destructive",size:"sm",className:"gap-1.5",onClick:()=>{window.confirm("Tem certeza que deseja cancelar? Todas as alteraes no salvas sero perdidas.")&&(localStorage.removeItem("template-draft"),t("/templates"))},children:"Cancelar"}),m.jsxs(Ge,{size:"sm",className:"gap-1.5",onClick:x,disabled:f,children:[m.jsx(ZW,{className:"w-4 h-4"}),f?"Salvando...":"Salvar"]})]})]}),m.jsx(bZe,{onDragEnd:y,children:m.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[m.jsx(sQe,{}),m.jsx(lQe,{blocks:n,selectedId:i,previewMode:l,onSelect:o,onDelete:v}),g?m.jsx(DQe,{block:g,onChange:b}):m.jsx("div",{className:"w-64 shrink-0 border-l border-border bg-card p-4 flex items-center justify-center",children:m.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[m.jsx(rM,{className:"w-8 h-8 mx-auto mb-2 opacity-30"}),"Selecione um bloco para editar suas propriedades"]})})]})}),m.jsx(PQ,{open:u,onOpenChange:d,children:m.jsxs(r$,{className:"max-w-2xl max-h-[80vh]",children:[m.jsx(i$,{children:m.jsx(o$,{children:"Estrutura JSON do Template"})}),m.jsx("pre",{className:"bg-muted rounded-lg p-4 text-xs font-mono overflow-auto max-h-[60vh] whitespace-pre-wrap",children:C})]})})]})}function xo(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function wu(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const gte=6048e5,FQe=864e5;let BQe={};function lC(){return BQe}function Bg(t,e){var a,l,c,u;const n=lC(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=xo(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Lw(t){return Bg(t,{weekStartsOn:1})}function yte(t){const e=xo(t),n=e.getFullYear(),r=wu(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Lw(r),o=wu(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Lw(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function K4(t){const e=xo(t);return e.setHours(0,0,0,0),e}function G4(t){const e=xo(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function zQe(t,e){const n=K4(t),r=K4(e),i=+n-G4(n),o=+r-G4(r);return Math.round((i-o)/FQe)}function VQe(t){const e=yte(t),n=wu(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Lw(n)}function WQe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function HQe(t){if(!WQe(t)&&typeof t!="number")return!1;const e=xo(t);return!isNaN(Number(e))}function UQe(t){const e=xo(t),n=wu(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const KQe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},GQe=(t,e,n)=>{let r;const i=KQe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Vd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const qQe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YQe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},XQe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},JQe={date:Vd({formats:qQe,defaultWidth:"full"}),time:Vd({formats:YQe,defaultWidth:"full"}),dateTime:Vd({formats:XQe,defaultWidth:"full"})},ZQe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},QQe=(t,e,n,r)=>ZQe[t];function Mo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const eet={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tet={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},net={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ret={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iet={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oet={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},set=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aet={ordinalNumber:set,era:Mo({values:eet,defaultWidth:"wide"}),quarter:Mo({values:tet,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mo({values:net,defaultWidth:"wide"}),day:Mo({values:ret,defaultWidth:"wide"}),dayPeriod:Mo({values:iet,defaultWidth:"wide",formattingValues:oet,defaultFormattingWidth:"wide"})};function _o(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?uet(a,d=>d.test(s)):cet(a,d=>d.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function cet(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function uet(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vte(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const det=/^(\d+)(th|st|nd|rd)?/i,fet=/\d+/i,het={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pet={any:[/^b/i,/^(a|c)/i]},met={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},get={any:[/1/i,/2/i,/3/i,/4/i]},yet={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vet={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bet={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xet={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wet={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cet={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ket={ordinalNumber:vte({matchPattern:det,parsePattern:fet,valueCallback:t=>parseInt(t,10)}),era:_o({matchPatterns:het,defaultMatchWidth:"wide",parsePatterns:pet,defaultParseWidth:"any"}),quarter:_o({matchPatterns:met,defaultMatchWidth:"wide",parsePatterns:get,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_o({matchPatterns:yet,defaultMatchWidth:"wide",parsePatterns:vet,defaultParseWidth:"any"}),day:_o({matchPatterns:bet,defaultMatchWidth:"wide",parsePatterns:xet,defaultParseWidth:"any"}),dayPeriod:_o({matchPatterns:wet,defaultMatchWidth:"any",parsePatterns:Cet,defaultParseWidth:"any"})},Eet={code:"en-US",formatDistance:GQe,formatLong:JQe,formatRelative:QQe,localize:aet,match:ket,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Aet(t){const e=xo(t);return zQe(e,UQe(e))+1}function Oet(t){const e=xo(t),n=+Lw(e)-+VQe(e);return Math.round(n/gte)+1}function bte(t,e){var u,d,f,h;const n=xo(t),r=n.getFullYear(),i=lC(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(f=i.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=wu(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Bg(s,e),l=wu(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=Bg(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Tet(t,e){var a,l,c,u;const n=lC(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=bte(t,e),o=wu(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Bg(o,e)}function Net(t,e){const n=xo(t),r=+Bg(n,e)-+Tet(n,e);return Math.round(r/gte)+1}function ht(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ha={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return ht(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):ht(n+1,2)},d(t,e){return ht(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return ht(t.getHours()%12||12,e.length)},H(t,e){return ht(t.getHours(),e.length)},m(t,e){return ht(t.getMinutes(),e.length)},s(t,e){return ht(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return ht(i,e.length)}},Xu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q4={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ha.y(t,e)},Y:function(t,e,n,r){const i=bte(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return ht(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):ht(o,e.length)},R:function(t,e){const n=yte(t);return ht(n,e.length)},u:function(t,e){const n=t.getFullYear();return ht(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ht(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ht(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ha.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ht(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Net(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):ht(i,e.length)},I:function(t,e,n){const r=Oet(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):ht(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ha.d(t,e)},D:function(t,e,n){const r=Aet(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ht(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ht(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ht(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return ht(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xu.noon:r===0?i=Xu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xu.evening:r>=12?i=Xu.afternoon:r>=4?i=Xu.morning:i=Xu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ha.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ha.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ht(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):ht(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ha.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ha.s(t,e)},S:function(t,e){return ha.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return X4(r);case"XXXX":case"XX":return sc(r);case"XXXXX":case"XXX":default:return sc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return X4(r);case"xxxx":case"xx":return sc(r);case"xxxxx":case"xxx":default:return sc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Y4(r,":");case"OOOO":default:return"GMT"+sc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Y4(r,":");case"zzzz":default:return"GMT"+sc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return ht(r,e.length)},T:function(t,e,n){const r=t.getTime();return ht(r,e.length)}};function Y4(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+ht(o,2)}function X4(t,e){return t%60===0?(t>0?"-":"+")+ht(Math.abs(t)/60,2):sc(t,e)}function sc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=ht(Math.trunc(r/60),2),o=ht(r%60,2);return n+i+e+o}const J4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xte=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Pet=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return J4(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",J4(r,e)).replace("{{time}}",xte(i,e))},Met={p:xte,P:Pet},_et=/^D+$/,jet=/^Y+$/,$et=["D","DD","YY","YYYY"];function Iet(t){return _et.test(t)}function Ret(t){return jet.test(t)}function Det(t,e,n){const r=Let(t,e,n);if(console.warn(r),$et.includes(t))throw new RangeError(r)}function Let(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fet=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bet=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zet=/^'([^]*?)'?$/,Vet=/''/g,Wet=/[a-zA-Z]/;function Het(t,e,n){var u,d,f,h,p,g,y,v;const r=lC(),i=(n==null?void 0:n.locale)??r.locale??Eet,o=(n==null?void 0:n.firstWeekContainsDate)??((d=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(f=r.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,a=xo(t);if(!HQe(a))throw new RangeError("Invalid time value");let l=e.match(Bet).map(b=>{const x=b[0];if(x==="p"||x==="P"){const C=Met[x];return C(b,i.formatLong)}return b}).join("").match(Fet).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const x=b[0];if(x==="'")return{isToken:!1,value:Uet(b)};if(q4[x])return{isToken:!0,value:b};if(x.match(Wet))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const x=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Ret(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Iet(x))&&Det(x,e,String(t));const C=q4[x[0]];return C(a,x,i.localize,c)}).join("")}function Uet(t){const e=t.match(zet);return e?e[1].replace(Vet,"'"):t}const Ket={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Get=(t,e,n)=>{let r;const i=Ket[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},qet={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Yet={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Xet={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jet={date:Vd({formats:qet,defaultWidth:"full"}),time:Vd({formats:Yet,defaultWidth:"full"}),dateTime:Vd({formats:Xet,defaultWidth:"full"})},Zet={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Qet=(t,e,n,r)=>{const i=Zet[t];return typeof i=="function"?i(e):i},ett={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},ttt={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},ntt={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},rtt={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},itt={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},ott={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},stt=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"":n+""},att={ordinalNumber:stt,era:Mo({values:ett,defaultWidth:"wide"}),quarter:Mo({values:ttt,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mo({values:ntt,defaultWidth:"wide"}),day:Mo({values:rtt,defaultWidth:"wide"}),dayPeriod:Mo({values:itt,defaultWidth:"wide",formattingValues:ott,defaultFormattingWidth:"wide"})},ltt=/^(\d+)[o]?/i,ctt=/\d+/i,utt={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},dtt={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},ftt={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},htt={any:[/1/i,/2/i,/3/i,/4/i]},ptt={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},mtt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},gtt={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},ytt={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},vtt={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},btt={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},xtt={ordinalNumber:vte({matchPattern:ltt,parsePattern:ctt,valueCallback:t=>parseInt(t,10)}),era:_o({matchPatterns:utt,defaultMatchWidth:"wide",parsePatterns:dtt,defaultParseWidth:"any"}),quarter:_o({matchPatterns:ftt,defaultMatchWidth:"wide",parsePatterns:htt,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_o({matchPatterns:ptt,defaultMatchWidth:"wide",parsePatterns:mtt,defaultParseWidth:"any"}),day:_o({matchPatterns:gtt,defaultMatchWidth:"wide",parsePatterns:ytt,defaultParseWidth:"any"}),dayPeriod:_o({matchPatterns:vtt,defaultMatchWidth:"any",parsePatterns:btt,defaultParseWidth:"any"})},wtt={code:"pt-BR",formatDistance:Get,formatLong:Jet,formatRelative:Qet,localize:att,match:xtt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Stt(){const t=di(),{toast:e}=mo(),[n,r]=w.useState([]),[i,o]=w.useState(!0);w.useEffect(()=>{s()},[]);const s=async()=>{try{o(!0);const c=await SM();r(c.data)}catch{e({title:"Erro",description:"Falha ao carregar templates",variant:"destructive"})}finally{o(!1)}},a=async c=>{if(window.confirm("Tem certeza que deseja excluir este template?"))try{await bue(c),e({title:"Sucesso",description:"Template excludo com sucesso"}),s()}catch{e({title:"Erro",description:"Falha ao excluir template",variant:"destructive"})}},l=c=>{t(`/templates/editor/${c.id}`)};return m.jsxs("div",{className:"space-y-6 animate-slide-up p-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Templates"}),m.jsx("p",{className:"text-muted-foreground mt-2",children:"Gerencie seus modelos de e-mail"})]}),m.jsxs(Ge,{onClick:()=>{localStorage.removeItem("template-draft"),t("/templates/editor")},children:[m.jsx(eu,{className:"w-4 h-4 mr-2"}),"Novo Template"]})]}),i?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(a1,{className:"w-8 h-8 animate-spin text-primary"})}):n.length===0?m.jsxs("div",{className:"text-center py-12 border rounded-lg bg-card",children:[m.jsx("p",{className:"text-muted-foreground",children:"Nenhum template encontrado."}),m.jsx(Ge,{variant:"link",onClick:()=>t("/templates/editor"),className:"mt-2",children:"Criar meu primeiro template"})]}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(c=>m.jsxs("div",{className:"group relative border rounded-lg bg-card hover:shadow-md transition-shadow p-5 flex flex-col justify-between",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"h-32 bg-secondary/30 rounded-md flex items-center justify-center mb-4",children:m.jsx("span",{className:"text-4xl",children:""})}),m.jsx("h3",{className:"font-semibold text-lg truncate",title:c.name,children:c.name}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:["Atualizado em ",Het(new Date(c.updatedAt),"d 'de' MMM, yyyy",{locale:wtt})]})]}),m.jsxs("div",{className:"flex items-center gap-2 mt-4 pt-4 border-t",children:[m.jsxs(Ge,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>l(c),children:[m.jsx(eH,{className:"w-4 h-4 mr-2"}),"Editar"]}),m.jsx(Ge,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>a(c.id),children:m.jsx(Pd,{className:"w-4 h-4"})})]})]},c.id))})]})}const Ctt=new ace,ktt=()=>m.jsx(Bue,{children:m.jsx(cce,{client:Ctt,children:m.jsxs(Dle,{children:[m.jsx(bse,{}),m.jsx(aae,{}),m.jsx(cue,{basename:window.location.pathname.startsWith("/admin/crm/app")?"/admin/crm/app":"/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:m.jsxs(nue,{children:[m.jsxs(gn,{element:m.jsx(rde,{}),children:[m.jsx(gn,{path:"/",element:m.jsx(VDe,{})}),m.jsx(gn,{path:"/campaigns",element:m.jsx(MFe,{})}),m.jsx(gn,{path:"/campaigns/new",element:m.jsx(_Ge,{})}),m.jsx(gn,{path:"/campaigns/:id",element:m.jsx(ZGe,{})}),m.jsx(gn,{path:"/campaigns/:id/edit",element:m.jsx(jGe,{})}),m.jsx(gn,{path:"/contacts",element:m.jsx(mqe,{})}),m.jsx(gn,{path:"/contacts/new",element:m.jsx(yqe,{})}),m.jsx(gn,{path:"/contacts/:id",element:m.jsx(Cqe,{})}),m.jsx(gn,{path:"/contacts/:id/edit",element:m.jsx(vqe,{})}),m.jsx(gn,{path:"/automations",element:m.jsx(Eqe,{})}),m.jsx(gn,{path:"/automations/:id",element:m.jsx(Oqe,{})}),m.jsx(gn,{path:"/analytics",element:m.jsx(jqe,{})}),m.jsx(gn,{path:"/settings",element:m.jsx($qe,{})}),m.jsx(gn,{path:"/templates",element:m.jsx(Stt,{})}),m.jsx(gn,{path:"/templates/editor",element:m.jsx(U4,{})}),m.jsx(gn,{path:"/templates/editor/:id",element:m.jsx(U4,{})})]}),m.jsx(gn,{path:"*",element:m.jsx(Iqe,{})})]})})]})})});console.log("!!! APP INICIADO - VERSO COM DEBUG !!!");vW(document.getElementById("root")).render(m.jsx(ktt,{}));
